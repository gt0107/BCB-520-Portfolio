"0","# Read the Excel file"
"0","DOEawardsUI_Dates <- read_xlsx(""DOEawards.xlsx"")"
"2","New names:"
"0","filtered_data_UI_DOE <- DOEawardsUI_Dates %>%"
"0","  filter(Institution == 'Regents of the University of Idaho')"
"0",""
"0","# Assuming the start date column is named ""Start_Date"""
"0","ten_years_ago <- Sys.Date() - years(10)  # "
"0",""
"0","# Filter the data to include only awards that"
"0","filtered_data_UI_10y_DOE <- filtered_data_UI_DOE %>%"
"0","  filter(`Start Date` >= ten_years_ago)"
"0",""
"0","#USDA"
"0",""
"0","# Read the Excel file"
"0","USDAawardsUI_Dates <- read_xlsx(""USDAtoUI_Edited_YR.xlsx"")"
"0",""
"0","filtered_data_UI_USDA <- USDAawardsUI_Dates %>%"
"0","  filter(Institution == 'University of Idaho')"
"0",""
"0","# Assuming the start date column is named ""Start_Date"""
"0","ten_years_ago <- Sys.Date() - years(10)  # "
"0",""
"0","# Filter the data to include only awards that"
"0","filtered_data_UI_10y_USDA <- filtered_data_UI_USDA %>%"
"0","  filter(`Award Date` >= ten_years_ago)"
"0",""
"0","#NIH"
"0",""
"0","# Read the Excel file"
"0","NIHawardsUI_Dates <- read_xlsx(""UI_NIH_ALL_YR.xlsx"")"
"0",""
"0","filtered_data_UI_NIH <- NIHawardsUI_Dates %>%"
"0","  filter(Institution == 'UNIVERSITY OF IDAHO')"
"0",""
"0","# Assuming the start date column is named ""Start_Date"""
"0","ten_years_ago <- Sys.Date() - years(10)  # "
"0",""
"0","# Filter the data to include only awards that"
"0","# Assuming the date format is Month/Day/Year"
"0","filtered_data_UI_10y_NIH <- filtered_data_UI_NIH %>%"
"0","  filter(as.Date(`Project Start Date`, format = ""%m/%d/%Y"") >= ten_years_ago)"
"0",""
"0","#NSF"
"0","# Read the Excel file"
"0","NSFawardsUI_Dates <- read_xlsx(""NSF_ALL_YR.xlsx"")"
"0",""
"0","filtered_data_UI_NSF <- NSFawardsUI_Dates %>%"
"0","  filter(Institution == 'University of Idaho')"
"0",""
"0","# Assuming the start date column is named ""Start_Date"""
"0","ten_years_ago <- Sys.Date() - years(10)  # "
"0",""
"0","# Filter the data to include only awards that"
"0","# Assuming the date format is Month/Day/Year"
"0","filtered_data_UI_10y_NSF <- filtered_data_UI_NSF %>%"
"0","  filter(as.Date(StartDate, format = ""%m/%d/%Y"") >= ten_years_ago)"
"0",""
"0","# Assuming the column names for ""Start Date"" vary across datasets, replace ""Start Date"" with the actual column name for each dataset."
"0",""
"0","# For DOE dataset"
"0","filtered_data_UI_10y_DOE <- filtered_data_UI_10y_DOE %>%"
"0","  mutate(Start_Date = as.Date(`Start Date`, format = ""Start Date""))"
"0",""
"0","# For USDA dataset"
"0","filtered_data_UI_10y_USDA <- filtered_data_UI_10y_USDA %>%"
"0","  mutate(Start_Date = as.Date(`Award Date`, format = ""Award Date""))"
"0",""
"0","# For NIH dataset"
"0","filtered_data_UI_10y_NIH <- filtered_data_UI_10y_NIH %>%"
"0","  mutate(Start_Date = as.Date(`Project Start Date`, format = ""Project Start Date""))"
"0",""
"0","# For NSF dataset"
"0","filtered_data_UI_10y_NSF <- filtered_data_UI_10y_NSF %>%"
"0","  mutate(Start_Date = as.Date(StartDate, format = ""StartDate""))"
"0",""
"0","# Count the number of awards by award date for each dataset"
"0","award_counts_DOE <- filtered_data_UI_10y_DOE %>%"
"0","  count(`Start Date`)"
"0",""
"0","award_counts_USDA <- filtered_data_UI_10y_USDA %>%"
"0","  count(`Award Date`)"
"0",""
"0","award_counts_NIH <- filtered_data_UI_10y_NIH %>%"
"0","  count(`Project Start Date`)"
"0",""
"0","award_counts_NSF <- filtered_data_UI_10y_NSF %>%"
"0","  count(StartDate)"
"0",""
"0","# Add Sponsor column to each data frame"
"0","award_counts_DOE <- award_counts_DOE %>% mutate(Sponsor = ""DOE"")"
"0","award_counts_USDA <- award_counts_USDA %>% mutate(Sponsor = ""USDA"")"
"0","award_counts_NIH <- award_counts_NIH %>% mutate(Sponsor = ""NIH"")"
"0","award_counts_NSF <- award_counts_NSF %>% mutate(Sponsor = ""NSF"")"
"0",""
"0","# For DOE dataset"
"0","award_counts_DOE <- award_counts_DOE %>%"
"0","  rename(Start_Date = `Start Date`) %>%"
"0","  mutate(Sponsor = ""DOE"")"
"0",""
"0","# For USDA dataset"
"0","award_counts_USDA <- award_counts_USDA %>%"
"0","  rename(Start_Date = `Award Date`) %>%"
"0","  mutate(Sponsor = ""USDA"")"
"0",""
"0","# For NIH dataset"
"0","award_counts_NIH <- award_counts_NIH %>%"
"0","  rename(Start_Date = `Project Start Date`) %>%"
"0","  mutate(Sponsor = ""NIH"")"
"0",""
"0","# For NSF dataset"
"0","award_counts_NSF <- award_counts_NSF %>%"
"0","  rename(Start_Date = StartDate) %>%"
"0","  mutate(Sponsor = ""NSF"")"
"0",""
"0","# For DOE dataset"
"0","award_counts_DOE <- award_counts_DOE %>%"
"0","  mutate(Start_Date = as.Date(Start_Date, format = ""%m/%d/%Y"")) %>%"
"0","  mutate(Sponsor = ""DOE"")"
"0",""
"0","# For USDA dataset"
"0","award_counts_USDA <- award_counts_USDA %>%"
"0","  mutate(Start_Date = as.Date(Start_Date, format = ""%m/%d/%Y"")) %>%"
"0","  mutate(Sponsor = ""USDA"")"
"0",""
"0","# For NIH dataset"
"0","award_counts_NIH <- award_counts_NIH %>%"
"0","  mutate(Start_Date = as.Date(Start_Date, format = ""%m/%d/%Y"")) %>%"
"0","  mutate(Sponsor = ""NIH"")"
"0",""
"0","# For NSF dataset"
"0","award_counts_NSF <- award_counts_NSF %>%"
"0","  mutate(Start_Date = as.Date(Start_Date, format = ""%m/%d/%Y"")) %>%"
"0","  mutate(Sponsor = ""NSF"")"
"0",""
"0",""
"0","# Combine all dataframes into a single dataframe"
"0","all_award_counts <- bind_rows("
"0","  award_counts_DOE,"
"0","  award_counts_USDA,"
"0","  award_counts_NIH,"
"0","  award_counts_NSF"
"0",")"
"0",""
"0","# Define colors for each sponsor"
"0","sponsor_colors <- c(""DOE"" = ""darkgray"", ""NSF"" = ""gold"", ""NIH"" = ""black"", ""USDA"" = ""lightgray"")"
"0",""
"0","# Plot the timeline with overlapping lines, adjusted x-axis labels, individual colors, and centralized title"
"0","ggplot(all_award_counts, aes(x = Start_Date, color = Sponsor, group = Sponsor)) +"
"0","  geom_freqpoly(binwidth = 30, size = 1) +"
"0","  labs(title = ""Awards Timeline by Sponsor"","
"0","       x = ""Start Date"","
"0","       y = ""Count"") +"
"0","  scale_x_date(date_breaks = ""1 year"", date_labels = ""%Y"", expand = c(0, 0)) +"
"0","  scale_color_manual(values = sponsor_colors) +"
"0","  theme_minimal() +"
"0","  theme("
"0","    plot.title = element_text(hjust = 0.5)"
"0","  )"
"2","Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
Please use `linewidth` instead."
