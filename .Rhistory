# Rename columns to a common set of names
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PM")
# Rename columns to a common set of names
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
# Rename columns to a common set of names
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1_1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor2 <- read.csv("USDAtoUI.csv")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to a common set of names
awards_data_sponsor1_1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
View(awards_data_sponsor1_1)
# Rename columns to a common set of names
awards_data_sponsor1_1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor2 <- read.csv("USDAtoUI.csv")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
View(awards_data_sponsor1)
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI/Project Leader")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Project Start Date", EndDate = "Project End Date", Amount = "Total Cost", PIName = "Contact PI/Project Leader")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI/Project Leader")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Combine the data
awards_data <- bind_rows(
sponsor1 = mutate(awards_data_sponsor1, Sponsor = "Sponsor 1"),
sponsor3 = mutate(awards_data_sponsor3, Sponsor = "Sponsor 2"),
sponsor4 = mutate(awards_data_sponsor4, Sponsor = "Sponsor 2")
)
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = mutate(awards_data_sponsor1, Sponsor = "Sponsor 1"),
sponsor3 = mutate(awards_data_sponsor3, Sponsor = "Sponsor 2"),
sponsor4 = mutate(awards_data_sponsor4, Sponsor = "Sponsor 3")
)
View(awards_data)
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_dumbbell(size = 6, color = "black", stroke = 2, linetype = "solid") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_dumbbell(size = 6, color = "black", stroke = 2, linetype = "solid") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_dumbbell(size = 6, color = "black", stroke = 2, linetype = "solid") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_dumbbell(size = 6, color = "black", stroke = 2, linetype = "solid") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_dumbbell(size = 6, color = "black", stroke = 2, linetype = "solid") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_dumbbell(size = 6, color = "black", stroke = 2, linetype = "solid") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Convert Amount column to numeric in all datasets
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
# Convert StartDate and EndDate columns to Date objects
awards_data <- awards_data %>%
mutate(StartDate = as.Date(StartDate),
EndDate = as.Date(EndDate))
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
# Create the Gantt chart using geom_segment
ggplot(active_awards, aes(y = Sponsor, x = StartDate, xend = EndDate, color = Sponsor)) +
geom_segment(size = 6, color = "black") +
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Sponsor",
color = "Sponsor") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Add a new column indicating the source of funding
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Source = "DOE")
awards_data_sponsor2 <- mutate(awards_data_sponsor2, Source = "USDA")
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Source = "NSF")
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Source = "NIH")
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor2 = awards_data_sponsor2,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Add a new column indicating the source of funding
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Source = "DOE")
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Source = "NSF")
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Source = "NIH")
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Add a new column indicating the source of funding
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Source = "DOE")
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Source = "NSF")
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Source = "NIH")
# Convert Amount column to numeric type
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
# Filter for active awards
current_date <- Sys.Date()
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Add a new column indicating the source of funding
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Source = "DOE")
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Source = "NSF")
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Source = "NIH")
# Convert Amount column to numeric type
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)  # Close bind_rows() function call
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
ggplot(active_awards, aes(y = Source, x = StartDate, xend = EndDate, color = Source)) +
geom_segment(aes(size = 6, color = "black")) +  # Use linewidth instead of size
scale_x_date(date_breaks = "1 year", date_labels = "%Y") +
labs(title = "Active Awards Timeline",
x = "Timeline",
y = "Source of Funding",
color = "Source of Funding") +
theme_minimal() +
theme(legend.position = "bottom")
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Create a new data frame without NA values
cleaned_data <- na.omit(original_data)
# Create a new data frame without NA values
cleaned_data <- na.omit(awards_data_sponsor4)
# Remove rows with NA values in specific columns
cleaned_data <-awards_data_sponsor4[complete.cases(awards_data_sponsor4$Amount ]
# Remove rows with NA values in specific columns
cleaned_data <-awards_data_sponsor4[complete.cases(awards_data_sponsor4$Amount)]
library(readxl)
library(dplyr)
library(ggplot2)
library(ggstance)
# Read data from each Excel file
awards_data_sponsor1 <- read_excel("DOEawards.xlsx")
awards_data_sponsor3 <- read_excel("NSFUI_2.xlsx")
awards_data_sponsor4 <- read_excel("NIHUI_2.xlsx")
# Rename columns to ensure consistency
awards_data_sponsor1 <- rename(awards_data_sponsor1, StartDate = "Start Date", EndDate = "End Date", Amount = "Amount Awarded to Date", PIName = "PI")
awards_data_sponsor3 <- rename(awards_data_sponsor3, StartDate = "StartDate", EndDate = "EndDate", Amount = "AwardedAmountToDate", PIName = "PrincipalInvestigator")
awards_data_sponsor4 <- rename(awards_data_sponsor4, StartDate = "Budget Start Date", EndDate = "Budget End Date", Amount = "Total Cost", PIName = "Contact PI / Project Leader")
# Add a new column indicating the source of funding
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Source = "DOE")
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Source = "NSF")
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Source = "NIH")
# Convert Amount column to numeric type
awards_data_sponsor1 <- mutate(awards_data_sponsor1, Amount = as.numeric(Amount))
awards_data_sponsor3 <- mutate(awards_data_sponsor3, Amount = as.numeric(Amount))
awards_data_sponsor4 <- mutate(awards_data_sponsor4, Amount = as.numeric(Amount))
# Combine the data
awards_data <- bind_rows(
sponsor1 = awards_data_sponsor1,
sponsor3 = awards_data_sponsor3,
sponsor4 = awards_data_sponsor4
)  # Close bind_rows() function call
# Filter for active awards
current_date <- Sys.Date()
active_awards <- awards_data %>%
filter(EndDate >= current_date)
# Create the Gantt chart
