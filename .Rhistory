# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1)) +  # Rotate x-axis labels
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
gplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
# Assuming you have a dataframe named Q1_Data with columns: Sponsor, Start_Date, End_Date, Amount, and PI_Name
# Convert dates to proper date format
Q1_Data$StartDate <- as.Date(Q1_Data$StartDate)
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate)
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
# Assuming you have a dataframe named Q1_Data with columns: Sponsor, Start_Date, End_Date, Amount, and PI_Name
# Assuming 'EndDate' is in the format 'YYYY-MM-DD', adjust the format string accordingly
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate, format = "%Y-%m-%d")
# Convert dates to proper date format
Q1_Data$StartDate <- as.Date(Q1_Data$StartDate)
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate)
# Filter for active awards (where the current date is between Start_Date and End_Date)
active_awards <- Q1_Data[Sys.Date() >= Q1_Data$StartDate & Sys.Date() <= Q1_Data$EndDate, ]
# Create a faceted plot showing active awards for each sponsor
ggplot(active_awards, aes(x = PI, y = Amount, fill = Sponsor)) +
geom_bar(stat = "identity") +
facet_wrap(~ Sponsor) +
labs(x = "Principal Investigator", y = "Amount", title = "Active Awards by Sponsor") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
# Assuming you have a dataframe named Q1_Data with columns: Sponsor, Start_Date, End_Date, Amount, and PI_Name
# Filter out rows with missing end dates
Q1_Data <- Q1_Data[!is.na(Q1_Data$EndDate), ]
# Assuming 'EndDate' is in the format 'YYYY-MM-DD', adjust the format string accordingly
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate, format = "%Y-%m-%d")
# Convert dates to proper date format
Q1_Data$StartDate <- as.Date(Q1_Data$StartDate)
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate)
# Filter for active awards (where the current date is between Start_Date and End_Date)
active_awards <- Q1_Data[Sys.Date() >= Q1_Data$StartDate & Sys.Date() <= Q1_Data$EndDate, ]
# Create a faceted plot showing active awards for each sponsor
ggplot(active_awards, aes(x = PI, y = Amount, fill = Sponsor)) +
geom_bar(stat = "identity") +
facet_wrap(~ Sponsor) +
labs(x = "Principal Investigator", y = "Amount", title = "Active Awards by Sponsor") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
# Assuming you have a dataframe named Q1_Data with columns: Sponsor, Start_Date, End_Date, Amount, and PI_Name
# Filter out rows with missing end dates
Q1_Data <- Q1_Data[!is.na(Q1_Data$EndDate), ]
# Assuming 'EndDate' is in the format 'YYYY-MM-DD', adjust the format string accordingly
Q1_Data$StartDate <- as.Date(Q1_Data$StartDate, format = "%Y-%m-%d")
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate, format = "%Y-%m-%d")
# Convert dates to proper date format
Q1_Data$StartDate <- as.Date(Q1_Data$StartDate)
Q1_Data$EndDate <- as.Date(Q1_Data$EndDate)
# Filter for active awards (where the current date is between Start_Date and End_Date)
active_awards <- Q1_Data[Sys.Date() >= Q1_Data$StartDate & Sys.Date() <= Q1_Data$EndDate, ]
# Create a faceted plot showing active awards for each sponsor
ggplot(active_awards, aes(x = PI, y = Amount, fill = Sponsor)) +
geom_bar(stat = "identity") +
facet_wrap(~ Sponsor) +
labs(x = "Principal Investigator", y = "Amount", title = "Active Awards by Sponsor") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_Data <- read_xlsx("Q1_Compilled_Data_3.xlsx")
# Remove commas and dollar signs from the 'Amount' column and convert to numeric
Q1_Data$Amount <- as.numeric(gsub("[,$]", "", Q1_Data$Amount))
# Assuming your data frame has columns 'PI', 'Amount', and 'Sponsor'
# Perform necessary data manipulation
data <- Q1_Data %>%
group_by(PI, Sponsor) %>%
summarise(total_amount = sum(Amount, na.rm = TRUE)) %>%
ungroup() %>%
group_by(PI) %>%
mutate(total_amount = sum(total_amount)) %>%
ungroup() %>%
mutate(percentage = total_amount / sum(total_amount))
# Create stacked bar plot using ggplot2
ggplot(data, aes(x = reorder(PI, total_amount), y = percentage, fill = Sponsor)) +
geom_bar(stat = "identity") +
labs(x = "PI Names", y = "Percentage") +
scale_fill_brewer(palette = "Set3") +  # Choose color palette
theme_minimal() +  # Optional: apply a minimal theme
theme(axis.text.x = element_text(angle = 45, hjust = 1),
plot.title = element_text(size = 20),  # Increase title size
axis.title.x = element_text(size = 16),  # Increase x-axis label size
axis.title.y = element_text(size = 16),  # Increase y-axis label size
axis.text = element_text(size = 14),  # Increase axis tick label size
legend.text = element_text(size = 14),  # Increase legend text size
legend.title = element_text(size = 16))  # Increase legend title size
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
View(Q1_NIH)
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
View(data)
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
# Create a violin plot
ggplot(data, aes(x = PI, y = Amount)) +
geom_violin() +
labs(title = "Distribution of Amount Awarded to Principal Investigators",
x = "Principal Investigator",
y = "Amount Awarded") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
# Assuming 'data' contains the subset of data with 'Amount' and 'PI' columns
# Replace 'data' with your actual dataset name
# Determine the range for the y-axis
y_range <- range(data$Amount)  # This will find the minimum and maximum values in the 'Amount' column
# Extend the y-axis range by a factor (e.g., 10%)
extension_factor <- 0.1  # You can adjust this factor based on your preference
# Compute the extended y-axis limits
extended_y_limits <- c(y_range[1] - extension_factor * diff(y_range),
y_range[2] + extension_factor * diff(y_range))
# Create a violin plot with extended y-axis
ggplot(data, aes(x = PI, y = Amount)) +
geom_violin() +
ylim(extended_y_limits) +  # Set the y-axis limits
labs(title = "Distribution of Amount Awarded to Principal Investigators",
x = "Principal Investigator",
y = "Amount Awarded") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
# Create a violin plot with extended y-axis
ggplot(data, aes(x = PI, y = Amount)) +
geom_violin() +
ylim(extended_y_limits) +  # Set the y-axis limits
labs(title = "Distribution of Amount Awarded to Principal Investigators",
x = "Principal Investigator",
y = "Amount Awarded") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
# COMPARISON BETWEEEN NIH - AWARD MONEY - CALCULATED THE AVERAGE INSTEAD THE TOTAL AMMOUNT
library(dplyr)
library(ggplot2)
# Calculate total award money for each institution, removing NA values in TotalCost
NIH_total_award_money <- NIH_Compare_Data %>%
group_by(OrganizationName) %>%
summarise(NIH_total_award_money = sum(TotalCost, na.rm = TRUE))
# Colors
my_colors_3 <- c("BOISE STATE UNIVERSITY" = "orange", "IDAHO STATE UNIVERSITY" = "black", "UNIVERSITY OF IDAHO" = "gold")
library(ggplot2)
ggplot(NIH_total_award_money, aes(x = OrganizationName, y = NIH_total_award_money)) +
geom_bar(stat = "identity", position = "dodge", fill = my_colors_3)  +
ggtitle("Total of Award Money from NIH Grants") +
xlab("") +
ylab("Total Award Money") +
theme_minimal() +
theme(axis.text.x = element_text(angle = 45, hjust = 1, size = 12),  # Adjust size of x-axis labels
axis.text.y = element_text(size = 12),  # Adjust size of y-axis labels
legend.text = element_text(size = 12),  # Adjust size of legend text
plot.title = element_text(hjust = 0.5, size = 14)) +  # Adjust size of plot title
scale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = "M"))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
# Create a violin plot with extended y-axis
ggplot(data, aes(x = PI, y = Amount)) +
geom_violin() +
ylim(extended_y_limits) +  # Set the y-axis limits
labs(title = "Distribution of Amount Awarded to Principal Investigators",
x = "Principal Investigator",
y = "Amount Awarded") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
scale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = "M"))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
# Create a violin plot with extended y-axis
ggplot(data, aes(x = PI, y = Amount)) +
geom_violin() +
ylim(extended_y_limits) +  # Set the y-axis limits
labs(title = "Distribution of Amount Awarded to Principal Investigators",
x = "Principal Investigator",
y = "Amount Awarded") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
scale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = "M"))
library(readxl)
library(dplyr)
library(ggplot2)
library(tidyr)
# Read the Excel file
Q1_NIH <- read_xlsx("Q1_NIH.xlsx")
# View the data related to Amount and PI columns
data <- Q1_NIH[, c("Amount", "PI")]
head(data)
# Define the extended y-axis limits
extended_y_limits <- c(0, 10000000)  # For example, extend the y-axis from 0 to 10,000,000 (10 million)
# Create a violin plot with extended y-axis
ggplot(data, aes(x = PI, y = Amount)) +
geom_violin() +
ylim(extended_y_limits) +  # Set the y-axis limits
labs(title = "Distribution of Amount Awarded to Principal Investigators",
x = "Principal Investigator",
y = "Amount Awarded") +
theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1)) +
scale_y_continuous(labels = scales::number_format(scale = 1e-6, suffix = "M"))
library(ggplot2)
library(dplyr)
# Assuming you have a data frame named awards_data with columns PI, StartDate, EndDate, and Amount
# Convert StartDate and EndDate to Date objects
awards_data$StartDate <- as.Date(awards_data$StartDate)
awards_data$EndDate <- as.Date(awards_data$EndDate)
# Create a data frame with cumulative amounts awarded to each PI over time
cumulative_data <- awards_data %>%
group_by(PI) %>%
mutate(CumulativeAmount = cumsum(Amount)) %>%
ungroup()
View(awards_data)
library(ggplot2)
library(dplyr)
# Assuming you have a data frame named awards_data with columns PI, StartDate, EndDate, and Amount
# Convert StartDate and EndDate to Date objects
awards_data$StartDate <- as.Date(awards_data$StartDate)
awards_data$EndDate <- as.Date(awards_data$EndDate)
# Create a data frame with cumulative amounts awarded to each PI over time
cumulative_data <- awards_data %>%
group_by(PIName) %>%
mutate(CumulativeAmount = cumsum(Amount)) %>%
ungroup()
# Create the line plot
ggplot(cumulative_data, aes(x = StartDate, y = CumulativeAmount, color = PI)) +
geom_line() +
labs(title = "Cumulative Amount Awarded to PIs Over Time",
x = "Start Date",
y = "Cumulative Amount Awarded",
color = "PI") +
theme_minimal()
library(ggplot2)
library(dplyr)
# Assuming you have a data frame named awards_data with columns PI, StartDate, EndDate, and Amount
# Convert StartDate and EndDate to Date objects
awards_data$StartDate <- as.Date(awards_data$StartDate)
awards_data$EndDate <- as.Date(awards_data$EndDate)
# Create a data frame with cumulative amounts awarded to each PI over time
cumulative_data <- awards_data %>%
group_by(PIName) %>%
mutate(CumulativeAmount = cumsum(Amount)) %>%
ungroup()
# Create the line plot
ggplot(cumulative_data, aes(x = StartDate, y = CumulativeAmount, color = PIName)) +
geom_line() +
labs(title = "Cumulative Amount Awarded to PIs Over Time",
x = "Start Date",
y = "Cumulative Amount Awarded",
color = "PI") +
theme_minimal()
