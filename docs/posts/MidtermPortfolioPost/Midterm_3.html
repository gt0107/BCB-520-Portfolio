<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Geraline Trossi-Torres">
<meta name="dcterms.date" content="2024-03-29">
<meta name="description" content="Let’s do some visualizations on how well University of Idaho is acquiring grants">

<title>BCB 520 Portfolio - BCB 520 - Midterm Portfolio Post</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="customstyles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">BCB 520 Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">HOME</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/gt0107" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/geraline-trossi-torres" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">BCB 520 - Midterm Portfolio Post</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
            <p class="subtitle lead">Let’s look at funding!</p>
                  <div>
        <div class="description">
          Let’s do some visualizations on how well University of Idaho is acquiring grants
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">Midterm</div>
                <div class="quarto-category">DataViz</div>
                <div class="quarto-category">Visualization</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Geraline Trossi-Torres </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 29, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="preamble" class="level2">
<h2 class="anchored" data-anchor-id="preamble">PREAMBLE</h2>
<p>In this blog post, you will get more insight into how much federal funding is awarded at the University of Idaho (UI) by the following federal agencies: the Department of Energy (DOE), the US Department of Agriculture (NIFA), the National Institute of Health (NIH), and National Science Foundation (NSF). These agencies provide funding to different types/ areas of research (agriculture, engineering, biology, computer science, physics, social science, etc.), and we want to determine how much money is going into these types of research. We also are looking at the timeline trend of how much funding is awarded at UI compared to previous years and if there’s any positive or negative impact. We can also see the longevity of the funding, like how long that funding is available. We also did a comparison between institutions in how much funding is awarded across institutions, we compared UI with Boise State University and Idaho State University. This information will provide a general understanding of where UI stands and how it competes with other institutions in acquiring federal funding from those agencies. By the end of this blog post, you will understand the distribution of awarded federal funding across these agencies.</p>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">DATA</h2>
<p>The data was acquired by the database of each of these federal agencies, the data is open for the public and you can obtain information of currently active/past research projects by institution and principal investigator (PI).</p>
<section id="data-dictionary" class="level3">
<h3 class="anchored" data-anchor-id="data-dictionary">Data Dictionary</h3>
<p>This data dictionary provides an overview of the variables that was used in each individual dataset, along with their descriptions and data types. This will give us more understanding of the structure of the data that was selected and will facilitate in the analysis and the interpretation of how UI stands in means of funding from each individual federal agency.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>DataDictionary <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Data Dictionary.xlsx"</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DataDictionary ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Data Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Award Number</td>
<td style="text-align: left;">Unique identifier for the award</td>
<td style="text-align: left;">Character</td>
</tr>
<tr class="even">
<td style="text-align: left;">Institution</td>
<td style="text-align: left;">Name of the institution receiving the award</td>
<td style="text-align: left;">Character</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PI</td>
<td style="text-align: left;">Principal Investigator</td>
<td style="text-align: left;">Character</td>
</tr>
<tr class="even">
<td style="text-align: left;">Start Date</td>
<td style="text-align: left;">Start date of the award</td>
<td style="text-align: left;">Date</td>
</tr>
<tr class="odd">
<td style="text-align: left;">End Date</td>
<td style="text-align: left;">End date of the award</td>
<td style="text-align: left;">Date</td>
</tr>
<tr class="even">
<td style="text-align: left;">Amount</td>
<td style="text-align: left;">Amount awarded for the project</td>
<td style="text-align: left;">Numeric</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="summary-of-data-sources" class="level3">
<h3 class="anchored" data-anchor-id="summary-of-data-sources">Summary of Data Sources</h3>
<p>Each of these data sets will provide information in how much money is entering UI. This provide insight, where these funds is being used, like these awarded funding are used to support the activities that are conducted to support the research project, which this is also includes the funding for faculty salaries, graduate student stipends, equipment purchases, and other research-related expenses. This will also help the UI administration to have an overall general idea how these resources are being used and how is benefiting the institution.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
NOTE
</div>
</div>
<div class="callout-body-container callout-body">
<p>Some of these data sets are long and extensive and it was shorten, for your benefit to be able to visualize how the data table looks like.</p>
</div>
</div>
<section id="doe-awards-data-doeawards.xlsx" class="level4">
<h4 class="anchored" data-anchor-id="doe-awards-data-doeawards.xlsx">DOE Awards Data (DOEawards.xlsx)</h4>
<p>This dataset contains information about awards provided by the Department of Energy (DOE).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>DOEawardsUI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>, <span class="at">.name_repair =</span> <span class="st">"minimal"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>DOEawardsUI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>DOEUI_General <span class="ot">&lt;-</span> DOEawardsUI <span class="sc">%&gt;%</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Regents of the University of Idaho'</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>DOEUI_New_Awards <span class="ot">&lt;-</span> DOEUI_General <span class="sc">%&gt;%</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, Institution, PI, Status, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>, <span class="st">`</span><span class="at">Program Office</span><span class="st">`</span>, <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Most Recent Award Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DOEUI_New_Awards))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 39%">
<col style="width: 11%">
<col style="width: 7%">
<col style="width: 2%">
<col style="width: 3%">
<col style="width: 14%">
<col style="width: 3%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: left;">Institution</th>
<th style="text-align: left;">PI</th>
<th style="text-align: left;">Status</th>
<th style="text-align: left;">Action Type</th>
<th style="text-align: left;">Program Office</th>
<th style="text-align: left;">Start Date</th>
<th style="text-align: left;">End Date</th>
<th style="text-align: left;">Most Recent Award Date</th>
<th style="text-align: right;">Amount Awarded to Date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Nuclear Theory at the University of Idaho</td>
<td style="text-align: left;">Regents of the University of Idaho</td>
<td style="text-align: left;">Sammarruca, Francesca</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Renewal</td>
<td style="text-align: left;">Office of Nuclear Physics</td>
<td style="text-align: left;">12/01/2021</td>
<td style="text-align: left;">11/30/2024</td>
<td style="text-align: left;">12/29/2023</td>
<td style="text-align: right;">1812000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Converting methoxy groups on lignin-derived aromatics from a toxic hurdle to a useful resource: a systems-driven approach</td>
<td style="text-align: left;">Regents of the University of Idaho</td>
<td style="text-align: left;">Marx, Christopher</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Biological &amp; Environmental Research</td>
<td style="text-align: left;">09/01/2021</td>
<td style="text-align: left;">08/31/2024</td>
<td style="text-align: left;">08/02/2023</td>
<td style="text-align: right;">1404162</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Integrative Imaging of Plant Roots during Symbiosis with Mycorrhizal Fungi</td>
<td style="text-align: left;">Regents of the University of Idaho</td>
<td style="text-align: left;">Vasdekis, Andreas</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Biological &amp; Environmental Research</td>
<td style="text-align: left;">08/15/2021</td>
<td style="text-align: left;">08/14/2024</td>
<td style="text-align: left;">06/26/2023</td>
<td style="text-align: right;">1519359</td>
</tr>
<tr class="even">
<td style="text-align: left;">Nutrient and Fine Sediment Transport Driven by Perturbations in River Bed Movement</td>
<td style="text-align: left;">Regents of the University of Idaho</td>
<td style="text-align: left;">Yager, Elowyn</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Biological &amp; Environmental Research</td>
<td style="text-align: left;">09/01/2020</td>
<td style="text-align: left;">08/31/2024</td>
<td style="text-align: left;">04/12/2023</td>
<td style="text-align: right;">603903</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>DOEawardsUI <span class="ot">&lt;-</span> <span class="fu">suppressMessages</span>(<span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="usda-to-ui-awards-data-usdatoui.csv" class="level4">
<h4 class="anchored" data-anchor-id="usda-to-ui-awards-data-usdatoui.csv">USDA to UI Awards Data (USDAtoUI.csv):</h4>
<p>This dataset includes awards data related to the University of Idaho (UI) received from the U.S. Department of Agriculture (USDA).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(readxl))</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tidyverse))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>USDAUI  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"USDAtoUI.csv"</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(USDAUI))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 7%">
<col style="width: 12%">
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 19%">
<col style="width: 10%">
<col style="width: 9%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Award.Date</th>
<th style="text-align: left;">Grant.Number</th>
<th style="text-align: left;">Proposal.Number</th>
<th style="text-align: left;">Grant.Title</th>
<th style="text-align: left;">State.Name</th>
<th style="text-align: left;">Grantee.Name</th>
<th style="text-align: right;">Award.Dollars</th>
<th style="text-align: left;">Program.Name</th>
<th style="text-align: left;">Program.Area.Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2010-09-30</td>
<td style="text-align: left;">2010-48679-01200</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">SAES - UNIVERSITY OF IDAHO</td>
<td style="text-align: right;">7495</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="even">
<td style="text-align: left;">2009-09-30</td>
<td style="text-align: left;">2009-48679-01200</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">SAES - UNIVERSITY OF IDAHO</td>
<td style="text-align: right;">6813</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2008-09-30</td>
<td style="text-align: left;">2008-48679-01200</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">SAES - UNIVERSITY OF IDAHO</td>
<td style="text-align: right;">8524</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="even">
<td style="text-align: left;">2003-09-30</td>
<td style="text-align: left;">2003-48604-01200</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">SAES - UNIVERSITY OF IDAHO</td>
<td style="text-align: right;">1097</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2010-09-30</td>
<td style="text-align: left;">2010-48024-01200</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">SAES - UNIVERSITY OF IDAHO</td>
<td style="text-align: right;">11997</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
<tr class="even">
<td style="text-align: left;">2009-09-30</td>
<td style="text-align: left;">2009-48024-01200</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">SAES - UNIVERSITY OF IDAHO</td>
<td style="text-align: right;">14990</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">N/A</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'Date' is the column containing the grant date information</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-03-15"</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>UIgrants_recent_grantsUSDA <span class="ot">&lt;-</span> USDAUI <span class="sc">%&gt;%</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Award.Date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> Award.Date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Award.Date))</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-01-01"</span>)</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-12-31"</span>)</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>UIgrants_2024_grantsUSDA <span class="ot">&lt;-</span> UIgrants_recent_grantsUSDA <span class="sc">%&gt;%</span> </span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Award.Date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> Award.Date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">UIgrants_2024_grantsUSDA =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="nsf-ui-awards-data-nsfui_2.xlsx" class="level4">
<h4 class="anchored" data-anchor-id="nsf-ui-awards-data-nsfui_2.xlsx">NSF UI Awards Data (NSFUI_2.xlsx)</h4>
<p>This dataset consists of awards data from the National Science Foundation (NSF) received by the University of Idaho (UI).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># Ensure knitr is explicitly loaded for kable()</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset from an Excel file</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>NSFUIAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSFUI_2.xlsx"</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific columns, ensure there are no leading or trailing spaces in column names</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>NSFUI_New_Awards_Specific <span class="ot">&lt;-</span> NSFUIAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, NSFOrganization, StartDate, LastAmendmentDate, EndDate, AwardedAmountToDate)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the first few rows in a table format</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NSFUI_New_Awards_Specific))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 70%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 7%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: left;">NSFOrganization</th>
<th style="text-align: left;">StartDate</th>
<th style="text-align: left;">LastAmendmentDate</th>
<th style="text-align: left;">EndDate</th>
<th style="text-align: left;">AwardedAmountToDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">RII Track-1: Idaho Community-engaged Resilience for Energy-Water Systems (I-CREWS)</td>
<td style="text-align: left;">OIA</td>
<td style="text-align: left;">08/01/2023</td>
<td style="text-align: left;">09/11/2023</td>
<td style="text-align: left;">07/31/2028</td>
<td style="text-align: left;">$2,099,031.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">RII Track-1: Linking Genome to Phenome to Predict Adaptive Responses of Organisms to Changing Landscapes</td>
<td style="text-align: left;">OIA</td>
<td style="text-align: left;">10/01/2018</td>
<td style="text-align: left;">09/07/2022</td>
<td style="text-align: left;">03/31/2024</td>
<td style="text-align: left;">$20,000,000.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">RII Track-2 FEC: Developing a Circular Bio-Based Framework For Architecture, Engineering and Construction Through Additive Manufacturing</td>
<td style="text-align: left;">OIA</td>
<td style="text-align: left;">10/01/2021</td>
<td style="text-align: left;">08/23/2023</td>
<td style="text-align: left;">09/30/2025</td>
<td style="text-align: left;">$2,999,475.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Phase III IUCRC at University of Idaho: Center for Advanced Forestry Systems</td>
<td style="text-align: left;">EEC</td>
<td style="text-align: left;">12/15/2019</td>
<td style="text-align: left;">03/11/2024</td>
<td style="text-align: left;">11/30/2024</td>
<td style="text-align: left;">$693,814.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Conference: NSF EPSCoR Workshop: Intelligent Manufacturing for Extreme Environments</td>
<td style="text-align: left;">OIA</td>
<td style="text-align: left;">09/01/2023</td>
<td style="text-align: left;">08/17/2023</td>
<td style="text-align: left;">08/31/2024</td>
<td style="text-align: left;">$99,445.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Collaborative Research: As above so below: Quantifying the role of simultaneous LLSVPs and continents on Earth’s cooling history using numerical simulations of mantle convection</td>
<td style="text-align: left;">EAR</td>
<td style="text-align: left;">07/01/2023</td>
<td style="text-align: left;">06/08/2023</td>
<td style="text-align: left;">06/30/2026</td>
<td style="text-align: left;">$120,952.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="nih-ui-awards-data-nihui_2.xlsx" class="level4">
<h4 class="anchored" data-anchor-id="nih-ui-awards-data-nihui_2.xlsx">NIH UI Awards Data (NIHUI_2.xlsx)</h4>
<p>This dataset contains information about awards received by the University of Idaho (UI) from the National Institutes of Health (NIH).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>NIHUIAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIHUI_2.xlsx"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>NIHUI_New_Awards_Specific <span class="ot">&lt;-</span> NIHUIAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">'Project Title'</span>, <span class="st">'Administering IC'</span>, <span class="st">'Award Notice Date'</span>, <span class="st">`</span><span class="at">Opportunity Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget End Date</span><span class="st">`</span>, <span class="st">'Total Cost'</span>, <span class="st">'Total Cost (Sub Projects)'</span>, <span class="st">'Funding IC(s)'</span>, <span class="st">'Direct Cost IC'</span>, <span class="st">'InDirect Cost IC'</span>, <span class="st">'Total Cost IC'</span>)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NIHUI_New_Awards_Specific))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Project Title</th>
<th style="text-align: left;">Administering IC</th>
<th style="text-align: left;">Award Notice Date</th>
<th style="text-align: left;">Opportunity Number</th>
<th style="text-align: left;">Project Number</th>
<th style="text-align: left;">Project Start Date</th>
<th style="text-align: left;">Project End Date</th>
<th style="text-align: left;">Budget Start Date</th>
<th style="text-align: left;">Budget End Date</th>
<th style="text-align: right;">Total Cost</th>
<th style="text-align: right;">Total Cost (Sub Projects)</th>
<th style="text-align: left;">Funding IC(s)</th>
<th style="text-align: right;">Direct Cost IC</th>
<th style="text-align: right;">InDirect Cost IC</th>
<th style="text-align: right;">Total Cost IC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Idaho INBRE Administrative Core</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">9/18/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3P20GM103408-23S4</td>
<td style="text-align: left;">9/30/2001</td>
<td style="text-align: left;">4/30/2024</td>
<td style="text-align: left;">5/1/2023</td>
<td style="text-align: left;">4/30/2024</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">848625</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">610878</td>
<td style="text-align: right;">237747</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Center for Modeling Complex Interactions</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">9/12/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3P20GM104420-09S1</td>
<td style="text-align: left;">3/15/2015</td>
<td style="text-align: left;">6/30/2025</td>
<td style="text-align: left;">7/1/2023</td>
<td style="text-align: left;">6/30/2024</td>
<td style="text-align: right;">266181</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: right;">375566</td>
<td style="text-align: right;">181166</td>
<td style="text-align: right;">266181</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Idaho INBRE Program</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">9/18/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3P20GM103408-23S4</td>
<td style="text-align: left;">9/30/2001</td>
<td style="text-align: left;">4/30/2024</td>
<td style="text-align: left;">5/1/2023</td>
<td style="text-align: left;">4/30/2024</td>
<td style="text-align: right;">848625</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: right;">610878</td>
<td style="text-align: right;">237747</td>
<td style="text-align: right;">848625</td>
</tr>
<tr class="even">
<td style="text-align: left;">Identifying phage-bacteria interactions using a multispecies model</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">8/17/2023</td>
<td style="text-align: left;">PAR-19-312</td>
<td style="text-align: left;">5P20GM104420-09</td>
<td style="text-align: left;">3/15/2015</td>
<td style="text-align: left;">6/30/2025</td>
<td style="text-align: left;">7/1/2023</td>
<td style="text-align: left;">6/30/2024</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">152932</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">106362</td>
<td style="text-align: right;">46570</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sequence-structure-function relationships in human visual photopigments</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">8/17/2023</td>
<td style="text-align: left;">PAR-19-312</td>
<td style="text-align: left;">5P20GM104420-09</td>
<td style="text-align: left;">3/15/2015</td>
<td style="text-align: left;">6/30/2025</td>
<td style="text-align: left;">7/1/2023</td>
<td style="text-align: left;">6/30/2024</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">156572</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">109348</td>
<td style="text-align: right;">47224</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Idaho INBRE Administrative Core</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">5/8/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3P20GM103408-23S1</td>
<td style="text-align: left;">9/30/2001</td>
<td style="text-align: left;">4/30/2024</td>
<td style="text-align: left;">5/1/2023</td>
<td style="text-align: left;">4/30/2024</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">190515</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">165515</td>
<td style="text-align: right;">25000</td>
<td style="text-align: right;">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</section>
</section>
<section id="data-visualization-and-analysis" class="level2">
<h2 class="anchored" data-anchor-id="data-visualization-and-analysis">DATA VISUALIZATION AND ANALYSIS</h2>
<p>The following visualizations is going to help us visualize UI’s longevity and distribution of the university’s portfolio of current and past awards. It will helps us identify if there are awards that are nearing their expiration.Also, will be doing a comparison with UI between two peer institutions: Boise State University and Idaho State University. This will help us understand UI’s performance in securing federal funding, and how those it measures up against to the other institutions within the same region.</p>
<section id="university-of-idaho---current-and-future-portfolio" class="level3">
<h3 class="anchored" data-anchor-id="university-of-idaho---current-and-future-portfolio">University of Idaho - Current and Future Portfolio</h3>
<p>I am creating visualization that will displays the active awards from each sponsor, including their start and end dates, the amount of the award, and the name of the Principal Investigator. This will provide insights of the longevity of the University of Idaho current portfolio of awards. This will also help us identify what awards are near expiration, and which one ones has a longer duration, and to identify if any of these patterns may differ across federal agencies. Ultimately, these visualizations will provide an aid to have an understanding of the sustainability of UIs funding from different federal agencies.</p>
<p>In our first visualization (<strong>Figure 1</strong>), its a general overview of the longevity of our current active awards. By, looking at this Timeline chart, we can easily point out that our <strong>NSF</strong> awards has the longest longevity (meaning we will have funding until 2028). Looking at <strong>NIH</strong> and <strong>DOE</strong> awards timeline their awards are ending in the year 2024, that is something to keep in mind and following up with the PIs that have those funding to see if they applied for new grants.</p>
<p><em>USDA data was not added in this timeline chart because it didn’t provide an end date of their current active awards, so for this time of grant will be analyzed and visualized differently</em></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>Q1_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>Q1_Data<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_Data<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>Q1_Data<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_Data<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>Q1_Data <span class="ot">&lt;-</span> Q1_Data[<span class="fu">complete.cases</span>(Q1_Data<span class="sc">$</span>StartDate, Q1_Data<span class="sc">$</span>EndDate), ]</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data, <span class="fu">aes</span>(<span class="at">y =</span> Sponsor, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>  <span class="co"># Use linewidth instead of size</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2029-01-01"</span>))) <span class="sc">+</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline"</span>,</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sponsor"</span>) <span class="sc">+</span></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.
ℹ Please use `linewidth` instead.</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 6 rows containing missing values (`geom_segment()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 1:</strong> Active Awards at UI. This Gantt Chart provides information of the longevity of the current awards that are at UI.</p>
<p>The previous visualization (<strong>Figure 1</strong>) was just an overview of the longevity of the current awards that are at UI. The following visualizations, we can see the active awards by sponsor and Principal Investigator (PI). By looking at these visualization we can determine the longevity of their active awards and compare/contrast between sponsors. By looking at these three visualizations (<strong>Figure 1</strong>, <strong>Figure 2</strong>, <strong>Figure 3</strong>), at a glance we can observe that we have more active awards in NSF compared to NIH and DOE, and these NSF awards has a longer end date by 2028, but still we some awards that ends in between 2024/2025 (like for the DOE and NIH awards).</p>
<p>By looking at these visualizations, we can say that for the sponsor <strong>DOE</strong>, we have only <strong>4 current PIs</strong> that have active awards (their expiration date is in late 2024). Which comes to a concern, because why PIs are not applying for awards at DOE, it is something to look into. Like, look for information what the DOE asks to apply for their awards, and also talk to those current PIs at UI, to have their perspective and how can we expand the university’s portfolio this specific sponsor. For the <strong>NIH and NSF</strong> awards, we have an active flow of awards, but still we have to look into those awards that are to be expired, and what are the plans from those current PIs.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"DOE"</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_DOE<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_DOE<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE <span class="ot">&lt;-</span> Q1_PI_DOE[<span class="fu">complete.cases</span>(Q1_PI_DOE<span class="sc">$</span>StartDate, Q1_PI_DOE<span class="sc">$</span>EndDate), ]</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_DOE, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> PI)) <span class="sc">+</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"darkgrey"</span>) <span class="sc">+</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))  <span class="co"># Set horizontal justification to center</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 2:</strong> Active Award by PI (DOE). This Gantt Chart provides information of the longevity of the current awards that are at UI by PI for DOE.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"NIH"</span>)</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NIH<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NIH<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH <span class="ot">&lt;-</span> Q1_PI_NIH[<span class="fu">complete.cases</span>(Q1_PI_NIH<span class="sc">$</span>StartDate, Q1_PI_NIH<span class="sc">$</span>EndDate), ]</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_NIH, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> PI)) <span class="sc">+</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))  <span class="co"># Set horizontal justification to center</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 3:</strong>Active Award by PI (NIH). This Gantt Chart provides information of the longevity of the current awards that are at UI by PI for NIH.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"NSF"</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_PI_NSF[<span class="fu">complete.cases</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, Q1_PI_NSF<span class="sc">$</span>EndDate), ]</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart with adjusted y-axis labels</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_NSF, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> PI)) <span class="sc">+</span></span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>))  <span class="co"># Reduce the size of y-axis labels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 4</strong>Active Award by PI (NSF). This Gantt Chart provides information of the longevity of the current awards that are at UI by PI for NSF.</p>
<p>For the following visualizations, is going to show the total of award money of each of the sponsors. On <strong>Figure 3</strong> we have a bar chart representing each of the sponsors and in the y axis we have the total of award money in millions. By looking at this graph we can say that <strong>NSF</strong> has the highest amount of award of our current active awards, and the least amount of awarded money is from the <strong>DOE</strong>, which is to be expected because we don’t have many active award from them.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># For formatting labels</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'scales'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    discard</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:readr':

    col_factor</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data_4.xlsx"</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Amount to numeric</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Q1_Data_Amount<span class="sc">$</span>Amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: NAs introduced by coercion</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if there are any non-numeric values in Amount</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>non_numeric <span class="ot">&lt;-</span> Q1_Data_Amount[<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">as.numeric</span>(Q1_Data_Amount<span class="sc">$</span>Amount)), ]</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the structure of the Amount variable</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Q1_Data_Amount<span class="sc">$</span>Amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:126] 0 266181 848625 0 0 ...</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot with colors assigned to each sponsor</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data_Amount, <span class="fu">aes</span>(<span class="at">x =</span> Sponsor, <span class="at">y =</span> Amount, <span class="at">fill =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"sum"</span>) <span class="sc">+</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Amount by Sponsor"</span>,</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Sponsor"</span>,</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust title alignment</span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> sponsor_colors)  <span class="co"># Use manually defined colors for each sponsor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 51 rows containing non-finite values (`stat_summary()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 5:</strong> Total Amount of Award in Curent Active Award from each Sponsor</p>
<p><strong>Figure 6</strong> is going to show the total of award money of each of the sponsors by each PI at UI. In this bar chart representing each of the sponsors, in the y axis we have the total of award money in millions, and in the x axis are the PIs that currently have funding from those sponsor. This will provide information how much funding is awarded to each PI for their research project. Knowing this type of information, you will now if that lab has funding to purchase materials, equipment, stipend for graduate/undergraduate for conducting research in their lab and also provide salary for their research technician or post-docs. The highest funding that we have is from <strong>NSF</strong> from a specific PI, and the following is <strong>NIH</strong>, for <strong>USDA</strong> the data is not presented, because in their data set doesn’t provide the list of the PIs.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Amount to numeric</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>Q1_Data<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Q1_Data<span class="sc">$</span>Amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: NAs introduced by coercion</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot with PI on the x-axis and filled bars by Sponsor</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data, <span class="fu">aes</span>(<span class="at">x =</span> PI, <span class="at">y =</span> Amount, <span class="at">fill =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"sum"</span>) <span class="sc">+</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Amount by PI and Sponsor"</span>,</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Principal Investigator"</span>,</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">8</span>),  <span class="co"># Adjust font size</span></span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust title alignment</span></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> sponsor_colors)  <span class="co"># Use manually defined colors for each sponsor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 51 rows containing non-finite values (`stat_summary()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 6:</strong>Total Amount of Award in Current Active Award from each Sponsor by PIs</p>
</section>
<section id="university-of-idaho---past-portfolio-10-years" class="level3">
<h3 class="anchored" data-anchor-id="university-of-idaho---past-portfolio-10-years">University of Idaho - Past Portfolio (10 Years)</h3>
<p>We already saw the current/future portfolio of UI, now lets see how was the performance of UI from the past 10 years. The reason that I am doing these specific visualization is to have a representation of new awards over the past 10 years. By doing this, we can identify trends that may lead to positive and/or negative developments in terms of UIs funding sponsors.By observing these trends, if we have an increasing of awards indicates a positive support from those sponsors, while if we have decrease of awards indicates a negative support from those sponsors, and we have to look more in detail why is there that decline and find solutions to improve in achieving acquiring awards from those sponsors.</p>
<p>In our first visualization (<strong>Figure 7</strong>), we can see the performance of UI for the past 10 years. This will provide an understanding of how UI performed in the past compared to our current standing. By looking at the graph we can say that the sponsor <strong>USDA</strong> has had the highest number of awards compared from the other sponsors, but looking at <strong>Figure 8</strong> we can see that the <strong>USDA</strong> doesn’t bring the highest total amount of awarded money in that case is <strong>NSF</strong> across the past 10 years. Meaning we may have a lot of grants coming from USDA but the awarded money is not the same as a grant from NSF. Now focusing on <strong>FIGURE 8</strong>, like I mention NSF is the highest in the total amount that is being award but across these 10 years there’s has been like an up and down, especially in 2019 and 2022 has the highest funding compared to the following years.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>DOEawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...27`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_DOE <span class="ot">&lt;-</span> DOEawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Regents of the University of Idaho'</span>)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_DOE <span class="ot">&lt;-</span> filtered_data_UI_DOE <span class="sc">%&gt;%</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">#USDA</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>USDAawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"USDAtoUI_Edited_YR.xlsx"</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_USDA <span class="ot">&lt;-</span> USDAawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_USDA <span class="ot">&lt;-</span> filtered_data_UI_USDA <span class="sc">%&gt;%</span></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co">#NIH</span></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>NIHawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"UI_NIH_ALL_YR.xlsx"</span>)</span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NIH <span class="ot">&lt;-</span> NIHawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'UNIVERSITY OF IDAHO'</span>)</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NIH <span class="ot">&lt;-</span> filtered_data_UI_NIH <span class="sc">%&gt;%</span></span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb31-41"><a href="#cb31-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-42"><a href="#cb31-42" aria-hidden="true" tabindex="-1"></a><span class="co">#NSF</span></span>
<span id="cb31-43"><a href="#cb31-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb31-44"><a href="#cb31-44" aria-hidden="true" tabindex="-1"></a>NSFawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_ALL_YR.xlsx"</span>)</span>
<span id="cb31-45"><a href="#cb31-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-46"><a href="#cb31-46" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NSF <span class="ot">&lt;-</span> NSFawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb31-47"><a href="#cb31-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb31-48"><a href="#cb31-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-49"><a href="#cb31-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb31-50"><a href="#cb31-50" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb31-51"><a href="#cb31-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-52"><a href="#cb31-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb31-53"><a href="#cb31-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb31-54"><a href="#cb31-54" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_NSF <span class="sc">%&gt;%</span></span>
<span id="cb31-55"><a href="#cb31-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb31-56"><a href="#cb31-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-57"><a href="#cb31-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the column names for "Start Date" vary across datasets, replace "Start Date" with the actual column name for each dataset.</span></span>
<span id="cb31-58"><a href="#cb31-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-59"><a href="#cb31-59" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb31-60"><a href="#cb31-60" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_DOE <span class="ot">&lt;-</span> filtered_data_UI_10y_DOE <span class="sc">%&gt;%</span></span>
<span id="cb31-61"><a href="#cb31-61" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"Start Date"</span>))</span>
<span id="cb31-62"><a href="#cb31-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-63"><a href="#cb31-63" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb31-64"><a href="#cb31-64" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_USDA <span class="ot">&lt;-</span> filtered_data_UI_10y_USDA <span class="sc">%&gt;%</span></span>
<span id="cb31-65"><a href="#cb31-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"Award Date"</span>))</span>
<span id="cb31-66"><a href="#cb31-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-67"><a href="#cb31-67" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb31-68"><a href="#cb31-68" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NIH <span class="ot">&lt;-</span> filtered_data_UI_10y_NIH <span class="sc">%&gt;%</span></span>
<span id="cb31-69"><a href="#cb31-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"Project Start Date"</span>))</span>
<span id="cb31-70"><a href="#cb31-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-71"><a href="#cb31-71" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb31-72"><a href="#cb31-72" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb31-73"><a href="#cb31-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"StartDate"</span>))</span>
<span id="cb31-74"><a href="#cb31-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-75"><a href="#cb31-75" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of awards by award date for each dataset</span></span>
<span id="cb31-76"><a href="#cb31-76" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> filtered_data_UI_10y_DOE <span class="sc">%&gt;%</span></span>
<span id="cb31-77"><a href="#cb31-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb31-78"><a href="#cb31-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-79"><a href="#cb31-79" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> filtered_data_UI_10y_USDA <span class="sc">%&gt;%</span></span>
<span id="cb31-80"><a href="#cb31-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>)</span>
<span id="cb31-81"><a href="#cb31-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-82"><a href="#cb31-82" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> filtered_data_UI_10y_NIH <span class="sc">%&gt;%</span></span>
<span id="cb31-83"><a href="#cb31-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>)</span>
<span id="cb31-84"><a href="#cb31-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-85"><a href="#cb31-85" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb31-86"><a href="#cb31-86" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(StartDate)</span>
<span id="cb31-87"><a href="#cb31-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-88"><a href="#cb31-88" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Sponsor column to each data frame</span></span>
<span id="cb31-89"><a href="#cb31-89" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> award_counts_DOE <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb31-90"><a href="#cb31-90" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> award_counts_USDA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb31-91"><a href="#cb31-91" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> award_counts_NIH <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb31-92"><a href="#cb31-92" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> award_counts_NSF <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb31-93"><a href="#cb31-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-94"><a href="#cb31-94" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb31-95"><a href="#cb31-95" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> award_counts_DOE <span class="sc">%&gt;%</span></span>
<span id="cb31-96"><a href="#cb31-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-97"><a href="#cb31-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb31-98"><a href="#cb31-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-99"><a href="#cb31-99" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb31-100"><a href="#cb31-100" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> award_counts_USDA <span class="sc">%&gt;%</span></span>
<span id="cb31-101"><a href="#cb31-101" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-102"><a href="#cb31-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb31-103"><a href="#cb31-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-104"><a href="#cb31-104" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb31-105"><a href="#cb31-105" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> award_counts_NIH <span class="sc">%&gt;%</span></span>
<span id="cb31-106"><a href="#cb31-106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-107"><a href="#cb31-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb31-108"><a href="#cb31-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-109"><a href="#cb31-109" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb31-110"><a href="#cb31-110" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> award_counts_NSF <span class="sc">%&gt;%</span></span>
<span id="cb31-111"><a href="#cb31-111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> StartDate) <span class="sc">%&gt;%</span></span>
<span id="cb31-112"><a href="#cb31-112" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb31-113"><a href="#cb31-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-114"><a href="#cb31-114" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb31-115"><a href="#cb31-115" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> award_counts_DOE <span class="sc">%&gt;%</span></span>
<span id="cb31-116"><a href="#cb31-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-117"><a href="#cb31-117" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb31-118"><a href="#cb31-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-119"><a href="#cb31-119" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb31-120"><a href="#cb31-120" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> award_counts_USDA <span class="sc">%&gt;%</span></span>
<span id="cb31-121"><a href="#cb31-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-122"><a href="#cb31-122" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb31-123"><a href="#cb31-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-124"><a href="#cb31-124" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb31-125"><a href="#cb31-125" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> award_counts_NIH <span class="sc">%&gt;%</span></span>
<span id="cb31-126"><a href="#cb31-126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-127"><a href="#cb31-127" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb31-128"><a href="#cb31-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-129"><a href="#cb31-129" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb31-130"><a href="#cb31-130" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> award_counts_NSF <span class="sc">%&gt;%</span></span>
<span id="cb31-131"><a href="#cb31-131" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-132"><a href="#cb31-132" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb31-133"><a href="#cb31-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-134"><a href="#cb31-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-135"><a href="#cb31-135" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all dataframes into a single dataframe</span></span>
<span id="cb31-136"><a href="#cb31-136" aria-hidden="true" tabindex="-1"></a>all_award_counts <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb31-137"><a href="#cb31-137" aria-hidden="true" tabindex="-1"></a>  award_counts_DOE,</span>
<span id="cb31-138"><a href="#cb31-138" aria-hidden="true" tabindex="-1"></a>  award_counts_USDA,</span>
<span id="cb31-139"><a href="#cb31-139" aria-hidden="true" tabindex="-1"></a>  award_counts_NIH,</span>
<span id="cb31-140"><a href="#cb31-140" aria-hidden="true" tabindex="-1"></a>  award_counts_NSF</span>
<span id="cb31-141"><a href="#cb31-141" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-142"><a href="#cb31-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-143"><a href="#cb31-143" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb31-144"><a href="#cb31-144" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb31-145"><a href="#cb31-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-146"><a href="#cb31-146" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the timeline with overlapping lines, adjusted x-axis labels, individual colors, and centralized title</span></span>
<span id="cb31-147"><a href="#cb31-147" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_award_counts, <span class="fu">aes</span>(<span class="at">x =</span> Start_Date, <span class="at">color =</span> Sponsor, <span class="at">group =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb31-148"><a href="#cb31-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">30</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb31-149"><a href="#cb31-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Awards Timeline by Sponsor"</span>,</span>
<span id="cb31-150"><a href="#cb31-150" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Start Date"</span>,</span>
<span id="cb31-151"><a href="#cb31-151" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb31-152"><a href="#cb31-152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb31-153"><a href="#cb31-153" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> sponsor_colors) <span class="sc">+</span></span>
<span id="cb31-154"><a href="#cb31-154" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-155"><a href="#cb31-155" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb31-156"><a href="#cb31-156" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb31-157"><a href="#cb31-157" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 7:</strong> Performance of UI from the past 10 years on total amount of awards</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>DOEawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...27`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_DOE <span class="ot">&lt;-</span> DOEawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Regents of the University of Idaho'</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_DOE <span class="ot">&lt;-</span> filtered_data_UI_DOE <span class="sc">%&gt;%</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="co">#USDA</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>USDAawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"USDAtoUI_Edited_YR.xlsx"</span>)</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_USDA <span class="ot">&lt;-</span> USDAawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_USDA <span class="ot">&lt;-</span> filtered_data_UI_USDA <span class="sc">%&gt;%</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a><span class="co">#NIH</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>NIHawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"UI_NIH_ALL_YR.xlsx"</span>)</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NIH <span class="ot">&lt;-</span> NIHawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'UNIVERSITY OF IDAHO'</span>)</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NIH <span class="ot">&lt;-</span> filtered_data_UI_NIH <span class="sc">%&gt;%</span></span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a><span class="co">#NSF</span></span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a>NSFawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_ALL_YR.xlsx"</span>)</span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NSF <span class="ot">&lt;-</span> NSFawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_NSF <span class="sc">%&gt;%</span></span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove dollar signs ($) and commas (,) from numeric columns</span></span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AwardedAmountToDate =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"[</span><span class="sc">\\</span><span class="st">$,]"</span>, <span class="st">""</span>, AwardedAmountToDate)))</span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum the total amount by start date for each sponsor</span></span>
<span id="cb34-63"><a href="#cb34-63" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> filtered_data_UI_10y_DOE <span class="sc">%&gt;%</span></span>
<span id="cb34-64"><a href="#cb34-64" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-65"><a href="#cb34-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>))</span>
<span id="cb34-66"><a href="#cb34-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-67"><a href="#cb34-67" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> filtered_data_UI_10y_USDA <span class="sc">%&gt;%</span></span>
<span id="cb34-68"><a href="#cb34-68" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-69"><a href="#cb34-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Award Dollars</span><span class="st">`</span>))</span>
<span id="cb34-70"><a href="#cb34-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-71"><a href="#cb34-71" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> filtered_data_UI_10y_NIH <span class="sc">%&gt;%</span></span>
<span id="cb34-72"><a href="#cb34-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-73"><a href="#cb34-73" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Total Cost</span><span class="st">`</span>))</span>
<span id="cb34-74"><a href="#cb34-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-75"><a href="#cb34-75" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb34-76"><a href="#cb34-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(StartDate) <span class="sc">%&gt;%</span></span>
<span id="cb34-77"><a href="#cb34-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(AwardedAmountToDate))</span>
<span id="cb34-78"><a href="#cb34-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-79"><a href="#cb34-79" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Sponsor column to each data frame</span></span>
<span id="cb34-80"><a href="#cb34-80" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> amount_sum_DOE <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb34-81"><a href="#cb34-81" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> amount_sum_USDA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb34-82"><a href="#cb34-82" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> amount_sum_NIH <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb34-83"><a href="#cb34-83" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> amount_sum_NSF <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb34-84"><a href="#cb34-84" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-85"><a href="#cb34-85" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb34-86"><a href="#cb34-86" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> amount_sum_DOE <span class="sc">%&gt;%</span></span>
<span id="cb34-87"><a href="#cb34-87" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-88"><a href="#cb34-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb34-89"><a href="#cb34-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-90"><a href="#cb34-90" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb34-91"><a href="#cb34-91" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> amount_sum_USDA <span class="sc">%&gt;%</span></span>
<span id="cb34-92"><a href="#cb34-92" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-93"><a href="#cb34-93" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb34-94"><a href="#cb34-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-95"><a href="#cb34-95" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb34-96"><a href="#cb34-96" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> amount_sum_NIH  <span class="sc">%&gt;%</span></span>
<span id="cb34-97"><a href="#cb34-97" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb34-98"><a href="#cb34-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb34-99"><a href="#cb34-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-100"><a href="#cb34-100" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb34-101"><a href="#cb34-101" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> amount_sum_NSF <span class="sc">%&gt;%</span></span>
<span id="cb34-102"><a href="#cb34-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> StartDate) <span class="sc">%&gt;%</span></span>
<span id="cb34-103"><a href="#cb34-103" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb34-104"><a href="#cb34-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-105"><a href="#cb34-105" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming Start_Date is in character format, convert it to datetime</span></span>
<span id="cb34-106"><a href="#cb34-106" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> amount_sum_DOE <span class="sc">%&gt;%</span></span>
<span id="cb34-107"><a href="#cb34-107" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb34-108"><a href="#cb34-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-109"><a href="#cb34-109" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> amount_sum_USDA <span class="sc">%&gt;%</span></span>
<span id="cb34-110"><a href="#cb34-110" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb34-111"><a href="#cb34-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-112"><a href="#cb34-112" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> amount_sum_NIH <span class="sc">%&gt;%</span></span>
<span id="cb34-113"><a href="#cb34-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb34-114"><a href="#cb34-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-115"><a href="#cb34-115" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> amount_sum_NSF <span class="sc">%&gt;%</span></span>
<span id="cb34-116"><a href="#cb34-116" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb34-117"><a href="#cb34-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-118"><a href="#cb34-118" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the data frames</span></span>
<span id="cb34-119"><a href="#cb34-119" aria-hidden="true" tabindex="-1"></a>all_amount_sum <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb34-120"><a href="#cb34-120" aria-hidden="true" tabindex="-1"></a>  amount_sum_DOE <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>),</span>
<span id="cb34-121"><a href="#cb34-121" aria-hidden="true" tabindex="-1"></a>  amount_sum_USDA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>),</span>
<span id="cb34-122"><a href="#cb34-122" aria-hidden="true" tabindex="-1"></a>  amount_sum_NIH <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>),</span>
<span id="cb34-123"><a href="#cb34-123" aria-hidden="true" tabindex="-1"></a>  amount_sum_NSF <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb34-124"><a href="#cb34-124" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-125"><a href="#cb34-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-126"><a href="#cb34-126" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb34-127"><a href="#cb34-127" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb34-128"><a href="#cb34-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-129"><a href="#cb34-129" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb34-130"><a href="#cb34-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-131"><a href="#cb34-131" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the timeline with overlapping lines, adjusted x-axis labels, individual colors, and centralized title</span></span>
<span id="cb34-132"><a href="#cb34-132" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_amount_sum, <span class="fu">aes</span>(<span class="at">x =</span> Start_Date, <span class="at">y =</span> Total_Amount <span class="sc">/</span> <span class="fl">1e6</span>, <span class="at">color =</span> Sponsor, <span class="at">group =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb34-133"><a href="#cb34-133" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-134"><a href="#cb34-134" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Awards Timeline by Sponsor - Total Amount"</span>,</span>
<span id="cb34-135"><a href="#cb34-135" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Start Date"</span>,</span>
<span id="cb34-136"><a href="#cb34-136" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb34-137"><a href="#cb34-137" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb34-138"><a href="#cb34-138" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb34-139"><a href="#cb34-139" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> sponsor_colors) <span class="sc">+</span></span>
<span id="cb34-140"><a href="#cb34-140" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-141"><a href="#cb34-141" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb34-142"><a href="#cb34-142" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb34-143"><a href="#cb34-143" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 1 row containing missing values (`geom_line()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 8:</strong>Performance of UI from the past 10 years of total of amount money awarded</p>
</section>
<section id="comparison-between-peers-institutions" class="level3">
<h3 class="anchored" data-anchor-id="comparison-between-peers-institutions">Comparison Between Peers Institutions</h3>
<p>We already saw how UI is performing with these sponsors, but now lest compare with the following peer institutions: Boise State University and Idaho State University. The aim for the following visualizations is to understand how UIs performance in securing awards, conducting research, and acquiring funding measures up against similar institutions in the region or within the same academic field.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
NOTE
</div>
</div>
<div class="callout-body-container callout-body">
<p>The following data sets are from the institutions of Boise State University and Idaho State University, the data set from University of Idaho is already been presented at the beginning of the blog post. Also, these data sets are long and extensive and it was shorten, for your benefit to be able to visualize how the data table looks like.</p>
</div>
</div>
<section id="boise-state-university---data-sources" class="level4">
<h4 class="anchored" data-anchor-id="boise-state-university---data-sources">Boise State University - Data Sources</h4>
<p><strong>Department of Agriculture (NIFA)</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>BSUUSDA  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"USDABSU.csv"</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(BSUUSDA,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 40%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Award.Date</th>
<th style="text-align: left;">Grant.Number</th>
<th style="text-align: left;">Proposal.Number</th>
<th style="text-align: left;">Grant.Title</th>
<th style="text-align: left;">State.Name</th>
<th style="text-align: left;">Grantee.Name</th>
<th style="text-align: right;">Award.Dollars</th>
<th style="text-align: left;">Program.Name</th>
<th style="text-align: left;">Program.Area.Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2003-11-14</td>
<td style="text-align: left;">2004-35302-14138</td>
<td style="text-align: left;">2003-01470</td>
<td style="text-align: left;">Host Selection Decisions and Mass Colonization in the Douglas-Fir Beetle, Dendroctonus Pseudotsugae (Coleoptera: Scolytidae)</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">BOISE STATE UNIVERSITY</td>
<td style="text-align: right;">70000</td>
<td style="text-align: left;">Organismal &amp; Population Biology of Arthropods &amp; Nematodes</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
<tr class="even">
<td style="text-align: left;">2003-08-13</td>
<td style="text-align: left;">2003-35101-13682</td>
<td style="text-align: left;">2003-01569</td>
<td style="text-align: left;">The Effects of Wildfire on Trophic Structure and Food Web Dynamics in Stream Ecosystems</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">BOISE STATE UNIVERSITY</td>
<td style="text-align: right;">66867</td>
<td style="text-align: left;">Managed Ecosystems</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2004-07-22</td>
<td style="text-align: left;">2004-35102-14802</td>
<td style="text-align: left;">2004-00882</td>
<td style="text-align: left;">Utilizing Ground-Penetrating Radar and Solute Tracer Experiments to Determine the Extent of the Hyporheic Zone in Mountain Streams</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">BOISE STATE UNIVERSITY</td>
<td style="text-align: right;">83489</td>
<td style="text-align: left;">Water and Watersheds</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
<tr class="even">
<td style="text-align: left;">2006-07-24</td>
<td style="text-align: left;">2006-35101-17430</td>
<td style="text-align: left;">2006-01372</td>
<td style="text-align: left;">Understanding Linkages Between Agricultural and Natural Systems: Trophic Structure, Pesticide Exposure, and Costs and Benefits of Group Liv</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">BOISE STATE UNIVERSITY</td>
<td style="text-align: right;">100000</td>
<td style="text-align: left;">Managed Ecosystems</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Department of Energy</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>DOEawardsBSU <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...27`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>DOEBSU_General <span class="ot">&lt;-</span> DOEawardsBSU <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Boise State University'</span>)</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>DOEBSU_New_Awards <span class="ot">&lt;-</span> DOEBSU_General <span class="sc">%&gt;%</span></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, Institution, PI, Status, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>, <span class="st">`</span><span class="at">Program Office</span><span class="st">`</span>, <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Most Recent Award Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DOEBSU_New_Awards,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 37%">
<col style="width: 8%">
<col style="width: 7%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 12%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: left;">Institution</th>
<th style="text-align: left;">PI</th>
<th style="text-align: left;">Status</th>
<th style="text-align: left;">Action Type</th>
<th style="text-align: left;">Program Office</th>
<th style="text-align: left;">Start Date</th>
<th style="text-align: left;">End Date</th>
<th style="text-align: left;">Most Recent Award Date</th>
<th style="text-align: right;">Amount Awarded to Date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Emerging Properties through Controlled Phase Transformations for High Energy Sodium Ion Batteries</td>
<td style="text-align: left;">Boise State University</td>
<td style="text-align: left;">Xiong, Hui (Claire)</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Basic Energy Sciences</td>
<td style="text-align: left;">08/15/2023</td>
<td style="text-align: left;">08/14/2026</td>
<td style="text-align: left;">09/23/2023</td>
<td style="text-align: right;">599992</td>
</tr>
<tr class="even">
<td style="text-align: left;">Uptake mechanisms of REE in sedimentary phosphorite mineral Sponsor: Department of Energy</td>
<td style="text-align: left;">Boise State University</td>
<td style="text-align: left;">Kohn, Matthew</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Basic Energy Sciences</td>
<td style="text-align: left;">09/01/2023</td>
<td style="text-align: left;">08/31/2026</td>
<td style="text-align: left;">09/14/2023</td>
<td style="text-align: right;">888250</td>
</tr>
<tr class="odd">
<td style="text-align: left;">DNA-Controlled Dye Aggregation ¿ A Path to Create Quantum Entanglement</td>
<td style="text-align: left;">Boise State University</td>
<td style="text-align: left;">Knowlton, William</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Renewal</td>
<td style="text-align: left;">Office of Basic Energy Sciences</td>
<td style="text-align: left;">08/15/2023</td>
<td style="text-align: left;">08/14/2025</td>
<td style="text-align: left;">08/31/2023</td>
<td style="text-align: right;">12500000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Neuromorphic Systems for Power Grid Cyber-Resilience</td>
<td style="text-align: left;">Boise State University</td>
<td style="text-align: left;">Cantley, Kurtis</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Basic Energy Sciences</td>
<td style="text-align: left;">09/01/2022</td>
<td style="text-align: left;">08/31/2025</td>
<td style="text-align: left;">08/07/2023</td>
<td style="text-align: right;">708985</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>National Institutes of Health (NIH)</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>NIHBSUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIHBSU_2.xlsx"</span>)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>NIHBSU_New_Awards_Specific <span class="ot">&lt;-</span> NIHBSUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">'Project Title'</span>, <span class="st">'Administering IC'</span>, <span class="st">'Award Notice Date'</span>, <span class="st">`</span><span class="at">Opportunity Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget End Date</span><span class="st">`</span>, <span class="st">'Total Cost'</span>, <span class="st">'Total Cost (Sub Projects)'</span>, <span class="st">'Funding IC(s)'</span>, <span class="st">'Direct Cost IC'</span>, <span class="st">'InDirect Cost IC'</span>, <span class="st">'Total Cost IC'</span>)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NIHBSU_New_Awards_Specific,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 23%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 6%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 3%">
<col style="width: 8%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Project Title</th>
<th style="text-align: left;">Administering IC</th>
<th style="text-align: left;">Award Notice Date</th>
<th style="text-align: left;">Opportunity Number</th>
<th style="text-align: left;">Project Number</th>
<th style="text-align: left;">Project Start Date</th>
<th style="text-align: left;">Project End Date</th>
<th style="text-align: left;">Budget Start Date</th>
<th style="text-align: left;">Budget End Date</th>
<th style="text-align: right;">Total Cost</th>
<th style="text-align: right;">Total Cost (Sub Projects)</th>
<th style="text-align: left;">Funding IC(s)</th>
<th style="text-align: right;">Direct Cost IC</th>
<th style="text-align: right;">InDirect Cost IC</th>
<th style="text-align: right;">Total Cost IC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Administrative Core</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">8/24/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3P20GM109095-10S1</td>
<td style="text-align: left;">8/1/2014</td>
<td style="text-align: left;">5/31/2024</td>
<td style="text-align: left;">6/1/2023</td>
<td style="text-align: left;">5/31/2024</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">723429</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">517798</td>
<td style="text-align: right;">205631</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: left;">Center of Biomedical Research Excellence in Matrix Biology Phase II</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">8/24/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3P20GM109095-10S1</td>
<td style="text-align: left;">8/1/2014</td>
<td style="text-align: left;">5/31/2024</td>
<td style="text-align: left;">6/1/2023</td>
<td style="text-align: left;">5/31/2024</td>
<td style="text-align: right;">723429</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: right;">517798</td>
<td style="text-align: right;">205631</td>
<td style="text-align: right;">723429</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Role of LINC-mediated Mechanosignaling in MSC Aging</td>
<td style="text-align: left;">NIA</td>
<td style="text-align: left;">1/29/2024</td>
<td style="text-align: left;">PA-16-442</td>
<td style="text-align: left;">5R01AG059923-05</td>
<td style="text-align: left;">3/1/2020</td>
<td style="text-align: left;">1/31/2025</td>
<td style="text-align: left;">2/1/2024</td>
<td style="text-align: left;">1/31/2025</td>
<td style="text-align: right;">252208</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NIA</td>
<td style="text-align: right;">184500</td>
<td style="text-align: right;">67708</td>
<td style="text-align: right;">252208</td>
</tr>
<tr class="even">
<td style="text-align: left;">Equipment for Spatiotemporal Dynamics of the Genome by 3D Orbital Tracking</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">5/23/2023</td>
<td style="text-align: left;">PA-20-272</td>
<td style="text-align: left;">3R15GM123446-02A1S1</td>
<td style="text-align: left;">5/17/2017</td>
<td style="text-align: left;">7/31/2025</td>
<td style="text-align: left;">8/1/2022</td>
<td style="text-align: left;">7/31/2025</td>
<td style="text-align: right;">97574</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: right;">97574</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">97574</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>National Science Foundation (NSF)</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset from an Excel file</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>NSFBSUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSFBSU_2.xlsx"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific columns, ensure there are no leading or trailing spaces in column names</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>NSFBSU_New_Awards_Specific <span class="ot">&lt;-</span> NSFBSUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, NSFOrganization, StartDate, LastAmendmentDate, EndDate, AwardedAmountToDate)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the first few rows in a table format</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NSFBSU_New_Awards_Specific,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 64%">
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: left;">NSFOrganization</th>
<th style="text-align: left;">StartDate</th>
<th style="text-align: left;">LastAmendmentDate</th>
<th style="text-align: left;">EndDate</th>
<th style="text-align: left;">AwardedAmountToDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Planning: Track 1: Curriculum and Advancements in Recruitment, Education, and Engineering Retention (CAREER)</td>
<td style="text-align: left;">EEC</td>
<td style="text-align: left;">07/15/2022</td>
<td style="text-align: left;">07/14/2022</td>
<td style="text-align: left;">06/30/2024</td>
<td style="text-align: left;">$99,808.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">IUCRC Phase II Boise State University: Center for Atomically Thin Multifunctional Coatings (ATOMIC)</td>
<td style="text-align: left;">EEC</td>
<td style="text-align: left;">08/01/2021</td>
<td style="text-align: left;">11/14/2023</td>
<td style="text-align: left;">07/31/2026</td>
<td style="text-align: left;">$582,631.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">MRI: Acquisition of a 600 MHz NMR Console and Cryoprobe to Support Research and Education at Boise State University</td>
<td style="text-align: left;">DBI</td>
<td style="text-align: left;">10/01/2022</td>
<td style="text-align: left;">08/10/2023</td>
<td style="text-align: left;">09/30/2025</td>
<td style="text-align: left;">$769,221.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">MRI: Track 1: Acquisition of a Liquid Chromatography-High Resolution Mass Spectrometry System for Multidisciplinary Research and Training</td>
<td style="text-align: left;">CHE</td>
<td style="text-align: left;">09/01/2023</td>
<td style="text-align: left;">08/22/2023</td>
<td style="text-align: left;">08/31/2026</td>
<td style="text-align: left;">$710,000.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="idaho-state-university---data-sources" class="level4">
<h4 class="anchored" data-anchor-id="idaho-state-university---data-sources">Idaho State University - Data Sources</h4>
<p><strong>Department of Energy</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>DOEaward <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...27`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>DOEIDAHOSATTE_General <span class="ot">&lt;-</span> DOEaward <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Idaho State University'</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>DOEDAHOSATTE_New_Awards <span class="ot">&lt;-</span> DOEIDAHOSATTE_General <span class="sc">%&gt;%</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, Institution, PI, Status, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>, <span class="st">`</span><span class="at">Program Office</span><span class="st">`</span>, <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Most Recent Award Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>)</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DOEDAHOSATTE_New_Awards,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 41%">
<col style="width: 8%">
<col style="width: 6%">
<col style="width: 2%">
<col style="width: 4%">
<col style="width: 11%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 8%">
<col style="width: 8%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: left;">Institution</th>
<th style="text-align: left;">PI</th>
<th style="text-align: left;">Status</th>
<th style="text-align: left;">Action Type</th>
<th style="text-align: left;">Program Office</th>
<th style="text-align: left;">Start Date</th>
<th style="text-align: left;">End Date</th>
<th style="text-align: left;">Most Recent Award Date</th>
<th style="text-align: right;">Amount Awarded to Date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Precision Electroweak Probe of BSM Physics</td>
<td style="text-align: left;">Idaho State University</td>
<td style="text-align: left;">McNulty, Dustin</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">Renewal</td>
<td style="text-align: left;">Office of Nuclear Physics</td>
<td style="text-align: left;">09/01/2023</td>
<td style="text-align: left;">08/31/2026</td>
<td style="text-align: left;">08/31/2023</td>
<td style="text-align: right;">1195000</td>
</tr>
<tr class="even">
<td style="text-align: left;">Mechanistic and Kinetic Analysis of Polymer Deconstruction and Modification by Irradiation for Polymer Upcycling</td>
<td style="text-align: left;">Idaho State University</td>
<td style="text-align: left;">Jenkins, Courtney</td>
<td style="text-align: left;">Active</td>
<td style="text-align: left;">New</td>
<td style="text-align: left;">Office of Basic Energy Sciences</td>
<td style="text-align: left;">09/01/2022</td>
<td style="text-align: left;">08/31/2025</td>
<td style="text-align: left;">07/24/2023</td>
<td style="text-align: right;">583930</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Department of Agriculture (NIFA)</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>ISUUSDA  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"USDAISU.csv"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(ISUUSDA,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 40%">
<col style="width: 3%">
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 16%">
<col style="width: 16%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Award.Date</th>
<th style="text-align: left;">Grant.Number</th>
<th style="text-align: left;">Proposal.Number</th>
<th style="text-align: left;">Grant.Title</th>
<th style="text-align: left;">State.Name</th>
<th style="text-align: left;">Grantee.Name</th>
<th style="text-align: right;">Award.Dollars</th>
<th style="text-align: left;">Program.Name</th>
<th style="text-align: left;">Program.Area.Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2002-07-19</td>
<td style="text-align: left;">2002-35320-12359</td>
<td style="text-align: left;">2002-00673</td>
<td style="text-align: left;">Instrumentation for Evaluating the Role of Photosynthetic Ecophysiology in Plant Invasions of Semiarid Communities</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">IDAHO STATE UNIVERSITY</td>
<td style="text-align: right;">24464</td>
<td style="text-align: left;">Biology of Weedy &amp; Invasive Species in Agroecosystems</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
<tr class="even">
<td style="text-align: left;">2003-07-28</td>
<td style="text-align: left;">2003-35206-13612</td>
<td style="text-align: left;">2003-03242</td>
<td style="text-align: left;">Metabolic Consequences of Lipid Suppression on Carbohydrate Tolerance and Growth Performance in Rainbow Trout (Oncorhynchus Mykiss)</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">IDAHO STATE UNIVERSITY</td>
<td style="text-align: right;">74759</td>
<td style="text-align: left;">Animal Growth and Nutrient Utilization</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
<tr class="odd">
<td style="text-align: left;">2006-08-23</td>
<td style="text-align: left;">2006-35320-17463</td>
<td style="text-align: left;">2006-03625</td>
<td style="text-align: left;">Land Effects:Peristence Exotic Forbs in Sagebrush Steppe:Are Loss of Foundation Species/Disruption Soil Resource Partitioning Causal Links?</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">IDAHO STATE UNIVERSITY</td>
<td style="text-align: right;">323764</td>
<td style="text-align: left;">Biology of Weedy &amp; Invasive Species in Agroecosystems</td>
<td style="text-align: left;">National Research Initiative Competitive Grants Program</td>
</tr>
<tr class="even">
<td style="text-align: left;">2010-01-12</td>
<td style="text-align: left;">2010-85320-20506</td>
<td style="text-align: left;">2009-04939</td>
<td style="text-align: left;">Exotic Bromus grasses in agroecosystems of the western US: REEnet synthesis of current and future invasions, impacts, and management.</td>
<td style="text-align: left;">IDAHO</td>
<td style="text-align: left;">IDAHO STATE UNIVERSITY</td>
<td style="text-align: right;">81029</td>
<td style="text-align: left;">Biology of Weedy and Invasive Species in Agroecosystems</td>
<td style="text-align: left;">Agriculture and Food Research Initiative</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>National Institutes of Health (NIH)</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>NIHISUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIHISU_2.xlsx"</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>NIHISU_New_Awards_Specific <span class="ot">&lt;-</span> NIHISUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">'Project Title'</span>, <span class="st">'Administering IC'</span>, <span class="st">'Award Notice Date'</span>, <span class="st">`</span><span class="at">Opportunity Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget End Date</span><span class="st">`</span>, <span class="st">'Total Cost'</span>, <span class="st">'Total Cost (Sub Projects)'</span>, <span class="st">'Funding IC(s)'</span>, <span class="st">'Direct Cost IC'</span>, <span class="st">'InDirect Cost IC'</span>, <span class="st">'Total Cost IC'</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NIHISU_New_Awards_Specific,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 29%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 5%">
<col style="width: 4%">
<col style="width: 3%">
<col style="width: 7%">
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 5%">
<col style="width: 4%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Project Title</th>
<th style="text-align: left;">Administering IC</th>
<th style="text-align: left;">Award Notice Date</th>
<th style="text-align: left;">Opportunity Number</th>
<th style="text-align: left;">Project Number</th>
<th style="text-align: left;">Project Start Date</th>
<th style="text-align: left;">Project End Date</th>
<th style="text-align: left;">Budget Start Date</th>
<th style="text-align: left;">Budget End Date</th>
<th style="text-align: right;">Total Cost</th>
<th style="text-align: left;">Total Cost (Sub Projects)</th>
<th style="text-align: left;">Funding IC(s)</th>
<th style="text-align: right;">Direct Cost IC</th>
<th style="text-align: right;">InDirect Cost IC</th>
<th style="text-align: right;">Total Cost IC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">The Brain-Behavior Relationship: Age, Hearing, and Their Effects on Understanding Speech in Noise</td>
<td style="text-align: left;">NIDCD</td>
<td style="text-align: left;">1/12/2023</td>
<td style="text-align: left;">PA-13-302</td>
<td style="text-align: left;">7R01DC015240-06</td>
<td style="text-align: left;">8/15/2016</td>
<td style="text-align: left;">7/31/2024</td>
<td style="text-align: left;">6/1/2022</td>
<td style="text-align: left;">7/31/2024</td>
<td style="text-align: right;">251216</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NIDCD</td>
<td style="text-align: right;">200394</td>
<td style="text-align: right;">50822</td>
<td style="text-align: right;">251216</td>
</tr>
<tr class="even">
<td style="text-align: left;">MOLECULAR ANALYSIS OF MALARIA MITOCHONDRIAL GENE REGULATION</td>
<td style="text-align: left;">NIAID</td>
<td style="text-align: left;">12/18/2023</td>
<td style="text-align: left;">PAR-20-259</td>
<td style="text-align: left;">5DP2AI164244-03</td>
<td style="text-align: left;">1/1/2022</td>
<td style="text-align: left;">12/31/2026</td>
<td style="text-align: left;">1/1/2024</td>
<td style="text-align: left;">12/31/2024</td>
<td style="text-align: right;">364371</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NIAID</td>
<td style="text-align: right;">262096</td>
<td style="text-align: right;">102275</td>
<td style="text-align: right;">364371</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Timely Response to In-Hospital Deterioration Through Design of Actionable Augmented Intelligence</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: left;">6/20/2023</td>
<td style="text-align: left;">PA-19-056</td>
<td style="text-align: left;">5R01GM137083-04</td>
<td style="text-align: left;">7/15/2020</td>
<td style="text-align: left;">6/30/2024</td>
<td style="text-align: left;">7/1/2023</td>
<td style="text-align: left;">6/30/2024</td>
<td style="text-align: right;">397867</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: right;">356308</td>
<td style="text-align: right;">41559</td>
<td style="text-align: right;">397867</td>
</tr>
<tr class="even">
<td style="text-align: left;">The role of metal ion homeostasis in regulating bacterial capsule production</td>
<td style="text-align: left;">NIAID</td>
<td style="text-align: left;">8/10/2022</td>
<td style="text-align: left;">PAR-18-714</td>
<td style="text-align: left;">1R15AI149725-01A1</td>
<td style="text-align: left;">8/10/2022</td>
<td style="text-align: left;">7/31/2025</td>
<td style="text-align: left;">8/10/2022</td>
<td style="text-align: left;">7/31/2025</td>
<td style="text-align: right;">408497</td>
<td style="text-align: left;">NA</td>
<td style="text-align: left;">NIGMS</td>
<td style="text-align: right;">235007</td>
<td style="text-align: right;">84993</td>
<td style="text-align: right;">320000</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>National Science Foundation (NSF)</strong></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset from an Excel file</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>NSFISUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSFISU_2.xlsx"</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific columns, ensure there are no leading or trailing spaces in column names</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>NSFISU_New_Awards_Specific <span class="ot">&lt;-</span> NSFISUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, NSFOrganization, StartDate, LastAmendmentDate, EndDate, AwardedAmountToDate)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the first few rows in a table format</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NSFISU_New_Awards_Specific,<span class="dv">4</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 62%">
<col style="width: 7%">
<col style="width: 5%">
<col style="width: 8%">
<col style="width: 5%">
<col style="width: 9%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Title</th>
<th style="text-align: left;">NSFOrganization</th>
<th style="text-align: left;">StartDate</th>
<th style="text-align: left;">LastAmendmentDate</th>
<th style="text-align: left;">EndDate</th>
<th style="text-align: left;">AwardedAmountToDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">CDS&amp;E: Immersive Virtual Reality for Discovering Hidden Chemical Information and Improving Multivariate Modeling and Predication</td>
<td style="text-align: left;">CHE</td>
<td style="text-align: left;">09/15/2023</td>
<td style="text-align: left;">09/13/2023</td>
<td style="text-align: left;">08/31/2026</td>
<td style="text-align: left;">$449,994.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">GP-IN: Pathways to tribal geosciences careers through cultural connections to iconic landscapes</td>
<td style="text-align: left;">RISE</td>
<td style="text-align: left;">01/01/2022</td>
<td style="text-align: left;">08/16/2021</td>
<td style="text-align: left;">12/31/2024</td>
<td style="text-align: left;">$284,964.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Supporting Transfer Student Success Using a Multidisciplinary Approach</td>
<td style="text-align: left;">DUE</td>
<td style="text-align: left;">10/01/2022</td>
<td style="text-align: left;">07/25/2022</td>
<td style="text-align: left;">09/30/2028</td>
<td style="text-align: left;">$1,499,956.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Reynolds Creek Carbon Critical Zone Observatory</td>
<td style="text-align: left;">EAR</td>
<td style="text-align: left;">12/01/2013</td>
<td style="text-align: left;">07/24/2023</td>
<td style="text-align: left;">05/31/2024</td>
<td style="text-align: left;">$3,755,249.00</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="data-comparison-of-awarded-money" class="level4">
<h4 class="anchored" data-anchor-id="data-comparison-of-awarded-money">Data Comparison of Awarded Money</h4>
<p>The following visualizations will show us how much is awarded money is coming to these institutions, and will provide insights into UI’s competitiveness and standing within its peer group.</p>
<p>In our first visualization (<strong>Figure 9</strong>) we are looking at the total of awarded money of current active awards from the <strong>USDA</strong>, and UI’s excelling compared to Boise State University. There’s no data of Idaho State University,because they don’t have current active awards with them. This indicates that UI’s is on top in the game in regards of obtaining funds from the USDA. On <strong>Figure 10</strong> we have for the sponsor <strong>DOE</strong> in contrast of what we saw in the previous graph, UI is under performing and Boise State is excelling in obtaining funds. Which is something that we need to take into consideration and look for more information, why is UI not performing well in securing funds from DOE. <strong>Figure 11</strong>. In our last visualization (<strong>Figure 11</strong>), we have the sponsor <strong>NIH</strong>, in which UI is performing well comparing to its peers. Looking at these data we can determine in the areas the UI is excelling and under performing, and we can make the necessary adjustments to keep excelling in the academic field.</p>
<p><em>Idaho State University doesn’t have currently active USDA award that is why is not added in the following visualization</em></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN USDA - AWARD MONEY</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>USDA_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"USDA_Combined_Data_Recent_Awards.xlsx"</span>)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a vector of old names and a new name</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>old_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"SAES - UNIVERSITY OF IDAHO"</span>, <span class="st">"FRST - UNIVERSITY OF IDAHO-FORESTRY SCHOOL"</span>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>new_name <span class="ot">&lt;-</span> <span class="st">"UNIVERSITY OF IDAHO"</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Use mutate with ifelse and %in% to change multiple old names to the new name</span></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>USDA_Compare_Data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(USDA_Compare_Data, <span class="at">Grantee_Name =</span> <span class="fu">ifelse</span>(Grantee_Name <span class="sc">%in%</span> old_names, new_name, Grantee_Name))</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>USDA_total_award_money <span class="ot">&lt;-</span> USDA_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Grantee_Name) <span class="sc">%&gt;%</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">USDA_total_award_money =</span> <span class="fu">sum</span>(Award_Dollars))</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>my_colors_6 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BOISE STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"UNIVERSITY OF IDAHO"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(USDA_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> Grantee_Name, <span class="at">y =</span> USDA_total_award_money)) <span class="sc">+</span></span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> my_colors_6) <span class="sc">+</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from USDA Grants"</span>) <span class="sc">+</span></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb48-24"><a href="#cb48-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb48-25"><a href="#cb48-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb48-26"><a href="#cb48-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb48-27"><a href="#cb48-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Corrected position of plot title</span></span>
<span id="cb48-28"><a href="#cb48-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 9:</strong> Total of Award Money from USDA Grants</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN DOE - AWARD MONEY</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>DOE_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards_Combined_Data.xlsx"</span>)</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>DOE_total_award_money <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution) <span class="sc">%&gt;%</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">DOE_total_award_money =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>))</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(DOE_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> Institution, <span class="at">y =</span> DOE_total_award_money)) <span class="sc">+</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors)  <span class="sc">+</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from DOE Grants"</span>) <span class="sc">+</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  <span class="co"># Adjust size of plot title</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 10:</strong>Total of Award Money from DOE Grants</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NSF - AWARD MONEY - NO APARECE LA DATA</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>NSF_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_Combined_Data.xlsx"</span>)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Regents of the University of Idaho"</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Boise State University"</span>)</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Idaho State University"</span>)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert AwardedAmountToDate column to numeric</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>NSF_Compare_Data<span class="sc">$</span>AwardedAmountToDate <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, <span class="st">""</span>, NSF_Compare_Data<span class="sc">$</span>AwardedAmountToDate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: NAs introduced by coercion</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove dollar signs ($) and commas (,) from numeric columns</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AwardedAmountToDate =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"[</span><span class="sc">\\</span><span class="st">$,]"</span>, <span class="st">""</span>, AwardedAmountToDate)))</span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>NSF_total_award_money <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Organization) <span class="sc">%&gt;%</span></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NSF_total_award_money =</span> <span class="fu">sum</span>(AwardedAmountToDate, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>NSF_total_award_money <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Organization) <span class="sc">%&gt;%</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NSF_total_award_money =</span> <span class="fu">sum</span>(AwardedAmountToDate))</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NSF_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> Organization, <span class="at">y =</span> NSF_total_award_money)) <span class="sc">+</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors)  <span class="sc">+</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from NSF Grants"</span>) <span class="sc">+</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb52-24"><a href="#cb52-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb52-25"><a href="#cb52-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb52-26"><a href="#cb52-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb52-27"><a href="#cb52-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  <span class="co"># Adjust size of plot title</span></span>
<span id="cb52-28"><a href="#cb52-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 3 rows containing missing values (`geom_bar()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 11:</strong>Total of Award Money from NSF Grants</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NIH - AWARD MONEY - CALCULATED THE AVERAGE INSTEAD THE TOTAL AMMOUNT</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>NIH_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIH_Combined_Data.xlsx"</span>)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution, removing NA values in TotalCost</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>NIH_total_award_money <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OrganizationName) <span class="sc">%&gt;%</span></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NIH_total_award_money =</span> <span class="fu">sum</span>(TotalCost, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>my_colors_3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BOISE STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"IDAHO STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"UNIVERSITY OF IDAHO"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NIH_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> OrganizationName, <span class="at">y =</span> NIH_total_award_money)) <span class="sc">+</span></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors_3)  <span class="sc">+</span></span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from NIH Grants"</span>) <span class="sc">+</span></span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb54-20"><a href="#cb54-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb54-21"><a href="#cb54-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb54-22"><a href="#cb54-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb54-23"><a href="#cb54-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb54-24"><a href="#cb54-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  <span class="co"># Adjust size of plot title</span></span>
<span id="cb54-25"><a href="#cb54-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 12:</strong>Total of Award Money from NIH Grants</p>
</section>
<section id="data-comparison-of-grant-duration" class="level4">
<h4 class="anchored" data-anchor-id="data-comparison-of-grant-duration">Data Comparison of Grant Duration</h4>
<p>The following visualizations will show us how the duration of the awarded grants of these institutions, and will provide insights into UI’s competitiveness and standing within its peer group. These visualization are for the current active awards from each sponsor.</p>
<p>In our first visualization (<strong>Figure 13</strong>), its the duration of the current active awards for the sponsor DOE. By, looking at these bar chart, we can easily point out that our <strong>DOE</strong> awards ends in 4 years compared to Boise State University that ends in 5 years. This means that during that year gap, UI have to look for renewing awards or to apply for new awards. For the <strong>NSF</strong> award (<strong>Figure 14</strong>) Idaho State University has the longest duration of their current active awards for 10 years, and University of Idaho comes second. We are coming in par with the Idaho State University, also to clarify some of these awarded grants, depending of the type of grant can go for longer than 5 years. For the <strong>NIH</strong> award (<strong>Figure 15</strong>) University of Idaho, is at the top for the the longest duration of their current active awards for the NIH, over 20 years. Like I mentioned before some of these grants can go longer than 5 years.</p>
<p><em>USDA data was not added for this data visualization because it didn’t provide an end date of their current active awards</em></p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN DOE - Grant Duration</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>DOE_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards_Combined_Data.xlsx"</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'start_date' and 'end_date' are columns containing the start and end dates of the grants,</span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="co"># and 'institution' is a column indicating the institution for each grant</span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">"Regents of the University of Idaho"</span>)</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">"Boise State University"</span>)</span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb55-20"><a href="#cb55-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">"Idaho State University"</span>)</span>
<span id="cb55-21"><a href="#cb55-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-22"><a href="#cb55-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the duration of grants for each institution</span></span>
<span id="cb55-23"><a href="#cb55-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "Start Date" and "End Date" columns to date objects</span></span>
<span id="cb55-24"><a href="#cb55-24" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> UI_data <span class="sc">%&gt;%</span></span>
<span id="cb55-25"><a href="#cb55-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb55-26"><a href="#cb55-26" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb55-27"><a href="#cb55-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-28"><a href="#cb55-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb55-29"><a href="#cb55-29" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> UI_data <span class="sc">%&gt;%</span></span>
<span id="cb55-30"><a href="#cb55-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb55-31"><a href="#cb55-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-32"><a href="#cb55-32" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> UI_data <span class="sc">%&gt;%</span></span>
<span id="cb55-33"><a href="#cb55-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb55-34"><a href="#cb55-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-35"><a href="#cb55-35" aria-hidden="true" tabindex="-1"></a><span class="co"># BSU</span></span>
<span id="cb55-36"><a href="#cb55-36" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> BSU_data <span class="sc">%&gt;%</span></span>
<span id="cb55-37"><a href="#cb55-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb55-38"><a href="#cb55-38" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb55-39"><a href="#cb55-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-40"><a href="#cb55-40" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb55-41"><a href="#cb55-41" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> BSU_data <span class="sc">%&gt;%</span></span>
<span id="cb55-42"><a href="#cb55-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb55-43"><a href="#cb55-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-44"><a href="#cb55-44" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> BSU_data <span class="sc">%&gt;%</span></span>
<span id="cb55-45"><a href="#cb55-45" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb55-46"><a href="#cb55-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-47"><a href="#cb55-47" aria-hidden="true" tabindex="-1"></a><span class="co"># ISU</span></span>
<span id="cb55-48"><a href="#cb55-48" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> ISU_data <span class="sc">%&gt;%</span></span>
<span id="cb55-49"><a href="#cb55-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb55-50"><a href="#cb55-50" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb55-51"><a href="#cb55-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-52"><a href="#cb55-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb55-53"><a href="#cb55-53" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> ISU_data <span class="sc">%&gt;%</span></span>
<span id="cb55-54"><a href="#cb55-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb55-55"><a href="#cb55-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-56"><a href="#cb55-56" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> ISU_data <span class="sc">%&gt;%</span></span>
<span id="cb55-57"><a href="#cb55-57" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb55-58"><a href="#cb55-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-59"><a href="#cb55-59" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb55-60"><a href="#cb55-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-61"><a href="#cb55-61" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb55-62"><a href="#cb55-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-63"><a href="#cb55-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming UI_data contains the grant duration information for one institution</span></span>
<span id="cb55-64"><a href="#cb55-64" aria-hidden="true" tabindex="-1"></a><span class="co"># and other_datasets contain the grant duration information for the other institutions</span></span>
<span id="cb55-65"><a href="#cb55-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-66"><a href="#cb55-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb55-67"><a href="#cb55-67" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(UI_data, BSU_data, ISU_data)</span>
<span id="cb55-68"><a href="#cb55-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-69"><a href="#cb55-69" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb55-70"><a href="#cb55-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-71"><a href="#cb55-71" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb55-72"><a href="#cb55-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-73"><a href="#cb55-73" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb55-74"><a href="#cb55-74" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb55-75"><a href="#cb55-75" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb55-76"><a href="#cb55-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-77"><a href="#cb55-77" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_data, <span class="fu">aes</span>(<span class="at">x =</span> Institution, <span class="at">y =</span> grant_duration_years)) <span class="sc">+</span></span>
<span id="cb55-78"><a href="#cb55-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> <span class="fu">c</span>(my_colors[combined_data<span class="sc">$</span>Institution])) <span class="sc">+</span>  </span>
<span id="cb55-79"><a href="#cb55-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grant Duration by Institution"</span>) <span class="sc">+</span></span>
<span id="cb55-80"><a href="#cb55-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb55-81"><a href="#cb55-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Grant Duration (Years)"</span>) <span class="sc">+</span></span>
<span id="cb55-82"><a href="#cb55-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb55-83"><a href="#cb55-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb55-84"><a href="#cb55-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb55-85"><a href="#cb55-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 13:</strong> Grant Duration by Institution (DOE). This Bar Chart provides information of the duration of the current active awards by Institution for DOE.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NSF - Grant Duration</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>NSF_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_Combined_Data.xlsx"</span>)</span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Regents of the University of Idaho"</span>)</span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Boise State University"</span>)</span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Idaho State University"</span>)</span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the duration of grants for each institution</span></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "Start Date" and "End Date" columns to date objects</span></span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="co">#UI</span></span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a><span class="co"># BSU</span></span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data  <span class="ot">&lt;-</span> BSU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb56-38"><a href="#cb56-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-39"><a href="#cb56-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb56-40"><a href="#cb56-40" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data  <span class="ot">&lt;-</span> BSU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-41"><a href="#cb56-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb56-42"><a href="#cb56-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-43"><a href="#cb56-43" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data  <span class="ot">&lt;-</span> BSU_NSF_data  <span class="sc">%&gt;%</span></span>
<span id="cb56-44"><a href="#cb56-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb56-45"><a href="#cb56-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-46"><a href="#cb56-46" aria-hidden="true" tabindex="-1"></a><span class="co"># ISU</span></span>
<span id="cb56-47"><a href="#cb56-47" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data<span class="ot">&lt;-</span> ISU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-48"><a href="#cb56-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb56-49"><a href="#cb56-49" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb56-50"><a href="#cb56-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-51"><a href="#cb56-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb56-52"><a href="#cb56-52" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> ISU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-53"><a href="#cb56-53" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb56-54"><a href="#cb56-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-55"><a href="#cb56-55" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> ISU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb56-56"><a href="#cb56-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb56-57"><a href="#cb56-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-58"><a href="#cb56-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb56-59"><a href="#cb56-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-60"><a href="#cb56-60" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb56-61"><a href="#cb56-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-62"><a href="#cb56-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming UI_data contains the grant duration information for one institution</span></span>
<span id="cb56-63"><a href="#cb56-63" aria-hidden="true" tabindex="-1"></a><span class="co"># and other_datasets contain the grant duration information for the other institutions</span></span>
<span id="cb56-64"><a href="#cb56-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-65"><a href="#cb56-65" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb56-66"><a href="#cb56-66" aria-hidden="true" tabindex="-1"></a>combined_data_NSF <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(UI_NSF_data, BSU_NSF_data, ISU_NSF_data)</span>
<span id="cb56-67"><a href="#cb56-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-68"><a href="#cb56-68" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb56-69"><a href="#cb56-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-70"><a href="#cb56-70" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb56-71"><a href="#cb56-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-72"><a href="#cb56-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb56-73"><a href="#cb56-73" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb56-74"><a href="#cb56-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-75"><a href="#cb56-75" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_data_NSF, <span class="fu">aes</span>(<span class="at">x =</span> Organization, <span class="at">y =</span> grant_duration_years)) <span class="sc">+</span></span>
<span id="cb56-76"><a href="#cb56-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> <span class="fu">c</span>(my_colors[combined_data_NSF<span class="sc">$</span>Organization])) <span class="sc">+</span></span>
<span id="cb56-77"><a href="#cb56-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grant Duration by Organization"</span>) <span class="sc">+</span></span>
<span id="cb56-78"><a href="#cb56-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb56-79"><a href="#cb56-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Grant Duration (Years)"</span>) <span class="sc">+</span></span>
<span id="cb56-80"><a href="#cb56-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span>  <span class="co"># Apply custom colors</span></span>
<span id="cb56-81"><a href="#cb56-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb56-82"><a href="#cb56-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb56-83"><a href="#cb56-83" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb56-84"><a href="#cb56-84" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb56-85"><a href="#cb56-85" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))  <span class="co"># Adjust size of plot title</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 14:</strong>Grant Duration by Institution (NSF). This Bar Chart provides information of the duration of the current active awards by Institution for NSF.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NIH - Grant Duration</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>NIH_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIH_Combined_Data.xlsx"</span>)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OrganizationName <span class="sc">==</span> <span class="st">"UNIVERSITY OF IDAHO"</span>)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OrganizationName <span class="sc">==</span> <span class="st">"BOISE STATE UNIVERSITY"</span>)</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb57-15"><a href="#cb57-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OrganizationName <span class="sc">==</span> <span class="st">"IDAHO STATE UNIVERSITY"</span>)</span>
<span id="cb57-16"><a href="#cb57-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-17"><a href="#cb57-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the duration of grants for each institution</span></span>
<span id="cb57-18"><a href="#cb57-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "Start Date" and "End Date" columns to date objects</span></span>
<span id="cb57-19"><a href="#cb57-19" aria-hidden="true" tabindex="-1"></a><span class="co">#UI</span></span>
<span id="cb57-20"><a href="#cb57-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-21"><a href="#cb57-21" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> UI_NIH_data<span class="sc">%&gt;%</span></span>
<span id="cb57-22"><a href="#cb57-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectStartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb57-23"><a href="#cb57-23" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectEndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb57-24"><a href="#cb57-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-25"><a href="#cb57-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb57-26"><a href="#cb57-26" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> UI_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-27"><a href="#cb57-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb57-28"><a href="#cb57-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-29"><a href="#cb57-29" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> UI_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-30"><a href="#cb57-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb57-31"><a href="#cb57-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-32"><a href="#cb57-32" aria-hidden="true" tabindex="-1"></a><span class="co"># BSU - no quiere funcionar no tengo la menor idea pq</span></span>
<span id="cb57-33"><a href="#cb57-33" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data  <span class="ot">&lt;-</span> BSU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-34"><a href="#cb57-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectStartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb57-35"><a href="#cb57-35" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectEndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb57-36"><a href="#cb57-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-37"><a href="#cb57-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb57-38"><a href="#cb57-38" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data  <span class="ot">&lt;-</span> BSU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-39"><a href="#cb57-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb57-40"><a href="#cb57-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-41"><a href="#cb57-41" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data  <span class="ot">&lt;-</span> BSU_NIH_data  <span class="sc">%&gt;%</span></span>
<span id="cb57-42"><a href="#cb57-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb57-43"><a href="#cb57-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-44"><a href="#cb57-44" aria-hidden="true" tabindex="-1"></a><span class="co"># ISU</span></span>
<span id="cb57-45"><a href="#cb57-45" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data<span class="ot">&lt;-</span> ISU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-46"><a href="#cb57-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectStartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb57-47"><a href="#cb57-47" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectEndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb57-48"><a href="#cb57-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-49"><a href="#cb57-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb57-50"><a href="#cb57-50" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data <span class="ot">&lt;-</span> ISU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-51"><a href="#cb57-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb57-52"><a href="#cb57-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-53"><a href="#cb57-53" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data <span class="ot">&lt;-</span> ISU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb57-54"><a href="#cb57-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb57-55"><a href="#cb57-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-56"><a href="#cb57-56" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb57-57"><a href="#cb57-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-58"><a href="#cb57-58" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb57-59"><a href="#cb57-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-60"><a href="#cb57-60" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming UI_data contains the grant duration information for one institution</span></span>
<span id="cb57-61"><a href="#cb57-61" aria-hidden="true" tabindex="-1"></a><span class="co"># and other_datasets contain the grant duration information for the other institutions</span></span>
<span id="cb57-62"><a href="#cb57-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-63"><a href="#cb57-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb57-64"><a href="#cb57-64" aria-hidden="true" tabindex="-1"></a>combined_data_NIH <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(UI_NIH_data, BSU_NIH_data, ISU_NIH_data)</span>
<span id="cb57-65"><a href="#cb57-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-66"><a href="#cb57-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb57-67"><a href="#cb57-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-68"><a href="#cb57-68" aria-hidden="true" tabindex="-1"></a>my_colors_3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BOISE STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"IDAHO STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"UNIVERSITY OF IDAHO"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb57-69"><a href="#cb57-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-70"><a href="#cb57-70" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb57-71"><a href="#cb57-71" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb57-72"><a href="#cb57-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-73"><a href="#cb57-73" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_data_NIH, <span class="fu">aes</span>(<span class="at">x =</span> OrganizationName, <span class="at">y =</span> grant_duration_years, <span class="at">fill =</span> OrganizationName)) <span class="sc">+</span></span>
<span id="cb57-74"><a href="#cb57-74" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors_3[combined_data_NIH<span class="sc">$</span>OrganizationName]) <span class="sc">+</span></span>
<span id="cb57-75"><a href="#cb57-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grant Duration by Organization"</span>) <span class="sc">+</span></span>
<span id="cb57-76"><a href="#cb57-76" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb57-77"><a href="#cb57-77" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Grant Duration (Years)"</span>) <span class="sc">+</span></span>
<span id="cb57-78"><a href="#cb57-78" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors_3) <span class="sc">+</span>  <span class="co"># Apply custom colors</span></span>
<span id="cb57-79"><a href="#cb57-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb57-80"><a href="#cb57-80" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb57-81"><a href="#cb57-81" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb57-82"><a href="#cb57-82" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb57-83"><a href="#cb57-83" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))  <span class="co"># Adjust size of plot title</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 15:</strong>Grant Duration by Institution (NIH). This Bar Chart provides information of the duration of the current active awards by Institution for NIH.</p>
<p>By looking at these visualizations, we can say that for the sponsor <strong>DOE</strong>, is the only one that we the grant duration is less compared with the other sponsors by institution. Which comes to a concern, like how we can expand our portfolio in regards of acquiring more awards from DOE. For <strong>NIH and NSF</strong> awards, we have an active flow of awards, and some of these awards are going to be active for the formidable future.</p>
</section>
</section>
<section id="data-comparison-of-grant-status" class="level3">
<h3 class="anchored" data-anchor-id="data-comparison-of-grant-status">Data Comparison of Grant Status</h3>
<p>For the last visualizations, I mentioned in the previous section, there’s different types of awarded grants. The following graphs will give us and understanding what type of grants (current active grants) are coming to UI compared to our peer institution.</p>
<p><em>The only available data for this type of analysis is from the sponsors DOE and NSF</em></p>
<p>In our first visualization (<strong>Figure 16</strong>), we are looking at the type of grants that these institutions have in <strong>DOE</strong>. We have two types of grants which are: new and renewal, for our current active we have 3 that are new and 1 renewal. This a type of data to keep in mind, to see how many grants are coming that are new, or if we have that are renewal. But, looking ar this Boise State University has more in new and renewal for DOE sponsor.</p>
<p><em>It is not surprising that UI is under performing in acquiring grants from this sponsor. We have seen that from previous visualizations</em></p>
<p><strong>Figure 17</strong> we are looking at the type of grants that these institutions have in <strong>NSF</strong>. In contrast to DOE sponsor, we have more types of grants in NSF, which are the following: continuing grant, cooperative agreement, fellowship award, and standard grant. I mentioned before (Grant duration section) that some grants have a longer duration, and that’s because it depends on the type of grant it has (that also applies how much money is being awarded). In general as a whole, Boise State University has more active current awards compared to University of Idaho, so the number of types of grants are going to be different then University of Idaho. So, we are going to focus on University of Idaho, that highest type of grant that we current have is the standard grant followed by continuing grants. The one that is under performing is Fellowship award, and that is because most of these awards are awarded to graduate students. Looking at this we can see that not a lot of graduate students at UI are applying to fellowships in NSF, which is something that can be changed, giving the proper guidance.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN DOE - Grant Status</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total grant action count for each institution</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>DOE_Grant_Action <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming DOE_Grant_Action is your summarized data frame with counts of Action Type by Institution</span></span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(DOE_Grant_Action, <span class="fu">aes</span>(<span class="at">x =</span> Institution, <span class="at">y =</span> count, <span class="at">fill =</span> <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb58-16"><a href="#cb58-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb58-17"><a href="#cb58-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Counts of Action Type by Institution"</span>) <span class="sc">+</span></span>
<span id="cb58-18"><a href="#cb58-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb58-19"><a href="#cb58-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Active Grants"</span>) <span class="sc">+</span></span>
<span id="cb58-20"><a href="#cb58-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb58-21"><a href="#cb58-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb58-22"><a href="#cb58-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb58-23"><a href="#cb58-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb58-24"><a href="#cb58-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 16:</strong> Type of Grant for current active awards for DOE.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NSF - Grant Status</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total grant action count for each institution</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>NSF_Grant_Award_Instrument <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Organization, AwardInstrument) <span class="sc">%&gt;%</span></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Check unique levels of AwardInstrument</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>unique_levels <span class="ot">&lt;-</span> <span class="fu">unique</span>(NSF_Grant_Award_Instrument<span class="sc">$</span>AwardInstrument)</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust my_colors_4 to match the number of unique levels</span></span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>my_colors_4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"navyblue"</span>, <span class="st">"darkgreen"</span>, <span class="st">"darkorange"</span>, <span class="st">"darkred"</span>)  <span class="co"># or any other color palette you prefer</span></span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with adjusted colors</span></span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NSF_Grant_Award_Instrument, <span class="fu">aes</span>(<span class="at">x =</span> Organization, <span class="at">y =</span> count, <span class="at">fill =</span> AwardInstrument)) <span class="sc">+</span></span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Counts of Action Type by Institution"</span>) <span class="sc">+</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Active Grants"</span>) <span class="sc">+</span></span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors_4) <span class="sc">+</span>  <span class="co"># Add this line to set custom colors</span></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><strong>Figure 17:</strong> Type of Grant for current active awards for NSF.</p>
<p>By looking at these visualizations, we can have an understanding of the types of grants that we have at UI for our current awards. I think to expand UIs portfolio is to provide information and workshops for graduate students to have the opportunity to apply for fellowship awards, which will help them to further continue on their research projects.</p>
</section>
</section>
<section id="conlusionssummary" class="level2">
<h2 class="anchored" data-anchor-id="conlusionssummary">CONLUSIONS/SUMMARY</h2>
<p>Looking back at all the previous visualizations, we got a better understanding in how much federal funding is awarded at the University of Idaho (UI) by the following federal agencies: the Department of Energy (DOE), the US Department of Agriculture (NIFA), the National Institute of Health (NIH), and National Science Foundation (NSF). UI excelled in some of them in securing funding in USDA, NIH and NSF grants, the only one that we need to looked into is DOE. We have only 4 currently PIs that have funding through them. It is important for the administration to gain more information, how UI can obtain more funding from DOE. The other thing we have to keep in mind is the current projects that are about to expire in 2024, and if there’s plan for renewal or writing for a new grant. Overall, University of Idaho is a academic institution that have grants coming to the university and is increasing in research projects that are on par with other institutions.</p>
<p>##IMPROVED VISUALIZATIONS</p>
<section id="question-1-nsf-active-awards-by-pi" class="level3">
<h3 class="anchored" data-anchor-id="question-1-nsf-active-awards-by-pi">Question #1: NSF Active Awards by PI</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"NSF"</span>)</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_PI_NSF[<span class="fu">complete.cases</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, Q1_PI_NSF<span class="sc">$</span>EndDate), ]</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the minimum and maximum dates for the x-axis</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>min_date <span class="ot">&lt;-</span> <span class="fu">min</span>(Q1_PI_NSF<span class="sc">$</span>StartDate)</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>max_date <span class="ot">&lt;-</span> <span class="fu">max</span>(Q1_PI_NSF<span class="sc">$</span>EndDate)</span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Extend the x-axis by a certain margin (e.g., 1 year)</span></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a>extended_min_date <span class="ot">&lt;-</span> min_date <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>extended_max_date <span class="ot">&lt;-</span> max_date <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart with adjusted y-axis labels and amounts</span></span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_NSF, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate)) <span class="sc">+</span></span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> EndDate, <span class="at">y =</span> PI, <span class="at">yend =</span> PI), <span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span>  <span class="co"># Segment colored by PI</span></span>
<span id="cb60-31"><a href="#cb60-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> EndDate, <span class="at">label =</span> Amount), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span>  <span class="co"># Add text labels for amounts at the end of bars with reduced size</span></span>
<span id="cb60-32"><a href="#cb60-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">limits =</span> <span class="fu">c</span>(extended_min_date, extended_max_date)) <span class="sc">+</span></span>
<span id="cb60-33"><a href="#cb60-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb60-34"><a href="#cb60-34" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb60-35"><a href="#cb60-35" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb60-36"><a href="#cb60-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb60-37"><a href="#cb60-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,  <span class="co"># Remove the legend</span></span>
<span id="cb60-38"><a href="#cb60-38" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb60-39"><a href="#cb60-39" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>))  <span class="co"># Reduce the size of y-axis label</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="amount-of-current-active-awards-in-ui" class="level3">
<h3 class="anchored" data-anchor-id="amount-of-current-active-awards-in-ui">Amount of Current Active Awards in UI</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># For formatting labels</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data_4.xlsx"</span>)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a copy of the Amount column</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2<span class="sc">$</span>Original_Amount <span class="ot">&lt;-</span> Q1_Data_Amount_2<span class="sc">$</span>Amount</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove dollar signs from the Amount column</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, <span class="st">","</span>, Q1_Data_Amount_2<span class="sc">$</span>Amount)</span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the Amount column to numeric</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Q1_Data_Amount_2<span class="sc">$</span>Amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: NAs introduced by coercion</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for NA values in the Amount column</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(Q1_Data_Amount_2<span class="sc">$</span>Amount))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the structure of the Amount variable</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Q1_Data_Amount_2<span class="sc">$</span>Amount)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:126] 0 266181 848625 0 0 ...</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot with colors assigned to each sponsor</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data_Amount, <span class="fu">aes</span>(<span class="at">x =</span> Sponsor, <span class="at">y =</span> Amount, <span class="at">fill =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"sum"</span>) <span class="sc">+</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Amount by Sponsor"</span>,</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Sponsor"</span>,</span>
<span id="cb67-9"><a href="#cb67-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb67-10"><a href="#cb67-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb67-11"><a href="#cb67-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb67-12"><a href="#cb67-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb67-13"><a href="#cb67-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust title alignment</span></span>
<span id="cb67-14"><a href="#cb67-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> sponsor_colors)  <span class="co"># Use manually defined colors for each sponsor</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 51 rows containing non-finite values (`stat_summary()`).</code></pre>
</div>
<div class="cell-output-display">
<p><img src="Midterm_3_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="672"></p>
</div>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb69" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "BCB 520 - Midterm Portfolio Post"</span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Let's look at funding!"</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Geraline Trossi-Torres"</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2024-03-29"</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [Midterm, DataViz, Visualization]</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a><span class="an">image:</span><span class="co"> Profile4.jpg</span></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Let's do some visualizations on how well University of Idaho is acquiring grants"</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="fu">## PREAMBLE</span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a>In this blog post, you will get more insight into how much federal funding is awarded at the University of Idaho (UI) by the following federal agencies: the Department of Energy (DOE), the US Department of Agriculture (NIFA), the National Institute of Health (NIH), and National Science Foundation (NSF). These agencies provide funding to different types/ areas of research (agriculture, engineering, biology, computer science, physics, social science, etc.), and we want to determine how much money is going into these types of research. We also are looking at the timeline trend of how much funding is awarded at UI compared to previous years and if there's any positive or negative impact. We can also see the longevity of the funding, like how long that funding is available. We also did a comparison between institutions in how much funding is awarded across institutions, we compared UI with  Boise State University and Idaho State University. This information will provide a general understanding of where UI stands and how it competes with other institutions in acquiring federal funding from those agencies. By the end of this blog post, you will understand the distribution of awarded federal funding across these agencies.</span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a><span class="fu">## DATA</span></span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>The data was acquired by the database of each of these federal agencies, the data is open for the public and you can obtain information of currently active/past research projects by institution and principal investigator (PI).</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Dictionary</span></span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>This data dictionary provides an overview of the variables that was used in each individual dataset, along with their descriptions and data types. This will give us more understanding of the structure of the data that was selected and will facilitate in the analysis and the interpretation of how UI stands in means of funding from each individual federal agency.</span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, include=FALSE}</span></span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-35"><a href="#cb69-35" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-36"><a href="#cb69-36" aria-hidden="true" tabindex="-1"></a>DataDictionary <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Data Dictionary.xlsx"</span>)</span>
<span id="cb69-37"><a href="#cb69-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-38"><a href="#cb69-38" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DataDictionary ))</span>
<span id="cb69-39"><a href="#cb69-39" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-40"><a href="#cb69-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-41"><a href="#cb69-41" aria-hidden="true" tabindex="-1"></a><span class="fu">### Summary of Data Sources</span></span>
<span id="cb69-42"><a href="#cb69-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-43"><a href="#cb69-43" aria-hidden="true" tabindex="-1"></a>Each of these data sets will provide information in how much money is entering UI. This provide insight, where these funds is being used, like these awarded funding are used to support the activities that are conducted to support the research project, which this is also includes the funding for faculty salaries, graduate student stipends, equipment purchases, and other research-related expenses. This will also help the UI administration to have an overall general idea how these resources are being used and how is benefiting the institution.</span>
<span id="cb69-44"><a href="#cb69-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-45"><a href="#cb69-45" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb69-46"><a href="#cb69-46" aria-hidden="true" tabindex="-1"></a><span class="fu">## NOTE</span></span>
<span id="cb69-47"><a href="#cb69-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-48"><a href="#cb69-48" aria-hidden="true" tabindex="-1"></a>Some of these data sets are long and extensive and it was shorten, for your benefit to be able to visualize how the data table looks like.</span>
<span id="cb69-49"><a href="#cb69-49" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb69-50"><a href="#cb69-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-51"><a href="#cb69-51" aria-hidden="true" tabindex="-1"></a><span class="fu">#### DOE Awards Data (DOEawards.xlsx)</span></span>
<span id="cb69-52"><a href="#cb69-52" aria-hidden="true" tabindex="-1"></a>This dataset contains information about awards provided by the Department of Energy (DOE).</span>
<span id="cb69-53"><a href="#cb69-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-54"><a href="#cb69-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE, warning=FALSE}</span></span>
<span id="cb69-55"><a href="#cb69-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-56"><a href="#cb69-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-57"><a href="#cb69-57" aria-hidden="true" tabindex="-1"></a>DOEawardsUI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>, <span class="at">.name_repair =</span> <span class="st">"minimal"</span>)</span>
<span id="cb69-58"><a href="#cb69-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-59"><a href="#cb69-59" aria-hidden="true" tabindex="-1"></a>DOEawardsUI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span>
<span id="cb69-60"><a href="#cb69-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-61"><a href="#cb69-61" aria-hidden="true" tabindex="-1"></a>DOEUI_General <span class="ot">&lt;-</span> DOEawardsUI <span class="sc">%&gt;%</span> </span>
<span id="cb69-62"><a href="#cb69-62" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Regents of the University of Idaho'</span>)</span>
<span id="cb69-63"><a href="#cb69-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-64"><a href="#cb69-64" aria-hidden="true" tabindex="-1"></a>DOEUI_New_Awards <span class="ot">&lt;-</span> DOEUI_General <span class="sc">%&gt;%</span></span>
<span id="cb69-65"><a href="#cb69-65" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, Institution, PI, Status, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>, <span class="st">`</span><span class="at">Program Office</span><span class="st">`</span>, <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Most Recent Award Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>)</span>
<span id="cb69-66"><a href="#cb69-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-67"><a href="#cb69-67" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DOEUI_New_Awards))</span>
<span id="cb69-68"><a href="#cb69-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-69"><a href="#cb69-69" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb69-70"><a href="#cb69-70" aria-hidden="true" tabindex="-1"></a>DOEawardsUI <span class="ot">&lt;-</span> <span class="fu">suppressMessages</span>(<span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>))</span>
<span id="cb69-71"><a href="#cb69-71" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-72"><a href="#cb69-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-73"><a href="#cb69-73" aria-hidden="true" tabindex="-1"></a><span class="fu">#### USDA to UI Awards Data (USDAtoUI.csv): </span></span>
<span id="cb69-74"><a href="#cb69-74" aria-hidden="true" tabindex="-1"></a>This dataset includes awards data related to the University of Idaho (UI) received from the U.S. Department of Agriculture (USDA).</span>
<span id="cb69-75"><a href="#cb69-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-76"><a href="#cb69-76" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, message=FALSE}</span></span>
<span id="cb69-77"><a href="#cb69-77" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(readxl))</span>
<span id="cb69-78"><a href="#cb69-78" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(dplyr))</span>
<span id="cb69-79"><a href="#cb69-79" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tidyverse))</span>
<span id="cb69-80"><a href="#cb69-80" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-81"><a href="#cb69-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-84"><a href="#cb69-84" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-85"><a href="#cb69-85" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb69-86"><a href="#cb69-86" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-87"><a href="#cb69-87" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb69-88"><a href="#cb69-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-89"><a href="#cb69-89" aria-hidden="true" tabindex="-1"></a>USDAUI  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"USDAtoUI.csv"</span>)</span>
<span id="cb69-90"><a href="#cb69-90" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(USDAUI))</span>
<span id="cb69-91"><a href="#cb69-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-92"><a href="#cb69-92" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-93"><a href="#cb69-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-94"><a href="#cb69-94" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'Date' is the column containing the grant date information</span></span>
<span id="cb69-95"><a href="#cb69-95" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>)</span>
<span id="cb69-96"><a href="#cb69-96" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-03-15"</span>)</span>
<span id="cb69-97"><a href="#cb69-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-98"><a href="#cb69-98" aria-hidden="true" tabindex="-1"></a>UIgrants_recent_grantsUSDA <span class="ot">&lt;-</span> USDAUI <span class="sc">%&gt;%</span> </span>
<span id="cb69-99"><a href="#cb69-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Award.Date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> Award.Date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb69-100"><a href="#cb69-100" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Award.Date))</span>
<span id="cb69-101"><a href="#cb69-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-102"><a href="#cb69-102" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-103"><a href="#cb69-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-104"><a href="#cb69-104" aria-hidden="true" tabindex="-1"></a>start_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-01-01"</span>)</span>
<span id="cb69-105"><a href="#cb69-105" aria-hidden="true" tabindex="-1"></a>end_date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2024-12-31"</span>)</span>
<span id="cb69-106"><a href="#cb69-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-107"><a href="#cb69-107" aria-hidden="true" tabindex="-1"></a>UIgrants_2024_grantsUSDA <span class="ot">&lt;-</span> UIgrants_recent_grantsUSDA <span class="sc">%&gt;%</span> </span>
<span id="cb69-108"><a href="#cb69-108" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Award.Date <span class="sc">&gt;=</span> start_date <span class="sc">&amp;</span> Award.Date <span class="sc">&lt;=</span> end_date) <span class="sc">%&gt;%</span></span>
<span id="cb69-109"><a href="#cb69-109" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">UIgrants_2024_grantsUSDA =</span> <span class="fu">n</span>())</span>
<span id="cb69-110"><a href="#cb69-110" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-111"><a href="#cb69-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-112"><a href="#cb69-112" aria-hidden="true" tabindex="-1"></a><span class="fu">#### NSF UI Awards Data (NSFUI_2.xlsx)</span></span>
<span id="cb69-113"><a href="#cb69-113" aria-hidden="true" tabindex="-1"></a>This dataset consists of awards data from the National Science Foundation (NSF) received by the University of Idaho (UI).</span>
<span id="cb69-114"><a href="#cb69-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-117"><a href="#cb69-117" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-118"><a href="#cb69-118" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-119"><a href="#cb69-119" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-120"><a href="#cb69-120" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb69-121"><a href="#cb69-121" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr) <span class="co"># Ensure knitr is explicitly loaded for kable()</span></span>
<span id="cb69-122"><a href="#cb69-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-123"><a href="#cb69-123" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset from an Excel file</span></span>
<span id="cb69-124"><a href="#cb69-124" aria-hidden="true" tabindex="-1"></a>NSFUIAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSFUI_2.xlsx"</span>)</span>
<span id="cb69-125"><a href="#cb69-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-126"><a href="#cb69-126" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific columns, ensure there are no leading or trailing spaces in column names</span></span>
<span id="cb69-127"><a href="#cb69-127" aria-hidden="true" tabindex="-1"></a>NSFUI_New_Awards_Specific <span class="ot">&lt;-</span> NSFUIAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb69-128"><a href="#cb69-128" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, NSFOrganization, StartDate, LastAmendmentDate, EndDate, AwardedAmountToDate)</span>
<span id="cb69-129"><a href="#cb69-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-130"><a href="#cb69-130" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the first few rows in a table format</span></span>
<span id="cb69-131"><a href="#cb69-131" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NSFUI_New_Awards_Specific))</span>
<span id="cb69-132"><a href="#cb69-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-133"><a href="#cb69-133" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-134"><a href="#cb69-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-135"><a href="#cb69-135" aria-hidden="true" tabindex="-1"></a><span class="fu">#### NIH UI Awards Data (NIHUI_2.xlsx)</span></span>
<span id="cb69-136"><a href="#cb69-136" aria-hidden="true" tabindex="-1"></a>This dataset contains information about awards received by the University of Idaho (UI) from the National Institutes of Health (NIH).</span>
<span id="cb69-137"><a href="#cb69-137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-140"><a href="#cb69-140" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-141"><a href="#cb69-141" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-142"><a href="#cb69-142" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-143"><a href="#cb69-143" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb69-144"><a href="#cb69-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-145"><a href="#cb69-145" aria-hidden="true" tabindex="-1"></a>NIHUIAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIHUI_2.xlsx"</span>)</span>
<span id="cb69-146"><a href="#cb69-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-147"><a href="#cb69-147" aria-hidden="true" tabindex="-1"></a>NIHUI_New_Awards_Specific <span class="ot">&lt;-</span> NIHUIAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb69-148"><a href="#cb69-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">'Project Title'</span>, <span class="st">'Administering IC'</span>, <span class="st">'Award Notice Date'</span>, <span class="st">`</span><span class="at">Opportunity Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget End Date</span><span class="st">`</span>, <span class="st">'Total Cost'</span>, <span class="st">'Total Cost (Sub Projects)'</span>, <span class="st">'Funding IC(s)'</span>, <span class="st">'Direct Cost IC'</span>, <span class="st">'InDirect Cost IC'</span>, <span class="st">'Total Cost IC'</span>)</span>
<span id="cb69-149"><a href="#cb69-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-150"><a href="#cb69-150" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NIHUI_New_Awards_Specific))</span>
<span id="cb69-151"><a href="#cb69-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-152"><a href="#cb69-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-153"><a href="#cb69-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-154"><a href="#cb69-154" aria-hidden="true" tabindex="-1"></a><span class="fu">## DATA VISUALIZATION AND ANALYSIS</span></span>
<span id="cb69-155"><a href="#cb69-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-156"><a href="#cb69-156" aria-hidden="true" tabindex="-1"></a>The following visualizations is going to help us visualize UI's longevity and distribution of the university's portfolio of current and past awards. It will helps us identify if there are awards that are nearing their expiration.Also, will be doing a comparison with UI between two peer institutions: Boise State University and Idaho State University. This will help us understand UI's performance in securing federal funding, and how those it measures up against to the other institutions within the same region. </span>
<span id="cb69-157"><a href="#cb69-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-158"><a href="#cb69-158" aria-hidden="true" tabindex="-1"></a><span class="fu">### University of Idaho - Current and Future Portfolio</span></span>
<span id="cb69-159"><a href="#cb69-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-160"><a href="#cb69-160" aria-hidden="true" tabindex="-1"></a>I am creating visualization that will displays the active awards from each sponsor, including their start and end dates, the amount of the award, and the name of the Principal Investigator. This will provide insights of the longevity of the University of Idaho current portfolio of awards. This will also help us identify what awards are near expiration, and which one ones has a longer duration, and to identify if any of these patterns may differ across federal agencies. Ultimately, these visualizations will provide an aid to have an understanding of the sustainability of UIs funding from different federal agencies.</span>
<span id="cb69-161"><a href="#cb69-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-162"><a href="#cb69-162" aria-hidden="true" tabindex="-1"></a>In our first visualization (**Figure 1**), its a general overview of the longevity of our current active awards. By, looking at this Timeline chart, we can easily point out that our **NSF** awards has the longest longevity (meaning we will have funding until 2028). Looking at **NIH** and **DOE** awards timeline their awards are ending in the year 2024, that is something to keep in mind and following up with the PIs that have those funding to see if they applied for new grants.</span>
<span id="cb69-163"><a href="#cb69-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-164"><a href="#cb69-164" aria-hidden="true" tabindex="-1"></a>*USDA data was not added in this timeline chart because it didn't provide an end date of their current active awards, so for this time of grant will be analyzed and visualized differently*</span>
<span id="cb69-167"><a href="#cb69-167" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-168"><a href="#cb69-168" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-169"><a href="#cb69-169" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-170"><a href="#cb69-170" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-171"><a href="#cb69-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-172"><a href="#cb69-172" aria-hidden="true" tabindex="-1"></a>Q1_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb69-173"><a href="#cb69-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-174"><a href="#cb69-174" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb69-175"><a href="#cb69-175" aria-hidden="true" tabindex="-1"></a>Q1_Data<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_Data<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-176"><a href="#cb69-176" aria-hidden="true" tabindex="-1"></a>Q1_Data<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_Data<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-177"><a href="#cb69-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-178"><a href="#cb69-178" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb69-179"><a href="#cb69-179" aria-hidden="true" tabindex="-1"></a>Q1_Data <span class="ot">&lt;-</span> Q1_Data[<span class="fu">complete.cases</span>(Q1_Data<span class="sc">$</span>StartDate, Q1_Data<span class="sc">$</span>EndDate), ]</span>
<span id="cb69-180"><a href="#cb69-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-181"><a href="#cb69-181" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb69-182"><a href="#cb69-182" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb69-183"><a href="#cb69-183" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data, <span class="fu">aes</span>(<span class="at">y =</span> Sponsor, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb69-184"><a href="#cb69-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">10</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>  <span class="co"># Use linewidth instead of size</span></span>
<span id="cb69-185"><a href="#cb69-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">"2021-01-01"</span>), <span class="fu">as.Date</span>(<span class="st">"2029-01-01"</span>))) <span class="sc">+</span></span>
<span id="cb69-186"><a href="#cb69-186" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline"</span>,</span>
<span id="cb69-187"><a href="#cb69-187" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb69-188"><a href="#cb69-188" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Sponsor"</span>) <span class="sc">+</span></span>
<span id="cb69-189"><a href="#cb69-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-190"><a href="#cb69-190" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>)</span>
<span id="cb69-191"><a href="#cb69-191" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-192"><a href="#cb69-192" aria-hidden="true" tabindex="-1"></a>**Figure 1:** Active Awards at UI. This Gantt  Chart provides information of the longevity of the current awards that are at UI.</span>
<span id="cb69-193"><a href="#cb69-193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-194"><a href="#cb69-194" aria-hidden="true" tabindex="-1"></a>The previous visualization (**Figure 1**) was just an overview of the longevity of the current awards that are at UI. The following visualizations, we can see the active awards by sponsor and Principal Investigator (PI). By looking at these visualization we can determine the longevity of their active awards and compare/contrast between sponsors. By looking at these three visualizations (**Figure 1**, **Figure 2**, **Figure 3**), at a glance we can observe that we have more active awards in NSF compared to NIH and DOE, and these NSF awards has a longer end date by 2028, but still we some awards that ends in between 2024/2025 (like for the DOE and NIH awards).</span>
<span id="cb69-195"><a href="#cb69-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-196"><a href="#cb69-196" aria-hidden="true" tabindex="-1"></a>By looking at these visualizations, we can say that for the sponsor **DOE**, we have only **4 current PIs** that have active awards (their expiration date is in late 2024). Which comes to a concern, because why PIs are not applying for awards at DOE, it is something to look into. Like, look for information what the DOE asks to apply for their awards, and also talk to those current PIs at UI, to have their perspective and how can we expand the university's portfolio this specific sponsor. For the **NIH and NSF** awards, we have an active flow of awards, but still we have to look into those awards that are to be expired, and what are the plans from those current PIs.</span>
<span id="cb69-197"><a href="#cb69-197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-200"><a href="#cb69-200" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-201"><a href="#cb69-201" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-202"><a href="#cb69-202" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-203"><a href="#cb69-203" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-204"><a href="#cb69-204" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb69-205"><a href="#cb69-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-206"><a href="#cb69-206" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb69-207"><a href="#cb69-207" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb69-208"><a href="#cb69-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-209"><a href="#cb69-209" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb69-210"><a href="#cb69-210" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb69-211"><a href="#cb69-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"DOE"</span>)</span>
<span id="cb69-212"><a href="#cb69-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-213"><a href="#cb69-213" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb69-214"><a href="#cb69-214" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_DOE<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-215"><a href="#cb69-215" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_DOE<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-216"><a href="#cb69-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-217"><a href="#cb69-217" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb69-218"><a href="#cb69-218" aria-hidden="true" tabindex="-1"></a>Q1_PI_DOE <span class="ot">&lt;-</span> Q1_PI_DOE[<span class="fu">complete.cases</span>(Q1_PI_DOE<span class="sc">$</span>StartDate, Q1_PI_DOE<span class="sc">$</span>EndDate), ]</span>
<span id="cb69-219"><a href="#cb69-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-220"><a href="#cb69-220" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb69-221"><a href="#cb69-221" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_DOE, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> PI)) <span class="sc">+</span></span>
<span id="cb69-222"><a href="#cb69-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"darkgrey"</span>) <span class="sc">+</span></span>
<span id="cb69-223"><a href="#cb69-223" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb69-224"><a href="#cb69-224" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb69-225"><a href="#cb69-225" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb69-226"><a href="#cb69-226" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb69-227"><a href="#cb69-227" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-228"><a href="#cb69-228" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb69-229"><a href="#cb69-229" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))  <span class="co"># Set horizontal justification to center</span></span>
<span id="cb69-230"><a href="#cb69-230" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-231"><a href="#cb69-231" aria-hidden="true" tabindex="-1"></a>**Figure 2:** Active Award by PI (DOE). This Gantt  Chart provides information of the longevity of the current awards that are at UI by PI for DOE.</span>
<span id="cb69-232"><a href="#cb69-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-235"><a href="#cb69-235" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-236"><a href="#cb69-236" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-237"><a href="#cb69-237" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-238"><a href="#cb69-238" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-239"><a href="#cb69-239" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb69-240"><a href="#cb69-240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-241"><a href="#cb69-241" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb69-242"><a href="#cb69-242" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb69-243"><a href="#cb69-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-244"><a href="#cb69-244" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb69-245"><a href="#cb69-245" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb69-246"><a href="#cb69-246" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"NIH"</span>)</span>
<span id="cb69-247"><a href="#cb69-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-248"><a href="#cb69-248" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb69-249"><a href="#cb69-249" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NIH<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-250"><a href="#cb69-250" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NIH<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-251"><a href="#cb69-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-252"><a href="#cb69-252" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb69-253"><a href="#cb69-253" aria-hidden="true" tabindex="-1"></a>Q1_PI_NIH <span class="ot">&lt;-</span> Q1_PI_NIH[<span class="fu">complete.cases</span>(Q1_PI_NIH<span class="sc">$</span>StartDate, Q1_PI_NIH<span class="sc">$</span>EndDate), ]</span>
<span id="cb69-254"><a href="#cb69-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-255"><a href="#cb69-255" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart</span></span>
<span id="cb69-256"><a href="#cb69-256" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_NIH, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> PI)) <span class="sc">+</span></span>
<span id="cb69-257"><a href="#cb69-257" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span></span>
<span id="cb69-258"><a href="#cb69-258" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb69-259"><a href="#cb69-259" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb69-260"><a href="#cb69-260" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb69-261"><a href="#cb69-261" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb69-262"><a href="#cb69-262" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-263"><a href="#cb69-263" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb69-264"><a href="#cb69-264" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>))  <span class="co"># Set horizontal justification to center</span></span>
<span id="cb69-265"><a href="#cb69-265" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-266"><a href="#cb69-266" aria-hidden="true" tabindex="-1"></a>**Figure 3:**Active Award by PI (NIH). This Gantt  Chart provides information of the longevity of the current awards that are at UI by PI for NIH.</span>
<span id="cb69-267"><a href="#cb69-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-270"><a href="#cb69-270" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-271"><a href="#cb69-271" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-272"><a href="#cb69-272" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-273"><a href="#cb69-273" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-274"><a href="#cb69-274" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb69-275"><a href="#cb69-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-276"><a href="#cb69-276" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb69-277"><a href="#cb69-277" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb69-278"><a href="#cb69-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-279"><a href="#cb69-279" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb69-280"><a href="#cb69-280" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb69-281"><a href="#cb69-281" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-282"><a href="#cb69-282" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-283"><a href="#cb69-283" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb69-284"><a href="#cb69-284" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-285"><a href="#cb69-285" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-286"><a href="#cb69-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-287"><a href="#cb69-287" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb69-288"><a href="#cb69-288" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_PI_NSF[<span class="fu">complete.cases</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, Q1_PI_NSF<span class="sc">$</span>EndDate), ]</span>
<span id="cb69-289"><a href="#cb69-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-290"><a href="#cb69-290" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart with adjusted y-axis labels</span></span>
<span id="cb69-291"><a href="#cb69-291" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_NSF, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate, <span class="at">yend =</span> PI)) <span class="sc">+</span></span>
<span id="cb69-292"><a href="#cb69-292" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span></span>
<span id="cb69-293"><a href="#cb69-293" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>) <span class="sc">+</span></span>
<span id="cb69-294"><a href="#cb69-294" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb69-295"><a href="#cb69-295" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb69-296"><a href="#cb69-296" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb69-297"><a href="#cb69-297" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-298"><a href="#cb69-298" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb69-299"><a href="#cb69-299" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb69-300"><a href="#cb69-300" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>))  <span class="co"># Reduce the size of y-axis labels</span></span>
<span id="cb69-301"><a href="#cb69-301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-302"><a href="#cb69-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-303"><a href="#cb69-303" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-304"><a href="#cb69-304" aria-hidden="true" tabindex="-1"></a>**Figure 4**Active Award by PI (NSF). This Gantt  Chart provides information of the longevity of the current awards that are at UI by PI for NSF.</span>
<span id="cb69-305"><a href="#cb69-305" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-306"><a href="#cb69-306" aria-hidden="true" tabindex="-1"></a>For the following visualizations, is going to show the total of award money of each of the sponsors. On **Figure 3** we have a bar chart representing each of the sponsors and in the y axis we have the total of award money in millions. By looking at this graph we can say that **NSF** has the highest amount of award of our current active awards, and the least amount of awarded money is from the **DOE**, which is to be expected because we don't have many active award from them. </span>
<span id="cb69-307"><a href="#cb69-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-310"><a href="#cb69-310" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-311"><a href="#cb69-311" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-312"><a href="#cb69-312" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># For formatting labels</span></span>
<span id="cb69-313"><a href="#cb69-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-314"><a href="#cb69-314" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb69-315"><a href="#cb69-315" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data_4.xlsx"</span>)</span>
<span id="cb69-316"><a href="#cb69-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-317"><a href="#cb69-317" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Amount to numeric</span></span>
<span id="cb69-318"><a href="#cb69-318" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Q1_Data_Amount<span class="sc">$</span>Amount)</span>
<span id="cb69-319"><a href="#cb69-319" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-320"><a href="#cb69-320" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if there are any non-numeric values in Amount</span></span>
<span id="cb69-321"><a href="#cb69-321" aria-hidden="true" tabindex="-1"></a>non_numeric <span class="ot">&lt;-</span> Q1_Data_Amount[<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">as.numeric</span>(Q1_Data_Amount<span class="sc">$</span>Amount)), ]</span>
<span id="cb69-322"><a href="#cb69-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-323"><a href="#cb69-323" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the structure of the Amount variable</span></span>
<span id="cb69-324"><a href="#cb69-324" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Q1_Data_Amount<span class="sc">$</span>Amount)</span>
<span id="cb69-325"><a href="#cb69-325" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-326"><a href="#cb69-326" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb69-327"><a href="#cb69-327" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb69-328"><a href="#cb69-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-329"><a href="#cb69-329" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot with colors assigned to each sponsor</span></span>
<span id="cb69-330"><a href="#cb69-330" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data_Amount, <span class="fu">aes</span>(<span class="at">x =</span> Sponsor, <span class="at">y =</span> Amount, <span class="at">fill =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb69-331"><a href="#cb69-331" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"sum"</span>) <span class="sc">+</span></span>
<span id="cb69-332"><a href="#cb69-332" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Amount by Sponsor"</span>,</span>
<span id="cb69-333"><a href="#cb69-333" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Sponsor"</span>,</span>
<span id="cb69-334"><a href="#cb69-334" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb69-335"><a href="#cb69-335" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb69-336"><a href="#cb69-336" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-337"><a href="#cb69-337" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb69-338"><a href="#cb69-338" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust title alignment</span></span>
<span id="cb69-339"><a href="#cb69-339" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> sponsor_colors)  <span class="co"># Use manually defined colors for each sponsor</span></span>
<span id="cb69-340"><a href="#cb69-340" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-341"><a href="#cb69-341" aria-hidden="true" tabindex="-1"></a>**Figure 5:** Total Amount of Award in Curent Active Award from each Sponsor</span>
<span id="cb69-342"><a href="#cb69-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-343"><a href="#cb69-343" aria-hidden="true" tabindex="-1"></a>**Figure 6** is going to show the total of award money of each of the sponsors by each PI at UI. In this bar chart representing each of the sponsors, in the y axis we have the total of award money in millions, and in the x axis are the PIs that currently have funding from those sponsor. This will provide information how much funding is awarded to each PI for their research project. Knowing this type of information, you will now if that lab has funding to purchase materials, equipment, stipend for graduate/undergraduate for conducting research in their lab and also provide salary for their research technician or post-docs. The highest funding that we have is from **NSF** from a specific PI, and the following is **NIH**, for **USDA** the data is not presented, because in their data set doesn't provide the list of the PIs.</span>
<span id="cb69-344"><a href="#cb69-344" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb69-347"><a href="#cb69-347" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-348"><a href="#cb69-348" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert Amount to numeric</span></span>
<span id="cb69-349"><a href="#cb69-349" aria-hidden="true" tabindex="-1"></a>Q1_Data<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Q1_Data<span class="sc">$</span>Amount)</span>
<span id="cb69-350"><a href="#cb69-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-351"><a href="#cb69-351" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb69-352"><a href="#cb69-352" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>)</span>
<span id="cb69-353"><a href="#cb69-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-354"><a href="#cb69-354" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot with PI on the x-axis and filled bars by Sponsor</span></span>
<span id="cb69-355"><a href="#cb69-355" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data, <span class="fu">aes</span>(<span class="at">x =</span> PI, <span class="at">y =</span> Amount, <span class="at">fill =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb69-356"><a href="#cb69-356" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"sum"</span>) <span class="sc">+</span></span>
<span id="cb69-357"><a href="#cb69-357" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Amount by PI and Sponsor"</span>,</span>
<span id="cb69-358"><a href="#cb69-358" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Principal Investigator"</span>,</span>
<span id="cb69-359"><a href="#cb69-359" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb69-360"><a href="#cb69-360" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb69-361"><a href="#cb69-361" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-362"><a href="#cb69-362" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">8</span>),  <span class="co"># Adjust font size</span></span>
<span id="cb69-363"><a href="#cb69-363" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust title alignment</span></span>
<span id="cb69-364"><a href="#cb69-364" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> sponsor_colors)  <span class="co"># Use manually defined colors for each sponsor</span></span>
<span id="cb69-365"><a href="#cb69-365" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-366"><a href="#cb69-366" aria-hidden="true" tabindex="-1"></a>**Figure 6:**Total Amount of Award in Current Active Award from each Sponsor by PIs</span>
<span id="cb69-367"><a href="#cb69-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-368"><a href="#cb69-368" aria-hidden="true" tabindex="-1"></a><span class="fu">### University of Idaho - Past Portfolio (10 Years)</span></span>
<span id="cb69-369"><a href="#cb69-369" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-370"><a href="#cb69-370" aria-hidden="true" tabindex="-1"></a>We already saw the current/future portfolio of UI, now lets see how was the performance of UI from the past 10 years. The reason that I am doing these specific visualization is to have a representation of new awards over the past 10 years. By doing this, we can identify trends that may lead to positive and/or negative developments in terms of UIs funding sponsors.By observing these trends, if we have an increasing of awards indicates a positive support from those sponsors, while if we have decrease of awards indicates a negative support from those sponsors, and we have to look more in detail why is there that decline and find solutions to improve in achieving acquiring awards from those sponsors.</span>
<span id="cb69-371"><a href="#cb69-371" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-372"><a href="#cb69-372" aria-hidden="true" tabindex="-1"></a>In our first visualization (**Figure 7**), we can see the performance of UI for the past 10 years. This will provide an understanding of how UI performed in the past compared to our current standing. By looking at the graph we can say that the sponsor **USDA** has had the highest number of awards compared from the other sponsors, but looking at **Figure 8** we can see that the **USDA** doesn't bring the highest total amount of awarded money in that case is **NSF** across the past 10 years. Meaning we may have a lot of grants coming from USDA but the awarded money is not the same as a grant from NSF. Now focusing on **FIGURE 8**, like I mention NSF is the highest in the total amount that is being award but across these 10 years there's has been like an up and down, especially in 2019 and 2022 has the highest funding compared to the following years.  </span>
<span id="cb69-373"><a href="#cb69-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-376"><a href="#cb69-376" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-377"><a href="#cb69-377" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-378"><a href="#cb69-378" aria-hidden="true" tabindex="-1"></a>DOEawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span>
<span id="cb69-379"><a href="#cb69-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-380"><a href="#cb69-380" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_DOE <span class="ot">&lt;-</span> DOEawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-381"><a href="#cb69-381" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Regents of the University of Idaho'</span>)</span>
<span id="cb69-382"><a href="#cb69-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-383"><a href="#cb69-383" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-384"><a href="#cb69-384" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-385"><a href="#cb69-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-386"><a href="#cb69-386" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-387"><a href="#cb69-387" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_DOE <span class="ot">&lt;-</span> filtered_data_UI_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-388"><a href="#cb69-388" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-389"><a href="#cb69-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-390"><a href="#cb69-390" aria-hidden="true" tabindex="-1"></a><span class="co">#USDA</span></span>
<span id="cb69-391"><a href="#cb69-391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-392"><a href="#cb69-392" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-393"><a href="#cb69-393" aria-hidden="true" tabindex="-1"></a>USDAawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"USDAtoUI_Edited_YR.xlsx"</span>)</span>
<span id="cb69-394"><a href="#cb69-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-395"><a href="#cb69-395" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_USDA <span class="ot">&lt;-</span> USDAawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-396"><a href="#cb69-396" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb69-397"><a href="#cb69-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-398"><a href="#cb69-398" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-399"><a href="#cb69-399" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-400"><a href="#cb69-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-401"><a href="#cb69-401" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-402"><a href="#cb69-402" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_USDA <span class="ot">&lt;-</span> filtered_data_UI_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-403"><a href="#cb69-403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-404"><a href="#cb69-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-405"><a href="#cb69-405" aria-hidden="true" tabindex="-1"></a><span class="co">#NIH</span></span>
<span id="cb69-406"><a href="#cb69-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-407"><a href="#cb69-407" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-408"><a href="#cb69-408" aria-hidden="true" tabindex="-1"></a>NIHawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"UI_NIH_ALL_YR.xlsx"</span>)</span>
<span id="cb69-409"><a href="#cb69-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-410"><a href="#cb69-410" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NIH <span class="ot">&lt;-</span> NIHawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-411"><a href="#cb69-411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'UNIVERSITY OF IDAHO'</span>)</span>
<span id="cb69-412"><a href="#cb69-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-413"><a href="#cb69-413" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-414"><a href="#cb69-414" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-415"><a href="#cb69-415" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-416"><a href="#cb69-416" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-417"><a href="#cb69-417" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb69-418"><a href="#cb69-418" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NIH <span class="ot">&lt;-</span> filtered_data_UI_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-419"><a href="#cb69-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-420"><a href="#cb69-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-421"><a href="#cb69-421" aria-hidden="true" tabindex="-1"></a><span class="co">#NSF</span></span>
<span id="cb69-422"><a href="#cb69-422" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-423"><a href="#cb69-423" aria-hidden="true" tabindex="-1"></a>NSFawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_ALL_YR.xlsx"</span>)</span>
<span id="cb69-424"><a href="#cb69-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-425"><a href="#cb69-425" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NSF <span class="ot">&lt;-</span> NSFawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-426"><a href="#cb69-426" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb69-427"><a href="#cb69-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-428"><a href="#cb69-428" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-429"><a href="#cb69-429" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-430"><a href="#cb69-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-431"><a href="#cb69-431" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-432"><a href="#cb69-432" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb69-433"><a href="#cb69-433" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-434"><a href="#cb69-434" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-435"><a href="#cb69-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-436"><a href="#cb69-436" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the column names for "Start Date" vary across datasets, replace "Start Date" with the actual column name for each dataset.</span></span>
<span id="cb69-437"><a href="#cb69-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-438"><a href="#cb69-438" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb69-439"><a href="#cb69-439" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_DOE <span class="ot">&lt;-</span> filtered_data_UI_10y_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-440"><a href="#cb69-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"Start Date"</span>))</span>
<span id="cb69-441"><a href="#cb69-441" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-442"><a href="#cb69-442" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb69-443"><a href="#cb69-443" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_USDA <span class="ot">&lt;-</span> filtered_data_UI_10y_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-444"><a href="#cb69-444" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"Award Date"</span>))</span>
<span id="cb69-445"><a href="#cb69-445" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-446"><a href="#cb69-446" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb69-447"><a href="#cb69-447" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NIH <span class="ot">&lt;-</span> filtered_data_UI_10y_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-448"><a href="#cb69-448" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"Project Start Date"</span>))</span>
<span id="cb69-449"><a href="#cb69-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-450"><a href="#cb69-450" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb69-451"><a href="#cb69-451" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-452"><a href="#cb69-452" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"StartDate"</span>))</span>
<span id="cb69-453"><a href="#cb69-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-454"><a href="#cb69-454" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of awards by award date for each dataset</span></span>
<span id="cb69-455"><a href="#cb69-455" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> filtered_data_UI_10y_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-456"><a href="#cb69-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-457"><a href="#cb69-457" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-458"><a href="#cb69-458" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> filtered_data_UI_10y_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-459"><a href="#cb69-459" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>)</span>
<span id="cb69-460"><a href="#cb69-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-461"><a href="#cb69-461" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> filtered_data_UI_10y_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-462"><a href="#cb69-462" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>)</span>
<span id="cb69-463"><a href="#cb69-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-464"><a href="#cb69-464" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-465"><a href="#cb69-465" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(StartDate)</span>
<span id="cb69-466"><a href="#cb69-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-467"><a href="#cb69-467" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Sponsor column to each data frame</span></span>
<span id="cb69-468"><a href="#cb69-468" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> award_counts_DOE <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb69-469"><a href="#cb69-469" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> award_counts_USDA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb69-470"><a href="#cb69-470" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> award_counts_NIH <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb69-471"><a href="#cb69-471" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> award_counts_NSF <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-472"><a href="#cb69-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-473"><a href="#cb69-473" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb69-474"><a href="#cb69-474" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> award_counts_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-475"><a href="#cb69-475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-476"><a href="#cb69-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb69-477"><a href="#cb69-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-478"><a href="#cb69-478" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb69-479"><a href="#cb69-479" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> award_counts_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-480"><a href="#cb69-480" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-481"><a href="#cb69-481" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb69-482"><a href="#cb69-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-483"><a href="#cb69-483" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb69-484"><a href="#cb69-484" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> award_counts_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-485"><a href="#cb69-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-486"><a href="#cb69-486" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb69-487"><a href="#cb69-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-488"><a href="#cb69-488" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb69-489"><a href="#cb69-489" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> award_counts_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-490"><a href="#cb69-490" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> StartDate) <span class="sc">%&gt;%</span></span>
<span id="cb69-491"><a href="#cb69-491" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-492"><a href="#cb69-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-493"><a href="#cb69-493" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb69-494"><a href="#cb69-494" aria-hidden="true" tabindex="-1"></a>award_counts_DOE <span class="ot">&lt;-</span> award_counts_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-495"><a href="#cb69-495" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb69-496"><a href="#cb69-496" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb69-497"><a href="#cb69-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-498"><a href="#cb69-498" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb69-499"><a href="#cb69-499" aria-hidden="true" tabindex="-1"></a>award_counts_USDA <span class="ot">&lt;-</span> award_counts_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-500"><a href="#cb69-500" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb69-501"><a href="#cb69-501" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb69-502"><a href="#cb69-502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-503"><a href="#cb69-503" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb69-504"><a href="#cb69-504" aria-hidden="true" tabindex="-1"></a>award_counts_NIH <span class="ot">&lt;-</span> award_counts_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-505"><a href="#cb69-505" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb69-506"><a href="#cb69-506" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb69-507"><a href="#cb69-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-508"><a href="#cb69-508" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb69-509"><a href="#cb69-509" aria-hidden="true" tabindex="-1"></a>award_counts_NSF <span class="ot">&lt;-</span> award_counts_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-510"><a href="#cb69-510" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb69-511"><a href="#cb69-511" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-512"><a href="#cb69-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-513"><a href="#cb69-513" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-514"><a href="#cb69-514" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine all dataframes into a single dataframe</span></span>
<span id="cb69-515"><a href="#cb69-515" aria-hidden="true" tabindex="-1"></a>all_award_counts <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb69-516"><a href="#cb69-516" aria-hidden="true" tabindex="-1"></a>  award_counts_DOE,</span>
<span id="cb69-517"><a href="#cb69-517" aria-hidden="true" tabindex="-1"></a>  award_counts_USDA,</span>
<span id="cb69-518"><a href="#cb69-518" aria-hidden="true" tabindex="-1"></a>  award_counts_NIH,</span>
<span id="cb69-519"><a href="#cb69-519" aria-hidden="true" tabindex="-1"></a>  award_counts_NSF</span>
<span id="cb69-520"><a href="#cb69-520" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-521"><a href="#cb69-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-522"><a href="#cb69-522" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb69-523"><a href="#cb69-523" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb69-524"><a href="#cb69-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-525"><a href="#cb69-525" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the timeline with overlapping lines, adjusted x-axis labels, individual colors, and centralized title</span></span>
<span id="cb69-526"><a href="#cb69-526" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_award_counts, <span class="fu">aes</span>(<span class="at">x =</span> Start_Date, <span class="at">color =</span> Sponsor, <span class="at">group =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb69-527"><a href="#cb69-527" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_freqpoly</span>(<span class="at">binwidth =</span> <span class="dv">30</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb69-528"><a href="#cb69-528" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Awards Timeline by Sponsor"</span>,</span>
<span id="cb69-529"><a href="#cb69-529" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Start Date"</span>,</span>
<span id="cb69-530"><a href="#cb69-530" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Count"</span>) <span class="sc">+</span></span>
<span id="cb69-531"><a href="#cb69-531" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb69-532"><a href="#cb69-532" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> sponsor_colors) <span class="sc">+</span></span>
<span id="cb69-533"><a href="#cb69-533" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-534"><a href="#cb69-534" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb69-535"><a href="#cb69-535" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb69-536"><a href="#cb69-536" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb69-537"><a href="#cb69-537" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-538"><a href="#cb69-538" aria-hidden="true" tabindex="-1"></a>**Figure 7:** Performance of UI from the past 10 years on total amount of awards</span>
<span id="cb69-539"><a href="#cb69-539" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-542"><a href="#cb69-542" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-543"><a href="#cb69-543" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-544"><a href="#cb69-544" aria-hidden="true" tabindex="-1"></a>DOEawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span>
<span id="cb69-545"><a href="#cb69-545" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-546"><a href="#cb69-546" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_DOE <span class="ot">&lt;-</span> DOEawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-547"><a href="#cb69-547" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Regents of the University of Idaho'</span>)</span>
<span id="cb69-548"><a href="#cb69-548" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-549"><a href="#cb69-549" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-550"><a href="#cb69-550" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-551"><a href="#cb69-551" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-552"><a href="#cb69-552" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-553"><a href="#cb69-553" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_DOE <span class="ot">&lt;-</span> filtered_data_UI_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-554"><a href="#cb69-554" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-555"><a href="#cb69-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-556"><a href="#cb69-556" aria-hidden="true" tabindex="-1"></a><span class="co">#USDA</span></span>
<span id="cb69-557"><a href="#cb69-557" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-558"><a href="#cb69-558" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-559"><a href="#cb69-559" aria-hidden="true" tabindex="-1"></a>USDAawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"USDAtoUI_Edited_YR.xlsx"</span>)</span>
<span id="cb69-560"><a href="#cb69-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-561"><a href="#cb69-561" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_USDA <span class="ot">&lt;-</span> USDAawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-562"><a href="#cb69-562" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb69-563"><a href="#cb69-563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-564"><a href="#cb69-564" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-565"><a href="#cb69-565" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-566"><a href="#cb69-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-567"><a href="#cb69-567" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-568"><a href="#cb69-568" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_USDA <span class="ot">&lt;-</span> filtered_data_UI_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-569"><a href="#cb69-569" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span> <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-570"><a href="#cb69-570" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-571"><a href="#cb69-571" aria-hidden="true" tabindex="-1"></a><span class="co">#NIH</span></span>
<span id="cb69-572"><a href="#cb69-572" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-573"><a href="#cb69-573" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-574"><a href="#cb69-574" aria-hidden="true" tabindex="-1"></a>NIHawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"UI_NIH_ALL_YR.xlsx"</span>)</span>
<span id="cb69-575"><a href="#cb69-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-576"><a href="#cb69-576" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NIH <span class="ot">&lt;-</span> NIHawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-577"><a href="#cb69-577" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'UNIVERSITY OF IDAHO'</span>)</span>
<span id="cb69-578"><a href="#cb69-578" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-579"><a href="#cb69-579" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-580"><a href="#cb69-580" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-581"><a href="#cb69-581" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-582"><a href="#cb69-582" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-583"><a href="#cb69-583" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb69-584"><a href="#cb69-584" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NIH <span class="ot">&lt;-</span> filtered_data_UI_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-585"><a href="#cb69-585" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-586"><a href="#cb69-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-587"><a href="#cb69-587" aria-hidden="true" tabindex="-1"></a><span class="co">#NSF</span></span>
<span id="cb69-588"><a href="#cb69-588" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the Excel file</span></span>
<span id="cb69-589"><a href="#cb69-589" aria-hidden="true" tabindex="-1"></a>NSFawardsUI_Dates <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_ALL_YR.xlsx"</span>)</span>
<span id="cb69-590"><a href="#cb69-590" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-591"><a href="#cb69-591" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_NSF <span class="ot">&lt;-</span> NSFawardsUI_Dates <span class="sc">%&gt;%</span></span>
<span id="cb69-592"><a href="#cb69-592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'University of Idaho'</span>)</span>
<span id="cb69-593"><a href="#cb69-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-594"><a href="#cb69-594" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the start date column is named "Start_Date"</span></span>
<span id="cb69-595"><a href="#cb69-595" aria-hidden="true" tabindex="-1"></a>ten_years_ago <span class="ot">&lt;-</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="fu">years</span>(<span class="dv">10</span>)  <span class="co"># </span></span>
<span id="cb69-596"><a href="#cb69-596" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-597"><a href="#cb69-597" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data to include only awards that</span></span>
<span id="cb69-598"><a href="#cb69-598" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming the date format is Month/Day/Year</span></span>
<span id="cb69-599"><a href="#cb69-599" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-600"><a href="#cb69-600" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>) <span class="sc">&gt;=</span> ten_years_ago)</span>
<span id="cb69-601"><a href="#cb69-601" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-602"><a href="#cb69-602" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove dollar signs ($) and commas (,) from numeric columns</span></span>
<span id="cb69-603"><a href="#cb69-603" aria-hidden="true" tabindex="-1"></a>filtered_data_UI_10y_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-604"><a href="#cb69-604" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AwardedAmountToDate =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"[</span><span class="sc">\\</span><span class="st">$,]"</span>, <span class="st">""</span>, AwardedAmountToDate)))</span>
<span id="cb69-605"><a href="#cb69-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-606"><a href="#cb69-606" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-607"><a href="#cb69-607" aria-hidden="true" tabindex="-1"></a><span class="co"># Sum the total amount by start date for each sponsor</span></span>
<span id="cb69-608"><a href="#cb69-608" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> filtered_data_UI_10y_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-609"><a href="#cb69-609" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-610"><a href="#cb69-610" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>))</span>
<span id="cb69-611"><a href="#cb69-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-612"><a href="#cb69-612" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> filtered_data_UI_10y_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-613"><a href="#cb69-613" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-614"><a href="#cb69-614" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Award Dollars</span><span class="st">`</span>))</span>
<span id="cb69-615"><a href="#cb69-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-616"><a href="#cb69-616" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> filtered_data_UI_10y_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-617"><a href="#cb69-617" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-618"><a href="#cb69-618" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Total Cost</span><span class="st">`</span>))</span>
<span id="cb69-619"><a href="#cb69-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-620"><a href="#cb69-620" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> filtered_data_UI_10y_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-621"><a href="#cb69-621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(StartDate) <span class="sc">%&gt;%</span></span>
<span id="cb69-622"><a href="#cb69-622" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Total_Amount =</span> <span class="fu">sum</span>(AwardedAmountToDate))</span>
<span id="cb69-623"><a href="#cb69-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-624"><a href="#cb69-624" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Sponsor column to each data frame</span></span>
<span id="cb69-625"><a href="#cb69-625" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> amount_sum_DOE <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb69-626"><a href="#cb69-626" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> amount_sum_USDA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb69-627"><a href="#cb69-627" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> amount_sum_NIH <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb69-628"><a href="#cb69-628" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> amount_sum_NSF <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-629"><a href="#cb69-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-630"><a href="#cb69-630" aria-hidden="true" tabindex="-1"></a><span class="co"># For DOE dataset</span></span>
<span id="cb69-631"><a href="#cb69-631" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> amount_sum_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-632"><a href="#cb69-632" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-633"><a href="#cb69-633" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>)</span>
<span id="cb69-634"><a href="#cb69-634" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-635"><a href="#cb69-635" aria-hidden="true" tabindex="-1"></a><span class="co"># For USDA dataset</span></span>
<span id="cb69-636"><a href="#cb69-636" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> amount_sum_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-637"><a href="#cb69-637" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Award Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-638"><a href="#cb69-638" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>)</span>
<span id="cb69-639"><a href="#cb69-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-640"><a href="#cb69-640" aria-hidden="true" tabindex="-1"></a><span class="co"># For NIH dataset</span></span>
<span id="cb69-641"><a href="#cb69-641" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> amount_sum_NIH  <span class="sc">%&gt;%</span></span>
<span id="cb69-642"><a href="#cb69-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-643"><a href="#cb69-643" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>)</span>
<span id="cb69-644"><a href="#cb69-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-645"><a href="#cb69-645" aria-hidden="true" tabindex="-1"></a><span class="co"># For NSF dataset</span></span>
<span id="cb69-646"><a href="#cb69-646" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> amount_sum_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-647"><a href="#cb69-647" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">Start_Date =</span> StartDate) <span class="sc">%&gt;%</span></span>
<span id="cb69-648"><a href="#cb69-648" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-649"><a href="#cb69-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-650"><a href="#cb69-650" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming Start_Date is in character format, convert it to datetime</span></span>
<span id="cb69-651"><a href="#cb69-651" aria-hidden="true" tabindex="-1"></a>amount_sum_DOE <span class="ot">&lt;-</span> amount_sum_DOE <span class="sc">%&gt;%</span></span>
<span id="cb69-652"><a href="#cb69-652" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-653"><a href="#cb69-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-654"><a href="#cb69-654" aria-hidden="true" tabindex="-1"></a>amount_sum_USDA <span class="ot">&lt;-</span> amount_sum_USDA <span class="sc">%&gt;%</span></span>
<span id="cb69-655"><a href="#cb69-655" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-656"><a href="#cb69-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-657"><a href="#cb69-657" aria-hidden="true" tabindex="-1"></a>amount_sum_NIH <span class="ot">&lt;-</span> amount_sum_NIH <span class="sc">%&gt;%</span></span>
<span id="cb69-658"><a href="#cb69-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-659"><a href="#cb69-659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-660"><a href="#cb69-660" aria-hidden="true" tabindex="-1"></a>amount_sum_NSF <span class="ot">&lt;-</span> amount_sum_NSF <span class="sc">%&gt;%</span></span>
<span id="cb69-661"><a href="#cb69-661" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Start_Date =</span> <span class="fu">as.Date</span>(Start_Date, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-662"><a href="#cb69-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-663"><a href="#cb69-663" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the data frames</span></span>
<span id="cb69-664"><a href="#cb69-664" aria-hidden="true" tabindex="-1"></a>all_amount_sum <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(</span>
<span id="cb69-665"><a href="#cb69-665" aria-hidden="true" tabindex="-1"></a>  amount_sum_DOE <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"DOE"</span>),</span>
<span id="cb69-666"><a href="#cb69-666" aria-hidden="true" tabindex="-1"></a>  amount_sum_USDA <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"USDA"</span>),</span>
<span id="cb69-667"><a href="#cb69-667" aria-hidden="true" tabindex="-1"></a>  amount_sum_NIH <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NIH"</span>),</span>
<span id="cb69-668"><a href="#cb69-668" aria-hidden="true" tabindex="-1"></a>  amount_sum_NSF <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Sponsor =</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-669"><a href="#cb69-669" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb69-670"><a href="#cb69-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-671"><a href="#cb69-671" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb69-672"><a href="#cb69-672" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb69-673"><a href="#cb69-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-674"><a href="#cb69-674" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb69-675"><a href="#cb69-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-676"><a href="#cb69-676" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the timeline with overlapping lines, adjusted x-axis labels, individual colors, and centralized title</span></span>
<span id="cb69-677"><a href="#cb69-677" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(all_amount_sum, <span class="fu">aes</span>(<span class="at">x =</span> Start_Date, <span class="at">y =</span> Total_Amount <span class="sc">/</span> <span class="fl">1e6</span>, <span class="at">color =</span> Sponsor, <span class="at">group =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb69-678"><a href="#cb69-678" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb69-679"><a href="#cb69-679" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Awards Timeline by Sponsor - Total Amount"</span>,</span>
<span id="cb69-680"><a href="#cb69-680" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Start Date"</span>,</span>
<span id="cb69-681"><a href="#cb69-681" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb69-682"><a href="#cb69-682" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">expand =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb69-683"><a href="#cb69-683" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb69-684"><a href="#cb69-684" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> sponsor_colors) <span class="sc">+</span></span>
<span id="cb69-685"><a href="#cb69-685" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-686"><a href="#cb69-686" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb69-687"><a href="#cb69-687" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)</span>
<span id="cb69-688"><a href="#cb69-688" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb69-689"><a href="#cb69-689" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-690"><a href="#cb69-690" aria-hidden="true" tabindex="-1"></a>**Figure 8:**Performance of UI from the past 10 years of total of amount money awarded</span>
<span id="cb69-691"><a href="#cb69-691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-692"><a href="#cb69-692" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-693"><a href="#cb69-693" aria-hidden="true" tabindex="-1"></a><span class="fu">### Comparison Between Peers Institutions</span></span>
<span id="cb69-694"><a href="#cb69-694" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-695"><a href="#cb69-695" aria-hidden="true" tabindex="-1"></a>We already saw how UI is performing with these sponsors, but now lest compare with the following peer institutions: Boise State University and Idaho State University. The aim for the following visualizations is to understand how UIs performance in securing awards, conducting research, and acquiring funding measures up against similar institutions in the region or within the same academic field.</span>
<span id="cb69-696"><a href="#cb69-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-697"><a href="#cb69-697" aria-hidden="true" tabindex="-1"></a>::: callout-note</span>
<span id="cb69-698"><a href="#cb69-698" aria-hidden="true" tabindex="-1"></a><span class="fu">## NOTE</span></span>
<span id="cb69-699"><a href="#cb69-699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-700"><a href="#cb69-700" aria-hidden="true" tabindex="-1"></a>The following data sets are from the institutions of Boise State University and Idaho State University, the data set from University of Idaho is already been presented at the beginning of the blog post. Also, these data sets are long and extensive and it was shorten, for your benefit to be able to visualize how the data table looks like.</span>
<span id="cb69-701"><a href="#cb69-701" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb69-702"><a href="#cb69-702" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-703"><a href="#cb69-703" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Boise State University - Data Sources</span></span>
<span id="cb69-704"><a href="#cb69-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-705"><a href="#cb69-705" aria-hidden="true" tabindex="-1"></a>**Department of Agriculture (NIFA)**</span>
<span id="cb69-706"><a href="#cb69-706" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-709"><a href="#cb69-709" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-710"><a href="#cb69-710" aria-hidden="true" tabindex="-1"></a>BSUUSDA  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"USDABSU.csv"</span>)</span>
<span id="cb69-711"><a href="#cb69-711" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(BSUUSDA,<span class="dv">4</span>))</span>
<span id="cb69-712"><a href="#cb69-712" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-713"><a href="#cb69-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-714"><a href="#cb69-714" aria-hidden="true" tabindex="-1"></a>**Department of Energy**</span>
<span id="cb69-717"><a href="#cb69-717" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-718"><a href="#cb69-718" aria-hidden="true" tabindex="-1"></a>DOEawardsBSU <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span>
<span id="cb69-719"><a href="#cb69-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-720"><a href="#cb69-720" aria-hidden="true" tabindex="-1"></a>DOEBSU_General <span class="ot">&lt;-</span> DOEawardsBSU <span class="sc">%&gt;%</span> </span>
<span id="cb69-721"><a href="#cb69-721" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Boise State University'</span>)</span>
<span id="cb69-722"><a href="#cb69-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-723"><a href="#cb69-723" aria-hidden="true" tabindex="-1"></a>DOEBSU_New_Awards <span class="ot">&lt;-</span> DOEBSU_General <span class="sc">%&gt;%</span></span>
<span id="cb69-724"><a href="#cb69-724" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, Institution, PI, Status, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>, <span class="st">`</span><span class="at">Program Office</span><span class="st">`</span>, <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Most Recent Award Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>)</span>
<span id="cb69-725"><a href="#cb69-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-726"><a href="#cb69-726" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DOEBSU_New_Awards,<span class="dv">4</span>))</span>
<span id="cb69-727"><a href="#cb69-727" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-728"><a href="#cb69-728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-729"><a href="#cb69-729" aria-hidden="true" tabindex="-1"></a>**National Institutes of Health (NIH)**</span>
<span id="cb69-730"><a href="#cb69-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-733"><a href="#cb69-733" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-734"><a href="#cb69-734" aria-hidden="true" tabindex="-1"></a>NIHBSUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIHBSU_2.xlsx"</span>)</span>
<span id="cb69-735"><a href="#cb69-735" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-736"><a href="#cb69-736" aria-hidden="true" tabindex="-1"></a>NIHBSU_New_Awards_Specific <span class="ot">&lt;-</span> NIHBSUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb69-737"><a href="#cb69-737" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">'Project Title'</span>, <span class="st">'Administering IC'</span>, <span class="st">'Award Notice Date'</span>, <span class="st">`</span><span class="at">Opportunity Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget End Date</span><span class="st">`</span>, <span class="st">'Total Cost'</span>, <span class="st">'Total Cost (Sub Projects)'</span>, <span class="st">'Funding IC(s)'</span>, <span class="st">'Direct Cost IC'</span>, <span class="st">'InDirect Cost IC'</span>, <span class="st">'Total Cost IC'</span>)</span>
<span id="cb69-738"><a href="#cb69-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-739"><a href="#cb69-739" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NIHBSU_New_Awards_Specific,<span class="dv">4</span>))</span>
<span id="cb69-740"><a href="#cb69-740" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-741"><a href="#cb69-741" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-742"><a href="#cb69-742" aria-hidden="true" tabindex="-1"></a>**National Science Foundation (NSF)**</span>
<span id="cb69-743"><a href="#cb69-743" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-746"><a href="#cb69-746" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-747"><a href="#cb69-747" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset from an Excel file</span></span>
<span id="cb69-748"><a href="#cb69-748" aria-hidden="true" tabindex="-1"></a>NSFBSUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSFBSU_2.xlsx"</span>)</span>
<span id="cb69-749"><a href="#cb69-749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-750"><a href="#cb69-750" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific columns, ensure there are no leading or trailing spaces in column names</span></span>
<span id="cb69-751"><a href="#cb69-751" aria-hidden="true" tabindex="-1"></a>NSFBSU_New_Awards_Specific <span class="ot">&lt;-</span> NSFBSUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb69-752"><a href="#cb69-752" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, NSFOrganization, StartDate, LastAmendmentDate, EndDate, AwardedAmountToDate)</span>
<span id="cb69-753"><a href="#cb69-753" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-754"><a href="#cb69-754" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the first few rows in a table format</span></span>
<span id="cb69-755"><a href="#cb69-755" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NSFBSU_New_Awards_Specific,<span class="dv">4</span>))</span>
<span id="cb69-756"><a href="#cb69-756" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-757"><a href="#cb69-757" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-758"><a href="#cb69-758" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Idaho State University - Data Sources</span></span>
<span id="cb69-759"><a href="#cb69-759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-760"><a href="#cb69-760" aria-hidden="true" tabindex="-1"></a>**Department of Energy**</span>
<span id="cb69-763"><a href="#cb69-763" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-764"><a href="#cb69-764" aria-hidden="true" tabindex="-1"></a>DOEaward <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards.xlsx"</span>)</span>
<span id="cb69-765"><a href="#cb69-765" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-766"><a href="#cb69-766" aria-hidden="true" tabindex="-1"></a>DOEIDAHOSATTE_General <span class="ot">&lt;-</span> DOEaward <span class="sc">%&gt;%</span> </span>
<span id="cb69-767"><a href="#cb69-767" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">'Idaho State University'</span>)</span>
<span id="cb69-768"><a href="#cb69-768" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-769"><a href="#cb69-769" aria-hidden="true" tabindex="-1"></a>DOEDAHOSATTE_New_Awards <span class="ot">&lt;-</span> DOEIDAHOSATTE_General <span class="sc">%&gt;%</span></span>
<span id="cb69-770"><a href="#cb69-770" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, Institution, PI, Status, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>, <span class="st">`</span><span class="at">Program Office</span><span class="st">`</span>, <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Most Recent Award Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>)</span>
<span id="cb69-771"><a href="#cb69-771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-772"><a href="#cb69-772" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(DOEDAHOSATTE_New_Awards,<span class="dv">4</span>))</span>
<span id="cb69-773"><a href="#cb69-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-774"><a href="#cb69-774" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-775"><a href="#cb69-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-776"><a href="#cb69-776" aria-hidden="true" tabindex="-1"></a>**Department of Agriculture (NIFA)**</span>
<span id="cb69-777"><a href="#cb69-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-780"><a href="#cb69-780" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-781"><a href="#cb69-781" aria-hidden="true" tabindex="-1"></a>ISUUSDA  <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"USDAISU.csv"</span>)</span>
<span id="cb69-782"><a href="#cb69-782" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(ISUUSDA,<span class="dv">4</span>))</span>
<span id="cb69-783"><a href="#cb69-783" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-784"><a href="#cb69-784" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-785"><a href="#cb69-785" aria-hidden="true" tabindex="-1"></a>**National Institutes of Health (NIH)**</span>
<span id="cb69-786"><a href="#cb69-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-789"><a href="#cb69-789" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-790"><a href="#cb69-790" aria-hidden="true" tabindex="-1"></a>NIHISUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIHISU_2.xlsx"</span>)</span>
<span id="cb69-791"><a href="#cb69-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-792"><a href="#cb69-792" aria-hidden="true" tabindex="-1"></a>NIHISU_New_Awards_Specific <span class="ot">&lt;-</span> NIHISUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb69-793"><a href="#cb69-793" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="st">'Project Title'</span>, <span class="st">'Administering IC'</span>, <span class="st">'Award Notice Date'</span>, <span class="st">`</span><span class="at">Opportunity Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Number</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Project End Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget Start Date</span><span class="st">`</span>, <span class="st">`</span><span class="at">Budget End Date</span><span class="st">`</span>, <span class="st">'Total Cost'</span>, <span class="st">'Total Cost (Sub Projects)'</span>, <span class="st">'Funding IC(s)'</span>, <span class="st">'Direct Cost IC'</span>, <span class="st">'InDirect Cost IC'</span>, <span class="st">'Total Cost IC'</span>)</span>
<span id="cb69-794"><a href="#cb69-794" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-795"><a href="#cb69-795" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NIHISU_New_Awards_Specific,<span class="dv">4</span>))</span>
<span id="cb69-796"><a href="#cb69-796" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-797"><a href="#cb69-797" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-798"><a href="#cb69-798" aria-hidden="true" tabindex="-1"></a>**National Science Foundation (NSF)**</span>
<span id="cb69-799"><a href="#cb69-799" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-802"><a href="#cb69-802" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-803"><a href="#cb69-803" aria-hidden="true" tabindex="-1"></a><span class="co"># Reading the dataset from an Excel file</span></span>
<span id="cb69-804"><a href="#cb69-804" aria-hidden="true" tabindex="-1"></a>NSFISUAwardsActive <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSFISU_2.xlsx"</span>)</span>
<span id="cb69-805"><a href="#cb69-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-806"><a href="#cb69-806" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific columns, ensure there are no leading or trailing spaces in column names</span></span>
<span id="cb69-807"><a href="#cb69-807" aria-hidden="true" tabindex="-1"></a>NSFISU_New_Awards_Specific <span class="ot">&lt;-</span> NSFISUAwardsActive <span class="sc">%&gt;%</span></span>
<span id="cb69-808"><a href="#cb69-808" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Title, NSFOrganization, StartDate, LastAmendmentDate, EndDate, AwardedAmountToDate)</span>
<span id="cb69-809"><a href="#cb69-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-810"><a href="#cb69-810" aria-hidden="true" tabindex="-1"></a><span class="co"># Displaying the first few rows in a table format</span></span>
<span id="cb69-811"><a href="#cb69-811" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(NSFISU_New_Awards_Specific,<span class="dv">4</span>))</span>
<span id="cb69-812"><a href="#cb69-812" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-813"><a href="#cb69-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-814"><a href="#cb69-814" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Data Comparison of Awarded Money</span></span>
<span id="cb69-815"><a href="#cb69-815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-816"><a href="#cb69-816" aria-hidden="true" tabindex="-1"></a>The following visualizations will show us how much is awarded money is coming to these institutions, and will provide insights into UI's competitiveness and standing within its peer group.</span>
<span id="cb69-817"><a href="#cb69-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-818"><a href="#cb69-818" aria-hidden="true" tabindex="-1"></a>In our first visualization (**Figure 9**) we are looking at the total of awarded money of current active awards from the **USDA**, and UI's excelling compared to Boise State University. There's no data of Idaho State University,because they don't have current active awards with them. This indicates that UI's is on top in the game in regards of obtaining funds from the USDA. On **Figure 10** we have for the sponsor **DOE** in contrast of what we saw in the previous graph, UI is under performing and Boise State is excelling in obtaining funds. Which is something that we need to take into consideration and look for more information, why is UI not performing well in securing funds from DOE. **Figure 11**. In our last visualization (**Figure 11**), we have the sponsor **NIH**, in which UI is performing well comparing to its peers. Looking at these data we can determine in the areas the UI is excelling and under performing, and we can make the necessary adjustments to keep excelling in the academic field.</span>
<span id="cb69-819"><a href="#cb69-819" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-820"><a href="#cb69-820" aria-hidden="true" tabindex="-1"></a>*Idaho State University doesn't have currently active USDA award that is why is not added in the following visualization*</span>
<span id="cb69-821"><a href="#cb69-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-824"><a href="#cb69-824" aria-hidden="true" tabindex="-1"></a><span class="in">```{R}</span></span>
<span id="cb69-825"><a href="#cb69-825" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN USDA - AWARD MONEY</span></span>
<span id="cb69-826"><a href="#cb69-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-827"><a href="#cb69-827" aria-hidden="true" tabindex="-1"></a>USDA_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"USDA_Combined_Data_Recent_Awards.xlsx"</span>)</span>
<span id="cb69-828"><a href="#cb69-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-829"><a href="#cb69-829" aria-hidden="true" tabindex="-1"></a><span class="co"># Define a vector of old names and a new name</span></span>
<span id="cb69-830"><a href="#cb69-830" aria-hidden="true" tabindex="-1"></a>old_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"SAES - UNIVERSITY OF IDAHO"</span>, <span class="st">"FRST - UNIVERSITY OF IDAHO-FORESTRY SCHOOL"</span>)</span>
<span id="cb69-831"><a href="#cb69-831" aria-hidden="true" tabindex="-1"></a>new_name <span class="ot">&lt;-</span> <span class="st">"UNIVERSITY OF IDAHO"</span></span>
<span id="cb69-832"><a href="#cb69-832" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-833"><a href="#cb69-833" aria-hidden="true" tabindex="-1"></a><span class="co"># Use mutate with ifelse and %in% to change multiple old names to the new name</span></span>
<span id="cb69-834"><a href="#cb69-834" aria-hidden="true" tabindex="-1"></a>USDA_Compare_Data <span class="ot">&lt;-</span> <span class="fu">mutate</span>(USDA_Compare_Data, <span class="at">Grantee_Name =</span> <span class="fu">ifelse</span>(Grantee_Name <span class="sc">%in%</span> old_names, new_name, Grantee_Name))</span>
<span id="cb69-835"><a href="#cb69-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-836"><a href="#cb69-836" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb69-837"><a href="#cb69-837" aria-hidden="true" tabindex="-1"></a>USDA_total_award_money <span class="ot">&lt;-</span> USDA_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-838"><a href="#cb69-838" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Grantee_Name) <span class="sc">%&gt;%</span></span>
<span id="cb69-839"><a href="#cb69-839" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">USDA_total_award_money =</span> <span class="fu">sum</span>(Award_Dollars))</span>
<span id="cb69-840"><a href="#cb69-840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-841"><a href="#cb69-841" aria-hidden="true" tabindex="-1"></a>my_colors_6 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BOISE STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"UNIVERSITY OF IDAHO"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-842"><a href="#cb69-842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-843"><a href="#cb69-843" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(USDA_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> Grantee_Name, <span class="at">y =</span> USDA_total_award_money)) <span class="sc">+</span></span>
<span id="cb69-844"><a href="#cb69-844" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">fill =</span> my_colors_6) <span class="sc">+</span></span>
<span id="cb69-845"><a href="#cb69-845" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from USDA Grants"</span>) <span class="sc">+</span></span>
<span id="cb69-846"><a href="#cb69-846" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-847"><a href="#cb69-847" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb69-848"><a href="#cb69-848" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-849"><a href="#cb69-849" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb69-850"><a href="#cb69-850" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),</span>
<span id="cb69-851"><a href="#cb69-851" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Corrected position of plot title</span></span>
<span id="cb69-852"><a href="#cb69-852" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span>
<span id="cb69-853"><a href="#cb69-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-854"><a href="#cb69-854" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-855"><a href="#cb69-855" aria-hidden="true" tabindex="-1"></a>**Figure 9:** Total of Award Money from USDA Grants</span>
<span id="cb69-856"><a href="#cb69-856" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-859"><a href="#cb69-859" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-860"><a href="#cb69-860" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN DOE - AWARD MONEY</span></span>
<span id="cb69-861"><a href="#cb69-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-862"><a href="#cb69-862" aria-hidden="true" tabindex="-1"></a>DOE_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards_Combined_Data.xlsx"</span>)</span>
<span id="cb69-863"><a href="#cb69-863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-864"><a href="#cb69-864" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb69-865"><a href="#cb69-865" aria-hidden="true" tabindex="-1"></a>DOE_total_award_money <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-866"><a href="#cb69-866" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution) <span class="sc">%&gt;%</span></span>
<span id="cb69-867"><a href="#cb69-867" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">DOE_total_award_money =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Amount Awarded to Date</span><span class="st">`</span>))</span>
<span id="cb69-868"><a href="#cb69-868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-869"><a href="#cb69-869" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb69-870"><a href="#cb69-870" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-871"><a href="#cb69-871" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-872"><a href="#cb69-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-873"><a href="#cb69-873" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(DOE_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> Institution, <span class="at">y =</span> DOE_total_award_money)) <span class="sc">+</span></span>
<span id="cb69-874"><a href="#cb69-874" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors)  <span class="sc">+</span></span>
<span id="cb69-875"><a href="#cb69-875" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from DOE Grants"</span>) <span class="sc">+</span></span>
<span id="cb69-876"><a href="#cb69-876" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-877"><a href="#cb69-877" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb69-878"><a href="#cb69-878" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-879"><a href="#cb69-879" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb69-880"><a href="#cb69-880" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb69-881"><a href="#cb69-881" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb69-882"><a href="#cb69-882" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  <span class="co"># Adjust size of plot title</span></span>
<span id="cb69-883"><a href="#cb69-883" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span>
<span id="cb69-884"><a href="#cb69-884" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-885"><a href="#cb69-885" aria-hidden="true" tabindex="-1"></a>**Figure 10:**Total of Award Money from DOE Grants</span>
<span id="cb69-886"><a href="#cb69-886" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-889"><a href="#cb69-889" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-890"><a href="#cb69-890" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NSF - AWARD MONEY - NO APARECE LA DATA</span></span>
<span id="cb69-891"><a href="#cb69-891" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-892"><a href="#cb69-892" aria-hidden="true" tabindex="-1"></a>NSF_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_Combined_Data.xlsx"</span>)</span>
<span id="cb69-893"><a href="#cb69-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-894"><a href="#cb69-894" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb69-895"><a href="#cb69-895" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-896"><a href="#cb69-896" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Regents of the University of Idaho"</span>)</span>
<span id="cb69-897"><a href="#cb69-897" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-898"><a href="#cb69-898" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-899"><a href="#cb69-899" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Boise State University"</span>)</span>
<span id="cb69-900"><a href="#cb69-900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-901"><a href="#cb69-901" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-902"><a href="#cb69-902" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Idaho State University"</span>)</span>
<span id="cb69-903"><a href="#cb69-903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-904"><a href="#cb69-904" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert AwardedAmountToDate column to numeric</span></span>
<span id="cb69-905"><a href="#cb69-905" aria-hidden="true" tabindex="-1"></a>NSF_Compare_Data<span class="sc">$</span>AwardedAmountToDate <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, <span class="st">""</span>, NSF_Compare_Data<span class="sc">$</span>AwardedAmountToDate))</span>
<span id="cb69-906"><a href="#cb69-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-907"><a href="#cb69-907" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove dollar signs ($) and commas (,) from numeric columns</span></span>
<span id="cb69-908"><a href="#cb69-908" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-909"><a href="#cb69-909" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AwardedAmountToDate =</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">"[</span><span class="sc">\\</span><span class="st">$,]"</span>, <span class="st">""</span>, AwardedAmountToDate)))</span>
<span id="cb69-910"><a href="#cb69-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-911"><a href="#cb69-911" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb69-912"><a href="#cb69-912" aria-hidden="true" tabindex="-1"></a>NSF_total_award_money <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-913"><a href="#cb69-913" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Organization) <span class="sc">%&gt;%</span></span>
<span id="cb69-914"><a href="#cb69-914" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NSF_total_award_money =</span> <span class="fu">sum</span>(AwardedAmountToDate, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb69-915"><a href="#cb69-915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-916"><a href="#cb69-916" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution</span></span>
<span id="cb69-917"><a href="#cb69-917" aria-hidden="true" tabindex="-1"></a>NSF_total_award_money <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-918"><a href="#cb69-918" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Organization) <span class="sc">%&gt;%</span></span>
<span id="cb69-919"><a href="#cb69-919" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NSF_total_award_money =</span> <span class="fu">sum</span>(AwardedAmountToDate))</span>
<span id="cb69-920"><a href="#cb69-920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-921"><a href="#cb69-921" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb69-922"><a href="#cb69-922" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-923"><a href="#cb69-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-924"><a href="#cb69-924" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NSF_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> Organization, <span class="at">y =</span> NSF_total_award_money)) <span class="sc">+</span></span>
<span id="cb69-925"><a href="#cb69-925" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors)  <span class="sc">+</span></span>
<span id="cb69-926"><a href="#cb69-926" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from NSF Grants"</span>) <span class="sc">+</span></span>
<span id="cb69-927"><a href="#cb69-927" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-928"><a href="#cb69-928" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb69-929"><a href="#cb69-929" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-930"><a href="#cb69-930" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb69-931"><a href="#cb69-931" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb69-932"><a href="#cb69-932" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb69-933"><a href="#cb69-933" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  <span class="co"># Adjust size of plot title</span></span>
<span id="cb69-934"><a href="#cb69-934" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span>
<span id="cb69-935"><a href="#cb69-935" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-936"><a href="#cb69-936" aria-hidden="true" tabindex="-1"></a>**Figure 11:**Total of Award Money from NSF Grants</span>
<span id="cb69-937"><a href="#cb69-937" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-940"><a href="#cb69-940" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-941"><a href="#cb69-941" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NIH - AWARD MONEY - CALCULATED THE AVERAGE INSTEAD THE TOTAL AMMOUNT</span></span>
<span id="cb69-942"><a href="#cb69-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-943"><a href="#cb69-943" aria-hidden="true" tabindex="-1"></a>NIH_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIH_Combined_Data.xlsx"</span>)</span>
<span id="cb69-944"><a href="#cb69-944" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-945"><a href="#cb69-945" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total award money for each institution, removing NA values in TotalCost</span></span>
<span id="cb69-946"><a href="#cb69-946" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-947"><a href="#cb69-947" aria-hidden="true" tabindex="-1"></a>NIH_total_award_money <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-948"><a href="#cb69-948" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OrganizationName) <span class="sc">%&gt;%</span></span>
<span id="cb69-949"><a href="#cb69-949" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">NIH_total_award_money =</span> <span class="fu">sum</span>(TotalCost, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb69-950"><a href="#cb69-950" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-951"><a href="#cb69-951" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb69-952"><a href="#cb69-952" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-953"><a href="#cb69-953" aria-hidden="true" tabindex="-1"></a>my_colors_3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BOISE STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"IDAHO STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"UNIVERSITY OF IDAHO"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-954"><a href="#cb69-954" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-955"><a href="#cb69-955" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NIH_total_award_money, <span class="fu">aes</span>(<span class="at">x =</span> OrganizationName, <span class="at">y =</span> NIH_total_award_money)) <span class="sc">+</span></span>
<span id="cb69-956"><a href="#cb69-956" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors_3)  <span class="sc">+</span></span>
<span id="cb69-957"><a href="#cb69-957" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Total of Award Money from NIH Grants"</span>) <span class="sc">+</span></span>
<span id="cb69-958"><a href="#cb69-958" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-959"><a href="#cb69-959" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Total Award Money"</span>) <span class="sc">+</span></span>
<span id="cb69-960"><a href="#cb69-960" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-961"><a href="#cb69-961" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb69-962"><a href="#cb69-962" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb69-963"><a href="#cb69-963" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb69-964"><a href="#cb69-964" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>)) <span class="sc">+</span>  <span class="co"># Adjust size of plot title</span></span>
<span id="cb69-965"><a href="#cb69-965" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">number_format</span>(<span class="at">scale =</span> <span class="fl">1e-6</span>, <span class="at">suffix =</span> <span class="st">"M"</span>))</span>
<span id="cb69-966"><a href="#cb69-966" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-967"><a href="#cb69-967" aria-hidden="true" tabindex="-1"></a>**Figure 12:**Total of Award Money from NIH Grants</span>
<span id="cb69-968"><a href="#cb69-968" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-969"><a href="#cb69-969" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Data Comparison of Grant Duration</span></span>
<span id="cb69-970"><a href="#cb69-970" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-971"><a href="#cb69-971" aria-hidden="true" tabindex="-1"></a>The following visualizations will show us how the duration of the awarded grants of these institutions, and will provide insights into UI's competitiveness and standing within its peer group. These visualization are for the current active awards from each sponsor.</span>
<span id="cb69-972"><a href="#cb69-972" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-973"><a href="#cb69-973" aria-hidden="true" tabindex="-1"></a>In our first visualization (**Figure 13**), its the duration of the current active awards for the sponsor DOE. By, looking at these bar chart, we can easily point out that our **DOE** awards ends in 4 years compared to Boise State University that ends in 5 years. This means that during that year gap, UI have to look for renewing awards or to apply for new awards. For the **NSF** award (**Figure 14**) Idaho State University has the longest duration of their current active awards for 10 years, and University of Idaho comes second. We are coming in par with the Idaho State University, also to clarify some of these awarded grants, depending of the type of grant can go for longer than 5 years. For the **NIH** award (**Figure 15**) University of Idaho, is at the top for the the longest duration of their current active awards for the NIH, over 20 years. Like I mentioned before some of these grants can go longer than 5 years.</span>
<span id="cb69-974"><a href="#cb69-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-975"><a href="#cb69-975" aria-hidden="true" tabindex="-1"></a>*USDA data was not added for this data visualization because it didn't provide an end date of their current active awards*</span>
<span id="cb69-976"><a href="#cb69-976" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-979"><a href="#cb69-979" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-980"><a href="#cb69-980" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN DOE - Grant Duration</span></span>
<span id="cb69-981"><a href="#cb69-981" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-982"><a href="#cb69-982" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-983"><a href="#cb69-983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-984"><a href="#cb69-984" aria-hidden="true" tabindex="-1"></a>DOE_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"DOEawards_Combined_Data.xlsx"</span>)</span>
<span id="cb69-985"><a href="#cb69-985" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-986"><a href="#cb69-986" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-987"><a href="#cb69-987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-988"><a href="#cb69-988" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'start_date' and 'end_date' are columns containing the start and end dates of the grants,</span></span>
<span id="cb69-989"><a href="#cb69-989" aria-hidden="true" tabindex="-1"></a><span class="co"># and 'institution' is a column indicating the institution for each grant</span></span>
<span id="cb69-990"><a href="#cb69-990" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-991"><a href="#cb69-991" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb69-992"><a href="#cb69-992" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-993"><a href="#cb69-993" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">"Regents of the University of Idaho"</span>)</span>
<span id="cb69-994"><a href="#cb69-994" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-995"><a href="#cb69-995" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-996"><a href="#cb69-996" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">"Boise State University"</span>)</span>
<span id="cb69-997"><a href="#cb69-997" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-998"><a href="#cb69-998" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-999"><a href="#cb69-999" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Institution <span class="sc">==</span> <span class="st">"Idaho State University"</span>)</span>
<span id="cb69-1000"><a href="#cb69-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1001"><a href="#cb69-1001" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the duration of grants for each institution</span></span>
<span id="cb69-1002"><a href="#cb69-1002" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "Start Date" and "End Date" columns to date objects</span></span>
<span id="cb69-1003"><a href="#cb69-1003" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> UI_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1004"><a href="#cb69-1004" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1005"><a href="#cb69-1005" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1006"><a href="#cb69-1006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1007"><a href="#cb69-1007" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1008"><a href="#cb69-1008" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> UI_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1009"><a href="#cb69-1009" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1010"><a href="#cb69-1010" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1011"><a href="#cb69-1011" aria-hidden="true" tabindex="-1"></a>UI_data <span class="ot">&lt;-</span> UI_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1012"><a href="#cb69-1012" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1013"><a href="#cb69-1013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1014"><a href="#cb69-1014" aria-hidden="true" tabindex="-1"></a><span class="co"># BSU</span></span>
<span id="cb69-1015"><a href="#cb69-1015" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> BSU_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1016"><a href="#cb69-1016" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1017"><a href="#cb69-1017" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1018"><a href="#cb69-1018" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1019"><a href="#cb69-1019" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1020"><a href="#cb69-1020" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> BSU_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1021"><a href="#cb69-1021" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1022"><a href="#cb69-1022" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1023"><a href="#cb69-1023" aria-hidden="true" tabindex="-1"></a>BSU_data <span class="ot">&lt;-</span> BSU_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1024"><a href="#cb69-1024" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1025"><a href="#cb69-1025" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1026"><a href="#cb69-1026" aria-hidden="true" tabindex="-1"></a><span class="co"># ISU</span></span>
<span id="cb69-1027"><a href="#cb69-1027" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> ISU_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1028"><a href="#cb69-1028" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1029"><a href="#cb69-1029" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(<span class="st">`</span><span class="at">End Date</span><span class="st">`</span>, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1030"><a href="#cb69-1030" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1031"><a href="#cb69-1031" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1032"><a href="#cb69-1032" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> ISU_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1033"><a href="#cb69-1033" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1034"><a href="#cb69-1034" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1035"><a href="#cb69-1035" aria-hidden="true" tabindex="-1"></a>ISU_data <span class="ot">&lt;-</span> ISU_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1036"><a href="#cb69-1036" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1037"><a href="#cb69-1037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1038"><a href="#cb69-1038" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb69-1039"><a href="#cb69-1039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1040"><a href="#cb69-1040" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1041"><a href="#cb69-1041" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1042"><a href="#cb69-1042" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming UI_data contains the grant duration information for one institution</span></span>
<span id="cb69-1043"><a href="#cb69-1043" aria-hidden="true" tabindex="-1"></a><span class="co"># and other_datasets contain the grant duration information for the other institutions</span></span>
<span id="cb69-1044"><a href="#cb69-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1045"><a href="#cb69-1045" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb69-1046"><a href="#cb69-1046" aria-hidden="true" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(UI_data, BSU_data, ISU_data)</span>
<span id="cb69-1047"><a href="#cb69-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1048"><a href="#cb69-1048" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb69-1049"><a href="#cb69-1049" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1050"><a href="#cb69-1050" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-1051"><a href="#cb69-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1052"><a href="#cb69-1052" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb69-1053"><a href="#cb69-1053" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb69-1054"><a href="#cb69-1054" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1055"><a href="#cb69-1055" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1056"><a href="#cb69-1056" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_data, <span class="fu">aes</span>(<span class="at">x =</span> Institution, <span class="at">y =</span> grant_duration_years)) <span class="sc">+</span></span>
<span id="cb69-1057"><a href="#cb69-1057" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> <span class="fu">c</span>(my_colors[combined_data<span class="sc">$</span>Institution])) <span class="sc">+</span>  </span>
<span id="cb69-1058"><a href="#cb69-1058" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grant Duration by Institution"</span>) <span class="sc">+</span></span>
<span id="cb69-1059"><a href="#cb69-1059" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-1060"><a href="#cb69-1060" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Grant Duration (Years)"</span>) <span class="sc">+</span></span>
<span id="cb69-1061"><a href="#cb69-1061" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1062"><a href="#cb69-1062" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb69-1063"><a href="#cb69-1063" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb69-1064"><a href="#cb69-1064" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))  </span>
<span id="cb69-1065"><a href="#cb69-1065" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-1066"><a href="#cb69-1066" aria-hidden="true" tabindex="-1"></a>**Figure 13:** Grant Duration by Institution (DOE). This Bar  Chart provides information of the duration of the current active awards by Institution for DOE.</span>
<span id="cb69-1067"><a href="#cb69-1067" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1070"><a href="#cb69-1070" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-1071"><a href="#cb69-1071" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NSF - Grant Duration</span></span>
<span id="cb69-1072"><a href="#cb69-1072" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1073"><a href="#cb69-1073" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-1074"><a href="#cb69-1074" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1075"><a href="#cb69-1075" aria-hidden="true" tabindex="-1"></a>NSF_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NSF_Combined_Data.xlsx"</span>)</span>
<span id="cb69-1076"><a href="#cb69-1076" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1077"><a href="#cb69-1077" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1078"><a href="#cb69-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1079"><a href="#cb69-1079" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb69-1080"><a href="#cb69-1080" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1081"><a href="#cb69-1081" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Regents of the University of Idaho"</span>)</span>
<span id="cb69-1082"><a href="#cb69-1082" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1083"><a href="#cb69-1083" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1084"><a href="#cb69-1084" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Boise State University"</span>)</span>
<span id="cb69-1085"><a href="#cb69-1085" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1086"><a href="#cb69-1086" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1087"><a href="#cb69-1087" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Organization <span class="sc">==</span> <span class="st">"Idaho State University"</span>)</span>
<span id="cb69-1088"><a href="#cb69-1088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1089"><a href="#cb69-1089" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the duration of grants for each institution</span></span>
<span id="cb69-1090"><a href="#cb69-1090" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "Start Date" and "End Date" columns to date objects</span></span>
<span id="cb69-1091"><a href="#cb69-1091" aria-hidden="true" tabindex="-1"></a><span class="co">#UI</span></span>
<span id="cb69-1092"><a href="#cb69-1092" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1093"><a href="#cb69-1093" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1094"><a href="#cb69-1094" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1095"><a href="#cb69-1095" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1096"><a href="#cb69-1096" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1097"><a href="#cb69-1097" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1098"><a href="#cb69-1098" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1099"><a href="#cb69-1099" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1100"><a href="#cb69-1100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1101"><a href="#cb69-1101" aria-hidden="true" tabindex="-1"></a>UI_NSF_data <span class="ot">&lt;-</span> UI_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1102"><a href="#cb69-1102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1103"><a href="#cb69-1103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1104"><a href="#cb69-1104" aria-hidden="true" tabindex="-1"></a><span class="co"># BSU</span></span>
<span id="cb69-1105"><a href="#cb69-1105" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data  <span class="ot">&lt;-</span> BSU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1106"><a href="#cb69-1106" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1107"><a href="#cb69-1107" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1108"><a href="#cb69-1108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1109"><a href="#cb69-1109" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1110"><a href="#cb69-1110" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data  <span class="ot">&lt;-</span> BSU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1111"><a href="#cb69-1111" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1112"><a href="#cb69-1112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1113"><a href="#cb69-1113" aria-hidden="true" tabindex="-1"></a>BSU_NSF_data  <span class="ot">&lt;-</span> BSU_NSF_data  <span class="sc">%&gt;%</span></span>
<span id="cb69-1114"><a href="#cb69-1114" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1115"><a href="#cb69-1115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1116"><a href="#cb69-1116" aria-hidden="true" tabindex="-1"></a><span class="co"># ISU</span></span>
<span id="cb69-1117"><a href="#cb69-1117" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data<span class="ot">&lt;-</span> ISU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1118"><a href="#cb69-1118" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1119"><a href="#cb69-1119" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1120"><a href="#cb69-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1121"><a href="#cb69-1121" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1122"><a href="#cb69-1122" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> ISU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1123"><a href="#cb69-1123" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1124"><a href="#cb69-1124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1125"><a href="#cb69-1125" aria-hidden="true" tabindex="-1"></a>ISU_NSF_data <span class="ot">&lt;-</span> ISU_NSF_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1126"><a href="#cb69-1126" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1127"><a href="#cb69-1127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1128"><a href="#cb69-1128" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb69-1129"><a href="#cb69-1129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1130"><a href="#cb69-1130" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1131"><a href="#cb69-1131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1132"><a href="#cb69-1132" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming UI_data contains the grant duration information for one institution</span></span>
<span id="cb69-1133"><a href="#cb69-1133" aria-hidden="true" tabindex="-1"></a><span class="co"># and other_datasets contain the grant duration information for the other institutions</span></span>
<span id="cb69-1134"><a href="#cb69-1134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1135"><a href="#cb69-1135" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb69-1136"><a href="#cb69-1136" aria-hidden="true" tabindex="-1"></a>combined_data_NSF <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(UI_NSF_data, BSU_NSF_data, ISU_NSF_data)</span>
<span id="cb69-1137"><a href="#cb69-1137" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1138"><a href="#cb69-1138" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb69-1139"><a href="#cb69-1139" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1140"><a href="#cb69-1140" aria-hidden="true" tabindex="-1"></a>my_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Boise State University"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"Idaho State University"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"Regents of the University of Idaho"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-1141"><a href="#cb69-1141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1142"><a href="#cb69-1142" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb69-1143"><a href="#cb69-1143" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1144"><a href="#cb69-1144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1145"><a href="#cb69-1145" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_data_NSF, <span class="fu">aes</span>(<span class="at">x =</span> Organization, <span class="at">y =</span> grant_duration_years)) <span class="sc">+</span></span>
<span id="cb69-1146"><a href="#cb69-1146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> <span class="fu">c</span>(my_colors[combined_data_NSF<span class="sc">$</span>Organization])) <span class="sc">+</span></span>
<span id="cb69-1147"><a href="#cb69-1147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grant Duration by Organization"</span>) <span class="sc">+</span></span>
<span id="cb69-1148"><a href="#cb69-1148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-1149"><a href="#cb69-1149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Grant Duration (Years)"</span>) <span class="sc">+</span></span>
<span id="cb69-1150"><a href="#cb69-1150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors) <span class="sc">+</span>  <span class="co"># Apply custom colors</span></span>
<span id="cb69-1151"><a href="#cb69-1151" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1152"><a href="#cb69-1152" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb69-1153"><a href="#cb69-1153" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb69-1154"><a href="#cb69-1154" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb69-1155"><a href="#cb69-1155" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))  <span class="co"># Adjust size of plot title</span></span>
<span id="cb69-1156"><a href="#cb69-1156" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-1157"><a href="#cb69-1157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1158"><a href="#cb69-1158" aria-hidden="true" tabindex="-1"></a>**Figure 14:**Grant Duration by Institution (NSF). This Bar  Chart provides information of the duration of the current active awards by Institution for NSF.</span>
<span id="cb69-1159"><a href="#cb69-1159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1162"><a href="#cb69-1162" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-1163"><a href="#cb69-1163" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NIH - Grant Duration</span></span>
<span id="cb69-1164"><a href="#cb69-1164" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-1165"><a href="#cb69-1165" aria-hidden="true" tabindex="-1"></a>NIH_Compare_Data <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"NIH_Combined_Data.xlsx"</span>)</span>
<span id="cb69-1166"><a href="#cb69-1166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1167"><a href="#cb69-1167" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1168"><a href="#cb69-1168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1169"><a href="#cb69-1169" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for each institution</span></span>
<span id="cb69-1170"><a href="#cb69-1170" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1171"><a href="#cb69-1171" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OrganizationName <span class="sc">==</span> <span class="st">"UNIVERSITY OF IDAHO"</span>)</span>
<span id="cb69-1172"><a href="#cb69-1172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1173"><a href="#cb69-1173" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1174"><a href="#cb69-1174" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OrganizationName <span class="sc">==</span> <span class="st">"BOISE STATE UNIVERSITY"</span>)</span>
<span id="cb69-1175"><a href="#cb69-1175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1176"><a href="#cb69-1176" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data <span class="ot">&lt;-</span> NIH_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1177"><a href="#cb69-1177" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(OrganizationName <span class="sc">==</span> <span class="st">"IDAHO STATE UNIVERSITY"</span>)</span>
<span id="cb69-1178"><a href="#cb69-1178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1179"><a href="#cb69-1179" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the duration of grants for each institution</span></span>
<span id="cb69-1180"><a href="#cb69-1180" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert "Start Date" and "End Date" columns to date objects</span></span>
<span id="cb69-1181"><a href="#cb69-1181" aria-hidden="true" tabindex="-1"></a><span class="co">#UI</span></span>
<span id="cb69-1182"><a href="#cb69-1182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1183"><a href="#cb69-1183" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> UI_NIH_data<span class="sc">%&gt;%</span></span>
<span id="cb69-1184"><a href="#cb69-1184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectStartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1185"><a href="#cb69-1185" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectEndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1186"><a href="#cb69-1186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1187"><a href="#cb69-1187" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1188"><a href="#cb69-1188" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> UI_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1189"><a href="#cb69-1189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1190"><a href="#cb69-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1191"><a href="#cb69-1191" aria-hidden="true" tabindex="-1"></a>UI_NIH_data <span class="ot">&lt;-</span> UI_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1192"><a href="#cb69-1192" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1193"><a href="#cb69-1193" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1194"><a href="#cb69-1194" aria-hidden="true" tabindex="-1"></a><span class="co"># BSU - no quiere funcionar no tengo la menor idea pq</span></span>
<span id="cb69-1195"><a href="#cb69-1195" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data  <span class="ot">&lt;-</span> BSU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1196"><a href="#cb69-1196" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectStartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1197"><a href="#cb69-1197" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectEndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1198"><a href="#cb69-1198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1199"><a href="#cb69-1199" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1200"><a href="#cb69-1200" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data  <span class="ot">&lt;-</span> BSU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1201"><a href="#cb69-1201" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1202"><a href="#cb69-1202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1203"><a href="#cb69-1203" aria-hidden="true" tabindex="-1"></a>BSU_NIH_data  <span class="ot">&lt;-</span> BSU_NIH_data  <span class="sc">%&gt;%</span></span>
<span id="cb69-1204"><a href="#cb69-1204" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1205"><a href="#cb69-1205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1206"><a href="#cb69-1206" aria-hidden="true" tabindex="-1"></a><span class="co"># ISU</span></span>
<span id="cb69-1207"><a href="#cb69-1207" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data<span class="ot">&lt;-</span> ISU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1208"><a href="#cb69-1208" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Start Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectStartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>),</span>
<span id="cb69-1209"><a href="#cb69-1209" aria-hidden="true" tabindex="-1"></a>         <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.Date</span>(ProjectEndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>))</span>
<span id="cb69-1210"><a href="#cb69-1210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1211"><a href="#cb69-1211" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming 'grant_duration' is in days</span></span>
<span id="cb69-1212"><a href="#cb69-1212" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data <span class="ot">&lt;-</span> ISU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1213"><a href="#cb69-1213" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration =</span> <span class="st">`</span><span class="at">End Date</span><span class="st">`</span> <span class="sc">-</span> <span class="st">`</span><span class="at">Start Date</span><span class="st">`</span>)</span>
<span id="cb69-1214"><a href="#cb69-1214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1215"><a href="#cb69-1215" aria-hidden="true" tabindex="-1"></a>ISU_NIH_data <span class="ot">&lt;-</span> ISU_NIH_data <span class="sc">%&gt;%</span></span>
<span id="cb69-1216"><a href="#cb69-1216" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">grant_duration_years =</span> <span class="fu">as.numeric</span>(grant_duration) <span class="sc">/</span> <span class="fl">365.25</span>)</span>
<span id="cb69-1217"><a href="#cb69-1217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1218"><a href="#cb69-1218" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization</span></span>
<span id="cb69-1219"><a href="#cb69-1219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1220"><a href="#cb69-1220" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1221"><a href="#cb69-1221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1222"><a href="#cb69-1222" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming UI_data contains the grant duration information for one institution</span></span>
<span id="cb69-1223"><a href="#cb69-1223" aria-hidden="true" tabindex="-1"></a><span class="co"># and other_datasets contain the grant duration information for the other institutions</span></span>
<span id="cb69-1224"><a href="#cb69-1224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1225"><a href="#cb69-1225" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine datasets</span></span>
<span id="cb69-1226"><a href="#cb69-1226" aria-hidden="true" tabindex="-1"></a>combined_data_NIH <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(UI_NIH_data, BSU_NIH_data, ISU_NIH_data)</span>
<span id="cb69-1227"><a href="#cb69-1227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1228"><a href="#cb69-1228" aria-hidden="true" tabindex="-1"></a><span class="co"># Colors</span></span>
<span id="cb69-1229"><a href="#cb69-1229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1230"><a href="#cb69-1230" aria-hidden="true" tabindex="-1"></a>my_colors_3 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"BOISE STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"orange"</span>, <span class="st">"IDAHO STATE UNIVERSITY"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"UNIVERSITY OF IDAHO"</span> <span class="ot">=</span> <span class="st">"gold"</span>)</span>
<span id="cb69-1231"><a href="#cb69-1231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1232"><a href="#cb69-1232" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting grant duration as a bar graph</span></span>
<span id="cb69-1233"><a href="#cb69-1233" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1234"><a href="#cb69-1234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1235"><a href="#cb69-1235" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(combined_data_NIH, <span class="fu">aes</span>(<span class="at">x =</span> OrganizationName, <span class="at">y =</span> grant_duration_years, <span class="at">fill =</span> OrganizationName)) <span class="sc">+</span></span>
<span id="cb69-1236"><a href="#cb69-1236" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>, <span class="at">fill =</span> my_colors_3[combined_data_NIH<span class="sc">$</span>OrganizationName]) <span class="sc">+</span></span>
<span id="cb69-1237"><a href="#cb69-1237" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Grant Duration by Organization"</span>) <span class="sc">+</span></span>
<span id="cb69-1238"><a href="#cb69-1238" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-1239"><a href="#cb69-1239" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Grant Duration (Years)"</span>) <span class="sc">+</span></span>
<span id="cb69-1240"><a href="#cb69-1240" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors_3) <span class="sc">+</span>  <span class="co"># Apply custom colors</span></span>
<span id="cb69-1241"><a href="#cb69-1241" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1242"><a href="#cb69-1242" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb69-1243"><a href="#cb69-1243" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb69-1244"><a href="#cb69-1244" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb69-1245"><a href="#cb69-1245" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))  <span class="co"># Adjust size of plot title</span></span>
<span id="cb69-1246"><a href="#cb69-1246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1247"><a href="#cb69-1247" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-1248"><a href="#cb69-1248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1249"><a href="#cb69-1249" aria-hidden="true" tabindex="-1"></a>**Figure 15:**Grant Duration by Institution (NIH). This Bar  Chart provides information of the duration of the current active awards by Institution for NIH.</span>
<span id="cb69-1250"><a href="#cb69-1250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1251"><a href="#cb69-1251" aria-hidden="true" tabindex="-1"></a>By looking at these visualizations, we can say that for the sponsor **DOE**, is the only one that we the grant duration is less compared with the other sponsors by institution. Which comes to a concern, like how we can expand our portfolio in regards of acquiring more awards from DOE. For **NIH and NSF** awards, we have an active flow of awards, and some of these awards are going to be active for the formidable future. </span>
<span id="cb69-1252"><a href="#cb69-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1253"><a href="#cb69-1253" aria-hidden="true" tabindex="-1"></a><span class="fu">### Data Comparison of Grant Status</span></span>
<span id="cb69-1254"><a href="#cb69-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1255"><a href="#cb69-1255" aria-hidden="true" tabindex="-1"></a>For the last visualizations, I mentioned in the previous section, there's different types of awarded grants. The following graphs will give us and understanding what type of grants (current active grants) are coming to UI compared to our peer institution.</span>
<span id="cb69-1256"><a href="#cb69-1256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1257"><a href="#cb69-1257" aria-hidden="true" tabindex="-1"></a>*The only available data for this type of analysis is from the sponsors DOE and NSF*</span>
<span id="cb69-1258"><a href="#cb69-1258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1259"><a href="#cb69-1259" aria-hidden="true" tabindex="-1"></a>In our first visualization (**Figure 16**), we are looking at the type of grants that these institutions have in **DOE**. We have two types of grants which are: new and renewal, for our current active we have 3 that are new and 1 renewal. This a type of data to keep in mind, to see how many grants are coming that are new, or if we have that are renewal. But, looking ar this Boise State University has more in new and renewal for DOE sponsor.</span>
<span id="cb69-1260"><a href="#cb69-1260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1261"><a href="#cb69-1261" aria-hidden="true" tabindex="-1"></a>*It is not surprising that UI is under performing in acquiring grants from this sponsor. We have seen that from previous visualizations*</span>
<span id="cb69-1262"><a href="#cb69-1262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1263"><a href="#cb69-1263" aria-hidden="true" tabindex="-1"></a>**Figure 17** we are looking at the type of grants that these institutions have in **NSF**. In contrast to DOE sponsor, we have more types of grants in NSF, which are the following: continuing grant, cooperative agreement, fellowship award, and standard grant. I mentioned before (Grant duration section) that some grants have a longer duration, and that's because it depends on the type of grant it has (that also applies how much money is being awarded). In general as a whole, Boise State University has more active current awards compared to University of Idaho, so the number of types of grants are going to be different then University of Idaho. So, we are going to focus on University of Idaho, that highest type of grant that we current have is the standard grant followed by continuing grants. The one that is under performing is Fellowship award, and that is because most of these awards are awarded to graduate students. Looking at this we can see that not a lot of graduate students at UI are applying to fellowships in NSF, which is something that can be changed, giving the proper guidance.</span>
<span id="cb69-1264"><a href="#cb69-1264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1267"><a href="#cb69-1267" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-1268"><a href="#cb69-1268" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN DOE - Grant Status</span></span>
<span id="cb69-1269"><a href="#cb69-1269" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1270"><a href="#cb69-1270" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1271"><a href="#cb69-1271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1272"><a href="#cb69-1272" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total grant action count for each institution</span></span>
<span id="cb69-1273"><a href="#cb69-1273" aria-hidden="true" tabindex="-1"></a>DOE_Grant_Action <span class="ot">&lt;-</span> DOE_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1274"><a href="#cb69-1274" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Institution, <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-1275"><a href="#cb69-1275" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-1276"><a href="#cb69-1276" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb69-1277"><a href="#cb69-1277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1278"><a href="#cb69-1278" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1279"><a href="#cb69-1279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1280"><a href="#cb69-1280" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming DOE_Grant_Action is your summarized data frame with counts of Action Type by Institution</span></span>
<span id="cb69-1281"><a href="#cb69-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1282"><a href="#cb69-1282" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(DOE_Grant_Action, <span class="fu">aes</span>(<span class="at">x =</span> Institution, <span class="at">y =</span> count, <span class="at">fill =</span> <span class="st">`</span><span class="at">Action Type</span><span class="st">`</span>)) <span class="sc">+</span></span>
<span id="cb69-1283"><a href="#cb69-1283" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb69-1284"><a href="#cb69-1284" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Counts of Action Type by Institution"</span>) <span class="sc">+</span></span>
<span id="cb69-1285"><a href="#cb69-1285" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-1286"><a href="#cb69-1286" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Active Grants"</span>) <span class="sc">+</span></span>
<span id="cb69-1287"><a href="#cb69-1287" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1288"><a href="#cb69-1288" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of x-axis labels</span></span>
<span id="cb69-1289"><a href="#cb69-1289" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of y-axis labels</span></span>
<span id="cb69-1290"><a href="#cb69-1290" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  <span class="co"># Adjust size of legend text</span></span>
<span id="cb69-1291"><a href="#cb69-1291" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb69-1292"><a href="#cb69-1292" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-1293"><a href="#cb69-1293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1294"><a href="#cb69-1294" aria-hidden="true" tabindex="-1"></a>**Figure 16:** Type of Grant for current active awards for DOE.</span>
<span id="cb69-1295"><a href="#cb69-1295" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1298"><a href="#cb69-1298" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-1299"><a href="#cb69-1299" aria-hidden="true" tabindex="-1"></a><span class="co"># COMPARISON BETWEEEN NSF - Grant Status</span></span>
<span id="cb69-1300"><a href="#cb69-1300" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1301"><a href="#cb69-1301" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1302"><a href="#cb69-1302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1303"><a href="#cb69-1303" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total grant action count for each institution</span></span>
<span id="cb69-1304"><a href="#cb69-1304" aria-hidden="true" tabindex="-1"></a>NSF_Grant_Award_Instrument <span class="ot">&lt;-</span> NSF_Compare_Data <span class="sc">%&gt;%</span></span>
<span id="cb69-1305"><a href="#cb69-1305" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Organization, AwardInstrument) <span class="sc">%&gt;%</span></span>
<span id="cb69-1306"><a href="#cb69-1306" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb69-1307"><a href="#cb69-1307" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb69-1308"><a href="#cb69-1308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1309"><a href="#cb69-1309" aria-hidden="true" tabindex="-1"></a><span class="co"># Check unique levels of AwardInstrument</span></span>
<span id="cb69-1310"><a href="#cb69-1310" aria-hidden="true" tabindex="-1"></a>unique_levels <span class="ot">&lt;-</span> <span class="fu">unique</span>(NSF_Grant_Award_Instrument<span class="sc">$</span>AwardInstrument)</span>
<span id="cb69-1311"><a href="#cb69-1311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1312"><a href="#cb69-1312" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust my_colors_4 to match the number of unique levels</span></span>
<span id="cb69-1313"><a href="#cb69-1313" aria-hidden="true" tabindex="-1"></a>my_colors_4 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"navyblue"</span>, <span class="st">"darkgreen"</span>, <span class="st">"darkorange"</span>, <span class="st">"darkred"</span>)  <span class="co"># or any other color palette you prefer</span></span>
<span id="cb69-1314"><a href="#cb69-1314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1315"><a href="#cb69-1315" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot with adjusted colors</span></span>
<span id="cb69-1316"><a href="#cb69-1316" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(NSF_Grant_Award_Instrument, <span class="fu">aes</span>(<span class="at">x =</span> Organization, <span class="at">y =</span> count, <span class="at">fill =</span> AwardInstrument)) <span class="sc">+</span></span>
<span id="cb69-1317"><a href="#cb69-1317" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb69-1318"><a href="#cb69-1318" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">"Number of Counts of Action Type by Institution"</span>) <span class="sc">+</span></span>
<span id="cb69-1319"><a href="#cb69-1319" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">""</span>) <span class="sc">+</span></span>
<span id="cb69-1320"><a href="#cb69-1320" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Number of Active Grants"</span>) <span class="sc">+</span></span>
<span id="cb69-1321"><a href="#cb69-1321" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> my_colors_4) <span class="sc">+</span>  <span class="co"># Add this line to set custom colors</span></span>
<span id="cb69-1322"><a href="#cb69-1322" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1323"><a href="#cb69-1323" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb69-1324"><a href="#cb69-1324" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb69-1325"><a href="#cb69-1325" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>),  </span>
<span id="cb69-1326"><a href="#cb69-1326" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">14</span>))</span>
<span id="cb69-1327"><a href="#cb69-1327" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-1328"><a href="#cb69-1328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1329"><a href="#cb69-1329" aria-hidden="true" tabindex="-1"></a>**Figure 17:** Type of Grant for current active awards for NSF.</span>
<span id="cb69-1330"><a href="#cb69-1330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1331"><a href="#cb69-1331" aria-hidden="true" tabindex="-1"></a>By looking at these visualizations, we can have an understanding of the types of grants that we have at UI for our current awards. I think to expand UIs portfolio is to provide information and workshops for graduate students to have the opportunity to apply for fellowship awards, which will help them to further continue on their research projects.</span>
<span id="cb69-1332"><a href="#cb69-1332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1333"><a href="#cb69-1333" aria-hidden="true" tabindex="-1"></a><span class="fu">## CONLUSIONS/SUMMARY</span></span>
<span id="cb69-1334"><a href="#cb69-1334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1335"><a href="#cb69-1335" aria-hidden="true" tabindex="-1"></a>Looking back at all the previous visualizations, we got a better understanding in how much federal funding is awarded at the University of Idaho (UI) by the following federal agencies: the Department of Energy (DOE), the US Department of Agriculture (NIFA), the National Institute of Health (NIH), and National Science Foundation (NSF). UI excelled in some of them in securing funding in USDA, NIH and NSF grants, the only one that we need to looked into is DOE. We have only 4 currently PIs that have funding through them. It is important for the administration to gain more information, how UI can obtain more funding from DOE. The other thing we have to keep in mind is the current projects that are about to expire in 2024, and if there's plan for renewal or writing for a new grant. Overall, University of Idaho is a academic institution that have grants coming to the university and is increasing in research projects that are on par with other institutions.</span>
<span id="cb69-1336"><a href="#cb69-1336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1337"><a href="#cb69-1337" aria-hidden="true" tabindex="-1"></a>##IMPROVED VISUALIZATIONS</span>
<span id="cb69-1338"><a href="#cb69-1338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1339"><a href="#cb69-1339" aria-hidden="true" tabindex="-1"></a><span class="fu">### Question #1: NSF Active Awards by PI</span></span>
<span id="cb69-1340"><a href="#cb69-1340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1343"><a href="#cb69-1343" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-1344"><a href="#cb69-1344" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1345"><a href="#cb69-1345" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb69-1346"><a href="#cb69-1346" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb69-1347"><a href="#cb69-1347" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb69-1348"><a href="#cb69-1348" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1349"><a href="#cb69-1349" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb69-1350"><a href="#cb69-1350" aria-hidden="true" tabindex="-1"></a>Q1_Data_PI <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data.xlsx"</span>)</span>
<span id="cb69-1351"><a href="#cb69-1351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1352"><a href="#cb69-1352" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the data for DOE sponsor</span></span>
<span id="cb69-1353"><a href="#cb69-1353" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_Data_PI <span class="sc">%&gt;%</span></span>
<span id="cb69-1354"><a href="#cb69-1354" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Sponsor <span class="sc">==</span> <span class="st">"NSF"</span>)</span>
<span id="cb69-1355"><a href="#cb69-1355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1356"><a href="#cb69-1356" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert StartDate and EndDate to Date objects</span></span>
<span id="cb69-1357"><a href="#cb69-1357" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>StartDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-1358"><a href="#cb69-1358" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF<span class="sc">$</span>EndDate <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(Q1_PI_NSF<span class="sc">$</span>EndDate, <span class="at">format =</span> <span class="st">"%m/%d/%Y"</span>)</span>
<span id="cb69-1359"><a href="#cb69-1359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1360"><a href="#cb69-1360" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out rows with NA values in StartDate or EndDate</span></span>
<span id="cb69-1361"><a href="#cb69-1361" aria-hidden="true" tabindex="-1"></a>Q1_PI_NSF <span class="ot">&lt;-</span> Q1_PI_NSF[<span class="fu">complete.cases</span>(Q1_PI_NSF<span class="sc">$</span>StartDate, Q1_PI_NSF<span class="sc">$</span>EndDate), ]</span>
<span id="cb69-1362"><a href="#cb69-1362" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1363"><a href="#cb69-1363" aria-hidden="true" tabindex="-1"></a><span class="co"># Determine the minimum and maximum dates for the x-axis</span></span>
<span id="cb69-1364"><a href="#cb69-1364" aria-hidden="true" tabindex="-1"></a>min_date <span class="ot">&lt;-</span> <span class="fu">min</span>(Q1_PI_NSF<span class="sc">$</span>StartDate)</span>
<span id="cb69-1365"><a href="#cb69-1365" aria-hidden="true" tabindex="-1"></a>max_date <span class="ot">&lt;-</span> <span class="fu">max</span>(Q1_PI_NSF<span class="sc">$</span>EndDate)</span>
<span id="cb69-1366"><a href="#cb69-1366" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1367"><a href="#cb69-1367" aria-hidden="true" tabindex="-1"></a><span class="co"># Extend the x-axis by a certain margin (e.g., 1 year)</span></span>
<span id="cb69-1368"><a href="#cb69-1368" aria-hidden="true" tabindex="-1"></a>extended_min_date <span class="ot">&lt;-</span> min_date <span class="sc">-</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb69-1369"><a href="#cb69-1369" aria-hidden="true" tabindex="-1"></a>extended_max_date <span class="ot">&lt;-</span> max_date <span class="sc">+</span> lubridate<span class="sc">::</span><span class="fu">years</span>(<span class="dv">1</span>)</span>
<span id="cb69-1370"><a href="#cb69-1370" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1371"><a href="#cb69-1371" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the Gantt chart with adjusted y-axis labels and amounts</span></span>
<span id="cb69-1372"><a href="#cb69-1372" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_PI_NSF, <span class="fu">aes</span>(<span class="at">y =</span> PI, <span class="at">x =</span> StartDate, <span class="at">xend =</span> EndDate)) <span class="sc">+</span></span>
<span id="cb69-1373"><a href="#cb69-1373" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">xend =</span> EndDate, <span class="at">y =</span> PI, <span class="at">yend =</span> PI), <span class="at">size =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">"gold"</span>) <span class="sc">+</span>  <span class="co"># Segment colored by PI</span></span>
<span id="cb69-1374"><a href="#cb69-1374" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">x =</span> EndDate, <span class="at">label =</span> Amount), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span>  <span class="co"># Add text labels for amounts at the end of bars with reduced size</span></span>
<span id="cb69-1375"><a href="#cb69-1375" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_date</span>(<span class="at">date_breaks =</span> <span class="st">"1 year"</span>, <span class="at">date_labels =</span> <span class="st">"%Y"</span>, <span class="at">limits =</span> <span class="fu">c</span>(extended_min_date, extended_max_date)) <span class="sc">+</span></span>
<span id="cb69-1376"><a href="#cb69-1376" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Active Awards Timeline by PI"</span>,</span>
<span id="cb69-1377"><a href="#cb69-1377" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Timeline"</span>,</span>
<span id="cb69-1378"><a href="#cb69-1378" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Principal Investigator"</span>) <span class="sc">+</span></span>
<span id="cb69-1379"><a href="#cb69-1379" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1380"><a href="#cb69-1380" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"none"</span>,  <span class="co"># Remove the legend</span></span>
<span id="cb69-1381"><a href="#cb69-1381" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb69-1382"><a href="#cb69-1382" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">6</span>))  <span class="co"># Reduce the size of y-axis label</span></span>
<span id="cb69-1383"><a href="#cb69-1383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb69-1384"><a href="#cb69-1384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1385"><a href="#cb69-1385" aria-hidden="true" tabindex="-1"></a><span class="fu">### Amount of Current Active Awards in UI</span></span>
<span id="cb69-1388"><a href="#cb69-1388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb69-1389"><a href="#cb69-1389" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb69-1390"><a href="#cb69-1390" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)  <span class="co"># For formatting labels</span></span>
<span id="cb69-1391"><a href="#cb69-1391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1392"><a href="#cb69-1392" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the data</span></span>
<span id="cb69-1393"><a href="#cb69-1393" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2 <span class="ot">&lt;-</span> <span class="fu">read_xlsx</span>(<span class="st">"Q1_Compilled_Data_4.xlsx"</span>)</span>
<span id="cb69-1394"><a href="#cb69-1394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1395"><a href="#cb69-1395" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a copy of the Amount column</span></span>
<span id="cb69-1396"><a href="#cb69-1396" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2<span class="sc">$</span>Original_Amount <span class="ot">&lt;-</span> Q1_Data_Amount_2<span class="sc">$</span>Amount</span>
<span id="cb69-1397"><a href="#cb69-1397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1398"><a href="#cb69-1398" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove dollar signs from the Amount column</span></span>
<span id="cb69-1399"><a href="#cb69-1399" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">$"</span>, <span class="st">","</span>, Q1_Data_Amount_2<span class="sc">$</span>Amount)</span>
<span id="cb69-1400"><a href="#cb69-1400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1401"><a href="#cb69-1401" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the Amount column to numeric</span></span>
<span id="cb69-1402"><a href="#cb69-1402" aria-hidden="true" tabindex="-1"></a>Q1_Data_Amount_2<span class="sc">$</span>Amount <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(Q1_Data_Amount_2<span class="sc">$</span>Amount)</span>
<span id="cb69-1403"><a href="#cb69-1403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1404"><a href="#cb69-1404" aria-hidden="true" tabindex="-1"></a><span class="co"># Check for NA values in the Amount column</span></span>
<span id="cb69-1405"><a href="#cb69-1405" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(Q1_Data_Amount_2<span class="sc">$</span>Amount))</span>
<span id="cb69-1406"><a href="#cb69-1406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1407"><a href="#cb69-1407" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the structure of the Amount variable</span></span>
<span id="cb69-1408"><a href="#cb69-1408" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(Q1_Data_Amount_2<span class="sc">$</span>Amount)</span>
<span id="cb69-1409"><a href="#cb69-1409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1410"><a href="#cb69-1410" aria-hidden="true" tabindex="-1"></a><span class="co"># Define colors for each sponsor</span></span>
<span id="cb69-1411"><a href="#cb69-1411" aria-hidden="true" tabindex="-1"></a>sponsor_colors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"DOE"</span> <span class="ot">=</span> <span class="st">"darkgray"</span>, <span class="st">"NSF"</span> <span class="ot">=</span> <span class="st">"gold"</span>, <span class="st">"NIH"</span> <span class="ot">=</span> <span class="st">"black"</span>, <span class="st">"USDA"</span> <span class="ot">=</span> <span class="st">"lightgray"</span>)</span>
<span id="cb69-1412"><a href="#cb69-1412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-1413"><a href="#cb69-1413" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot with colors assigned to each sponsor</span></span>
<span id="cb69-1414"><a href="#cb69-1414" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(Q1_Data_Amount, <span class="fu">aes</span>(<span class="at">x =</span> Sponsor, <span class="at">y =</span> Amount, <span class="at">fill =</span> Sponsor)) <span class="sc">+</span></span>
<span id="cb69-1415"><a href="#cb69-1415" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"summary"</span>, <span class="at">fun =</span> <span class="st">"sum"</span>) <span class="sc">+</span></span>
<span id="cb69-1416"><a href="#cb69-1416" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Total Amount by Sponsor"</span>,</span>
<span id="cb69-1417"><a href="#cb69-1417" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Sponsor"</span>,</span>
<span id="cb69-1418"><a href="#cb69-1418" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Total Amount (Millions)"</span>) <span class="sc">+</span></span>
<span id="cb69-1419"><a href="#cb69-1419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span><span class="fu">unit_format</span>(<span class="at">unit =</span> <span class="st">"M"</span>)) <span class="sc">+</span></span>
<span id="cb69-1420"><a href="#cb69-1420" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb69-1421"><a href="#cb69-1421" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>),</span>
<span id="cb69-1422"><a href="#cb69-1422" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>)) <span class="sc">+</span>  <span class="co"># Adjust title alignment</span></span>
<span id="cb69-1423"><a href="#cb69-1423" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> sponsor_colors)  <span class="co"># Use manually defined colors for each sponsor</span></span>
<span id="cb69-1424"><a href="#cb69-1424" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>