---
title: ASSIGNMENT 4
subtitle: Marks And Channel
author: Geraline Trossi-Torres
Date: 2024-02-14
categories: [Assignment, DataViz]
image: Profile_2.jpg
code-fold: true
code-tools: true
description: Lets Learn about Marks and Channels
---

## Video Games Sales 1980 - 2020

The data set contains a list of more that 100,000 copies of video games, from the time period of 1983 - 2012. It is a public data set that it can be obtain by the following website [Kaggle - Video Game Sales](https://www.kaggle.com/datasets/gregorut/videogamesales?resource=download)

The data contains the rank of overall sales, game title, platform of the video game release, year of game release, genre of the game, publisher of game, and sales in the millions for US, Europe, Japan, rest of world wide and total global sales. 

### Flat Table - Video Games Sales

We have a **Flat Table**, the **items** are the rows, wherein each row is the different types of games that has been released from 1983 - 2012. Each item (games) is described by attributes, which are put in columns. Those **attributes** represent: index, rank, game title, platform, year, genre, publisher, US, Europe, Japan, Rest of the Word, Global (total of sales), and reviews. For each column of the different countries represent the total sales from each one in terms of millions in sales.

```{r}
library(readxl)
my_df <- read_excel("VIdeo_Game_sales.xlsx")

knitr::kable(head(my_df,10))
library(tidyverse)
```

### ATTRIBUTE TYPES

* **Categorical:** game title, platform, year, genre, publisher
* **Ordinal:** Index, ranking
* **Quantitative:** US (sales in millions), Europe (sales in millions), Japan (sales in millions), rest of the word (sales in millions), global  (sales in millions), reviews in the sales

## Expressiveness and Effectiveness

```{r}
library(tidyr)
library(ggplot2)

long_df <- pivot_longer(my_df, cols = c(NA_Sales, JP_Sales, EU_Sales), 
                        names_to = "Sales_Type", values_to = "Sales")

ggplot(long_df, aes(x=Genre, y=Sales, color=Sales_Type)) +
  geom_boxplot(alpha=0.5) +
  geom_jitter(width=0.2, height=0, size=1.5) +
  theme_minimal(base_size = 14) +
  ggtitle("Comparative Video Game Sales by Genre across Regions") +
  xlab("Video Game Genre") + ylab("Sales (Millions)") +
  theme(axis.text.x = element_text(angle = 45, vjust = 0.5),
        legend.title = element_blank(),
        plot.title = element_text(face = "bold", size = 16),
        axis.title = element_text(size = 14))
```

**Figure 1:** It's a Jitter plot that represents the individual data points for video game sales (in millions) by their Genre from different Regions; these regions are NA (North America), EU (Europe), and JP (Japan). For marks I used Points to present my observations, and my channels are spatial position, shape and color.

```{r}
long_df <- pivot_longer(my_df, cols = c(NA_Sales, JP_Sales, EU_Sales, Other_Sales, Global_Sales), 
                        names_to = "Sales_Type", values_to = "Sales")

ggplot(long_df, aes(x=Genre, y=Sales, color=Sales_Type, shape=Sales_Type)) +
  geom_boxplot(alpha=0.5) +
  geom_jitter(width=0.2, height=0, size=2.5) +
  theme_minimal(base_size = 14) +
  ggtitle("Comparative Video Game Sales by Genre across Regions") +
  xlab("Video Game Genre") + ylab("Sales (Millions)") +
  theme(axis.text.x = element_text(angle = 45, vjust = 0.5),
        legend.title = element_blank(),
        plot.title = element_text(face = "bold", size = 16),
        axis.title = element_text(size = 14)) +
  scale_color_brewer(palette = "Set3") +
  guides(shape = guide_legend(override.aes = list(size = 6)))

```

**Figure 2:** For this second Jitter plot, I added more regions to compare the video game sales (in millions), so now we have the regions NA (North America), EU (Europe), JP (Japan), Other (other countries), and Global. The marks is still the same as the previous plot, but my channels I distorded. I changed the shape for each of the individual regions and its color. These makes it more distorted to understand the data.

## Discriminability

```{r}
title_platform<-my_df%>%
  select(Platform,Name)%>%
  group_by(Platform, Name)%>%
  summarise(count=n_distinct(Name))%>%
  group_by(Platform) %>%
  summarise(TotalCount = sum(count))

suppressMessages({title_platform<-my_df%>%
  select(Platform,Name)%>%
  group_by(Platform,Name)%>%
  summarise(count=n_distinct(Name))%>%
  group_by(Platform) %>%
  summarise(TotalCount = sum(count))})

library(ggplot2)

title_platform$Platform <- reorder(title_platform$Platform, title_platform$TotalCount)

library(ggplot2)

library(ggplot2)

ggplot(data = title_platform, aes(x = Platform, y = TotalCount, fill = Platform)) +
  geom_col(color = "black", width = 0.7) +
  ggtitle("Comparative Distribution of Game Titles Across Platforms") +
  xlab("Platform") + ylab("Game Titles") +
  scale_fill_viridis_d() +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 16),
    axis.title = element_text(size = 14),
    axis.text.x = element_text(angle = 45, hjust = 1),
    legend.position = "none"
  )
```

**Figure 3:** It's a Bar plot that represents the distribution of game title counts across from different platforms. For marks, I used "lines" to present my observations, and my channels are spatial position and color. The game title counts are ordered from lowest to highest according to their platform. It helps us to perceive how many games there are for each platform. Looking at the color range it's from dark blue to bright yellow, meaning that with a brighter color, we have more game titles for that specific platform. 

```{r}
ggplot(my_df, aes(x = Platform, fill = Platform)) +
  geom_bar(color = "black", width = 0.7) +
  ggtitle("Platform Distribution") +
  xlab("Platform") +
  ylab("Game Titles") +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5),
        axis.text.x = element_text(angle = 45, hjust = 1))
```

**Figure 4:** This second Bar plot is the same representation for the distribution of game title counts across from different platforms. I used the same marks and channels from the previous figure. The difference from the previous figure is that there's no order between game title counts regarding to platform. The color scheme has no meaning that helps as a guide to perceive the highest and lowest count, which just makes it difficult to perceive at first glance.  

## Seperability

```{r}
title_year_games <- my_df %>%
  select(Year, Genre) %>%
  count(Year, Genre)


library(ggplot2)
library(viridis)  # Load the viridis package for its color palettes

# Enhanced ggplot with the viridis color palette
ggplot(title_year_games, aes(x = Year, y = n, fill = Genre)) +
  geom_bar(stat = "identity", position = "stack", color = "grey80", size = 0.1) +  # Adding subtle borders
  scale_fill_viridis_d() +  # Use the viridis discrete color palette
  theme_minimal(base_size = 12) +  # Adjusting base font size for overall consistency
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1, size = 10, color = "grey20"),  # Enhancing x-axis labels
    axis.text.y = element_text(size = 10, color = "grey20"),  # Enhancing y-axis labels
    axis.title.x = element_text(size = 12, face = "bold", margin = margin(t = 10)),  # Styling x-axis title
    axis.title.y = element_text(size = 12, face = "bold", margin = margin(r = 10)),  # Styling y-axis title
    plot.title = element_text(size = 16, face = "bold", hjust = 0.5),  # Centering and emphasizing the plot title
    legend.position = "right",  # Adjusting legend position for better layout
    legend.title = element_text(size = 12),  # Styling the legend title for clarity
    legend.text = element_text(size = 10)  # Adjusting legend text size for readability
  ) +
  ggtitle("Number of Games per Genre per Year") +
  xlab("Year") +
  ylab("Number of Games") +
  scale_x_discrete(breaks = function(x) x[seq(1, length(x), by = 2)])

```

**Figure 5:** 

```{r}
title_year_games <- my_df %>%
  select(Year, Genre) %>%
  count(Year, Genre)

library(ggplot2)

# Example using title_year_games data frame
ggplot(title_year_games, aes(x = Year, y = n, fill = Genre)) +
  geom_bar(stat = "identity", position = "stack") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 45, hjust = 1, size = 10), # Rotate and adjust size of x-axis labels
    axis.title.x = element_text(size = 12),
    axis.title.y = element_text(size = 12)
  ) +
  ggtitle("Number of Games per Genre per Year") +
  xlab("Year") +
  ylab("Number of Games")
```

**Figure 6:** The stacked Bar Chart represents the number of games per genre per year. For marks, I used "lines" to present my observations, and my channels are spatial position and color. Looking at this chart it's difficult to distinguish the number of games per genre for some of the years. 

## Popout

**Figure 7:** 


```{r}
library(ggplot2)
library(reshape2)

title_sales <- my_df %>%
  select(Genre,NA_Sales, EU_Sales, JP_Sales) %>%
  group_by(Genre)

title_sales <- melt(title_sales, id.vars = "Genre", measure.vars = c("NA_Sales","EU_Sales","JP_Sales"))

ggplot(data = title_sales, aes(x = Genre, y = value, fill = variable)) +
  geom_col(position = "dodge", color = "black", width = 0.7) +
  ggtitle("Sales by Genre") +
  xlab("Genre") +
  ylab("Sales (per million)") +
  scale_fill_manual(values = c( "NA_Sales"="magenta","EU_Sales" = "purple", "JP_Sales" = "lightpink")) +
  theme_minimal() +
  theme(plot.title = element_text(hjust = 0.5),
        axis.text.x = element_text(angle = 45, hjust = 1))
```

**Figure 8:**
